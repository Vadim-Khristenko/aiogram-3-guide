{"config":{"lang":["en","ru","ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435","text":""},{"location":"#\u0434\u043e\u0431\u0440\u043e-\u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c","title":"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!","text":"<p>\u041f\u0435\u0440\u0435\u0434 \u0432\u0430\u043c\u0438 \u0442\u043e, \u0447\u0442\u043e \u044f, Groosha, \u043d\u0430\u0437\u044b\u0432\u0430\u044e \u043a\u043d\u0438\u0433\u043e\u0439 \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e Telegram-\u0431\u043e\u0442\u043e\u0432 \u043d\u0430 \u044f\u0437\u044b\u043a\u0435 Python \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e  \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 aiogram. \u0415\u0451 [\u043a\u043d\u0438\u0433\u0443] \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u043a\u0430\u043a \u0443\u0447\u0435\u0431\u043d\u044b\u0439 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b,  \u043e\u0431\u0440\u0430\u0449\u0430\u044f\u0441\u044c \u043a \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u043c \u0433\u043b\u0430\u0432\u0430\u043c \u043f\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438, \u043d\u043e \u0434\u043b\u044f \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0432 \u0442\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c  \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u0433\u043b\u0430\u0432\u044b \u0441\u043b\u0435\u0432\u0430 \u043e\u0442 \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u0430.</p> <p>\u042d\u0442\u043e \u0442\u0440\u0435\u0442\u044c\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u0433\u0430\u0439\u0434\u0430, \u043f\u0435\u0440\u0432\u0430\u044f \u0431\u044b\u043b\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u0432 2015-2017  \u0433\u043e\u0434\u0430\u0445 \u0434\u043b\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 pyTelegramBotAPI, \u0430  \u0432\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432 2019 \u0434\u043b\u044f aiogram 2.x.  \u0412 \u044d\u0442\u043e\u0439, \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u043a\u043d\u0438\u0433\u0438, \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c aiogram \u0432\u0435\u0440\u0441\u0438\u0438 3, \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u044b\u0439 \u0440\u0435\u043b\u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043b\u0441\u044f  1 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2023 \u0433\u043e\u0434\u0430.</p> <p>\u0414\u043b\u044f \u043a\u043e\u0433\u043e \u044d\u0442\u0430 \u043a\u043d\u0438\u0433\u0430? \u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u0432\u044b \u0437\u043d\u0430\u043a\u043e\u043c\u044b \u0441 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432 \u0446\u0435\u043b\u043e\u043c \u0438 \u044f\u0437\u044b\u043a\u043e\u043c Python \u0432 \u0447\u0430\u0441\u0442\u043d\u043e\u0441\u0442\u0438, \u0437\u043d\u0430\u0435\u0442\u0435, \u0447\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \"venv\" \u0438 \"pip\",  \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u043d\u044b \u043f\u043e\u043d\u044f\u0442\u044c \u0438 \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \"\u0434\u0435\u0442\u0441\u043a\u0438\u0435\" \u043e\u0448\u0438\u0431\u043a\u0438 \u0432\u0440\u043e\u0434\u0435 SyntaxError \u0438 IndentationError. \u041d\u0430\u0439\u0434\u0438\u0442\u0435 \u0432 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0435 \u043f\u0430\u0440\u0443 \u043a\u0443\u0440\u0441\u043e\u0432 \u043f\u043e Python, \u043f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u0438\u0445, \u0430 \u043b\u0438\u0448\u044c \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0439\u0442\u0435\u0441\u044c \u0437\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0431\u043e\u0442\u043e\u0432, \u0441\u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 \u0432\u0440\u0435\u043c\u044f \u0438 \u043d\u0435\u0440\u0432\u043d\u044b\u0435 \u043a\u043b\u0435\u0442\u043a\u0438.</p> <p>\u0412\u043e \u0432\u0441\u0435\u0445 \u0433\u043b\u0430\u0432\u0430\u0445 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 GNU/Linux,  \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, Ubuntu, Python 3.11 (\u0432 Virtual Environment) \u0438 \u0441\u0440\u0435\u0434\u0443 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438  PyCharm, \u0432\u043f\u0440\u043e\u0447\u0435\u043c, \u043d\u0435 \u0432\u043e\u0437\u0431\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0438 Visual Studio Code. \u041f\u0440\u0438 \u044d\u0442\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 Windows \u043d\u0435 \u0432 \u043f\u0440\u043e\u043b\u0451\u0442\u0435: \u0432\u0441\u0451, \u0447\u0442\u043e \u043a\u0430\u0441\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u0434\u0430, \u0431\u0443\u0434\u0435\u0442 \u0441\u043f\u043e\u043a\u043e\u0439\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0438 \u0443 \u0432\u0430\u0441, \u0430 \u0434\u043b\u044f \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0445 \u0432\u0435\u0449\u0435\u0439 \u0432\u0440\u043e\u0434\u0435 systemd \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Ubuntu \u0432 VirtualBox.</p> <p>\u0422\u0435\u043a\u0441\u0442 \u043a\u043d\u0438\u0433\u0438 \u0438 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u0442\u0435\u043a\u0441\u0442\u044b \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u043c \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438  \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b, \u0438\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u043f\u043e\u0434 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0435\u0439 MIT \u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043b\u044e\u0431\u043e\u043c\u0443 \u0434\u043b\u044f \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f, \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u043b\u044e\u0431\u044b\u0445 \u0446\u0435\u043b\u044f\u0445. </p> <p>\u0414\u043e\u043d\u0430\u0442\u044b \u041d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438 \u0430\u043a\u0442\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u043a\u043d\u0438\u0433\u0438 \u044f \u043f\u043e\u0442\u0440\u0430\u0442\u0438\u043b \u043e\u0447\u0435\u043d\u044c \u043c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0438 \u0441\u0438\u043b. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0437 \u0420\u043e\u0441\u0441\u0438\u0438 \u0438 \u0445\u043e\u0442\u0438\u0442\u0435  \u043e\u0442\u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0430 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044c\u043d\u043e, \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e \u0447\u0435\u0440\u0435\u0437 \u042e.Money  (\u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u0445, \u0447\u0442\u043e \u044d\u0442\u043e \u0437\u0430 \u043a\u043d\u0438\u0433\u0443).  \u0422\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043a\u0438\u043d\u0443\u0442\u044c \"\u0437\u0432\u0451\u0437\u0434\" \u0447\u0435\u0440\u0435\u0437 @GrooshaDonateBot.  \u041d\u0430 \u0432\u0441\u044f\u043a\u0438\u0439 \u0441\u043b\u0443\u0447\u0430\u0439 \u0443\u0442\u043e\u0447\u043d\u044e, \u0447\u0442\u043e \u043b\u044e\u0431\u043e\u0435 \u043f\u043e\u0436\u0435\u0440\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0434\u043e\u0431\u0440\u043e\u0432\u043e\u043b\u044c\u043d\u044b\u043c \u0438 \u043d\u0435 \u0434\u0430\u0451\u0442 \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432, \u043a\u0440\u043e\u043c\u0435 \u043f\u043b\u044e\u0441\u0438\u043a\u0430 \u0432 \u043a\u0430\u0440\u043c\u0443.</p> <p>\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u0438 \u0417\u0430 \u0442\u043e, \u0447\u0442\u043e \u044d\u0442\u0430 \u043a\u043d\u0438\u0433\u0430 \u0432 \u0435\u0451 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0432\u0438\u0434\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u043e \u0441\u0435\u0439 \u0434\u0435\u043d\u044c, \u0441\u043f\u0430\u0441\u0438\u0431\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044e aiogram  Alex JRootJunior, \u043a\u043e\u043d\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0440\u0430\u043c \u0432 \u0441\u0430\u043c aiogram  \u0438 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u043a\u043d\u0438\u0433\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u0430\u043c, \u0434\u043e\u0440\u043e\u0433\u0438\u0435 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0438!</p>"},{"location":"advanced-teaser/","title":"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c","text":""},{"location":"advanced-teaser/#\u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439-\u0443\u0440\u043e\u0432\u0435\u043d\u044c","title":"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c","text":"<p>BotAPI \u0443\u0436\u0435 \u0441\u0442\u0430\u043b \u0440\u043e\u0434\u043d\u044b\u043c? \u041d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0435 \u0441\u0432\u043e\u0439 \u0434\u0435\u043d\u044c \u0441 \u0447\u0442\u0435\u043d\u0438\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438? \u041f\u0440\u043e\u0441\u0442\u044b\u0435 \u0431\u043e\u0442\u044b \u043d\u0430\u0434\u043e\u0435\u043b\u0438,  \u0430 \u043a \u0441\u043b\u043e\u0436\u043d\u044b\u043c \u0441\u0442\u0440\u0430\u0448\u043d\u043e \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0430\u0442\u044c? </p> <p>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e \u0432\u0430\u0448\u0435\u043c\u0443 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u044e \u043d\u043e\u0432\u044b\u0439 \u043a\u0443\u0440\u0441 \u00ab\u0422\u0435\u043b\u0435\u0433\u0440\u0430\u043c-\u0431\u043e\u0442\u044b \u043d\u0430 Python: \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c\u00bb,  \u0433\u0434\u0435 \u044f \u0432\u044b\u0441\u0442\u0443\u043f\u0430\u044e \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u0430\u0432\u0442\u043e\u0440\u043e\u0432. \u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043a\u0443\u0440\u0441 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0440\u0430\u043d\u043d\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u0435, \u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e 80% \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430, \u043d\u043e  \u0432\u0441\u043a\u043e\u0440\u0435 \u043e\u043d \u043f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u043d\u043e\u0432\u044b\u043c\u0438 \u043c\u043e\u0434\u0443\u043b\u044f\u043c\u0438. \u0423\u0436\u0435 \u0441\u0435\u0439\u0447\u0430\u0441 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u043d\u0430\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u0433\u043e\u0434\u044f\u0442\u0441\u044f \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0431\u043e\u0442\u043e\u0432,  \u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u0438 \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445 \u043d\u0430 Python. </p> <p>\u0412\u043e\u0442 \u043b\u0438\u0448\u044c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b:</p> <ul> <li> <p> aiogram-dialog</p> <p>\u0421\u043e\u0437\u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0435 \u0438 \u0443\u0434\u043e\u0431\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u043e\u043a\u043d\u0430 \u043c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e  aiogram-dialog.</p> </li> <li> <p> \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435</p> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0439\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u043b\u043e\u0433\u0438\u043a\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430 \u0431\u0435\u0437 \u043c\u0443\u0442\u043e\u0440\u043d\u043e\u0433\u043e \u0440\u0443\u0447\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438    \u00ab\u043b\u043e\u0432\u043b\u0438 \u0431\u0430\u0433\u043e\u0432 \u043d\u0430 \u043f\u0440\u043e\u0434\u0435\u00bb.</p> </li> <li> <p> Docker</p> <p>\u0421\u043e\u0431\u0438\u0440\u0430\u0439\u0442\u0435 Docker-\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0438 \u0443\u0434\u043e\u0431\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u0438 \u043e\u0431\u043c\u0435\u043d\u0430  \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438. \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0431\u043e\u0440\u043a\u0443 \u0432 GitHub \u0438 GitLab. \u0420\u0430\u0431\u043e\u0442\u0430\u0439\u0442\u0435 \u0441 Docker Compose.</p> </li> <li> <p> \u041b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f </p> <p>\u0423\u0447\u0438\u0442\u0435 \u0441\u0432\u043e\u0438\u0445 \u0431\u043e\u0442\u043e\u0432 \u0433\u043e\u0432\u043e\u0440\u0438\u0442\u044c \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438 \u043d\u0430 \u0440\u0430\u0437\u043d\u044b\u0445 \u044f\u0437\u044b\u043a\u0430\u0445.  \u0412 \u044d\u0442\u043e\u043c \u0434\u0435\u043b\u0435 \u0432\u0430\u043c \u043f\u043e\u043c\u043e\u0433\u0443\u0442 Babel \u0438 Project Fluent.</p> </li> <li> <p> \u041e\u0447\u0435\u0440\u0435\u0434\u0438 </p> <p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0438 \u0431\u0440\u043e\u043a\u0435\u0440\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 (RabbitMQ, NATS), \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u043d\u043e\u0441\u0438\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0434\u043b\u044f  \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u044f \u043d\u0430\u0434\u0451\u0436\u043d\u043e\u0441\u0442\u0438 \u0438 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438.</p> </li> <li> <p> \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0421\u0423\u0411\u0414 </p> <p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043d\u0438\u043c\u0438  \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0438 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u0445 \u0438 \u0438\u0445 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0435</p> </li> </ul>"},{"location":"buttons/","title":"\u041a\u043d\u043e\u043f\u043a\u0438","text":""},{"location":"buttons/#\u043a\u043d\u043e\u043f\u043a\u0438","title":"\u041a\u043d\u043e\u043f\u043a\u0438","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f aiogram: 3.7.0</p> <p>\u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u043c\u0441\u044f \u0441 \u0442\u0430\u043a\u043e\u0439 \u0437\u0430\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0444\u0438\u0447\u0435\u0439 Telegram-\u0431\u043e\u0442\u043e\u0432 \u043a\u0430\u043a \u043a\u043d\u043e\u043f\u043a\u0438. \u041f\u0440\u0435\u0436\u0434\u0435 \u0432\u0441\u0435\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c  \u043f\u0443\u0442\u0430\u043d\u0438\u0446\u044b, \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u043c\u0441\u044f \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f\u043c\u0438. \u0422\u043e, \u0447\u0442\u043e \u0446\u0435\u043f\u043b\u044f\u0435\u0442\u0441\u044f \u043a \u043d\u0438\u0437\u0443 \u044d\u043a\u0440\u0430\u043d\u0430 \u0432\u0430\u0448\u0435\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430, \u0431\u0443\u0434\u0435\u043c \u043d\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043e\u0431\u044b\u0447\u043d\u044b\u043c\u0438  \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438, \u0430 \u0442\u043e, \u0447\u0442\u043e \u0446\u0435\u043f\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c, \u043d\u0430\u0437\u043e\u0432\u0451\u043c \u0438\u043d\u043b\u0430\u0439\u043d-\u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438. \u0415\u0449\u0451 \u0440\u0430\u0437 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u043e\u0439:  </p> <p></p>"},{"location":"buttons/#reply-buttons","title":"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u043a\u043d\u043e\u043f\u043a\u0438","text":""},{"location":"buttons/#reply-as-text","title":"\u041a\u043d\u043e\u043f\u043a\u0438 \u043a\u0430\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u044b","text":"<p>\u042d\u0442\u043e\u0442 \u0432\u0438\u0434 \u043a\u043d\u043e\u043f\u043e\u043a \u043f\u043e\u044f\u0432\u0438\u043b\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 Bot API \u0432 \u0434\u0430\u043b\u0451\u043a\u043e\u043c 2015 \u0433\u043e\u0434\u0443 \u0438 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043e\u0431\u043e\u0439 \u043d\u0435 \u0447\u0442\u043e \u0438\u043d\u043e\u0435, \u043a\u0430\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439  (\u0437\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043e\u0441\u043e\u0431\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u043d\u043e \u043e \u043d\u0438\u0445 \u043f\u043e\u0437\u0436\u0435). \u041f\u0440\u0438\u043d\u0446\u0438\u043f \u043f\u0440\u043e\u0441\u0442\u043e\u0439: \u0447\u0442\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043e \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0435, \u0442\u043e \u0438 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e  \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0447\u0430\u0442. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u0442\u0430\u043a\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u0438, \u0431\u043e\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0440\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0432\u0430\u0442\u044c \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. </p> <p>\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0445\u044d\u043d\u0434\u043b\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/start</code> \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u0434\u0432\u0443\u043c\u044f \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438:</p> <pre><code>@dp.message(Command(\"start\"))\nasync def cmd_start(message: types.Message):\n    kb = [\n        [types.KeyboardButton(text=\"\u0421 \u043f\u044e\u0440\u0435\u0448\u043a\u043e\u0439\")],\n        [types.KeyboardButton(text=\"\u0411\u0435\u0437 \u043f\u044e\u0440\u0435\u0448\u043a\u0438\")]\n    ]\n    keyboard = types.ReplyKeyboardMarkup(keyboard=kb)\n    await message.answer(\"\u041a\u0430\u043a \u043f\u043e\u0434\u0430\u0432\u0430\u0442\u044c \u043a\u043e\u0442\u043b\u0435\u0442\u044b?\", reply_markup=keyboard)\n</code></pre> <p>\u041d\u0435\u0441\u043c\u043e\u0442\u0440\u044f \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e Telegram Bot API \u0434\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c  \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u0442\u0440\u043e\u043a\u0438 \u0432\u043c\u0435\u0441\u0442\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 <code>KeyboardButton</code>, \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 aiogram 3.x \u0432\u044b\u043a\u0438\u043d\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443  \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u0438 \u044d\u0442\u043e \u043d\u0435 \u0431\u0430\u0433, \u0430 \u0444\u0438\u0447\u0430. \u0416\u0438\u0432\u0438\u0442\u0435 \u0442\u0435\u043f\u0435\u0440\u044c \u0441 \u044d\u0442\u0438\u043c \ud83e\udd37\u200d\u2642\ufe0f</p> <p>\u0427\u0442\u043e \u0436, \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c \u0431\u043e\u0442\u0430 \u0438 \u043e\u0431\u0430\u043b\u0434\u0435\u0435\u043c \u043e\u0442 \u0433\u0440\u043e\u043c\u0430\u0434\u043d\u044b\u0445 \u043a\u043d\u043e\u043f\u043e\u043a:</p> <p></p> <p>\u041a\u0430\u043a-\u0442\u043e \u043d\u0435\u043a\u0440\u0430\u0441\u0438\u0432\u043e. \u0412\u043e-\u043f\u0435\u0440\u0432\u044b\u0445, \u0445\u043e\u0447\u0435\u0442\u0441\u044f \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0438 \u043f\u043e\u043c\u0435\u043d\u044c\u0448\u0435, \u0430 \u0432\u043e-\u0432\u0442\u043e\u0440\u044b\u0445, \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u0438\u0445 \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e. \u041f\u043e\u0447\u0435\u043c\u0443 \u0432\u043e\u043e\u0431\u0449\u0435 \u043e\u043d\u0438 \u0442\u0430\u043a\u0438\u0435 \u0431\u043e\u043b\u044c\u0448\u0438\u0435? \u0414\u0435\u043b\u043e \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u00ab\u043a\u043d\u043e\u043f\u043e\u0447\u043d\u0430\u044f\u00bb \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c \u043d\u0430 \u0441\u043c\u0430\u0440\u0442\u0444\u043e\u043d\u0430\u0445 \u0441\u0442\u043e\u043b\u044c\u043a\u043e  \u0436\u0435 \u043c\u0435\u0441\u0442\u0430, \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438 \u043e\u0431\u044b\u0447\u043d\u0430\u044f \u0431\u0443\u043a\u0432\u0435\u043d\u043d\u0430\u044f. \u0414\u043b\u044f \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u043a \u043e\u0431\u044a\u0435\u043a\u0442\u0443 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439  \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>resize_keyboard=True</code>. \u041d\u043e \u043a\u0430\u043a \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u043d\u043e\u043f\u043a\u0438 \u043d\u0430 \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435? \u0421 \u0442\u043e\u0447\u043a\u0438 \u0437\u0440\u0435\u043d\u0438\u044f Bot API, \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430 \u2014 \u044d\u0442\u043e  \u043c\u0430\u0441\u0441\u0438\u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u043a\u043d\u043e\u043f\u043e\u043a, \u0430 \u0435\u0441\u043b\u0438 \u0433\u043e\u0432\u043e\u0440\u0438\u0442\u044c \u043f\u0440\u043e\u0449\u0435, \u043c\u0430\u0441\u0441\u0438\u0432 \u0440\u044f\u0434\u043e\u0432.  \u041f\u0435\u0440\u0435\u043f\u0438\u0448\u0435\u043c \u043d\u0430\u0448 \u043a\u043e\u0434, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u043e \u043a\u0440\u0430\u0441\u0438\u0432\u043e, \u0430 \u0434\u043b\u044f  \u043f\u0443\u0449\u0435\u0439 \u0432\u0430\u0436\u043d\u043e\u0441\u0442\u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>input_field_placeholder</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0437\u0430\u043c\u0435\u043d\u0438\u0442 \u0442\u0435\u043a\u0441\u0442 \u0432 \u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0435 \u0432\u0432\u043e\u0434\u0430,  \u043a\u043e\u0433\u0434\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u0430 \u043e\u0431\u044b\u0447\u043d\u0430\u044f \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430:</p> <pre><code>@dp.message(Command(\"start\"))\nasync def cmd_start(message: types.Message):\n    kb = [\n        [\n            types.KeyboardButton(text=\"\u0421 \u043f\u044e\u0440\u0435\u0448\u043a\u043e\u0439\"),\n            types.KeyboardButton(text=\"\u0411\u0435\u0437 \u043f\u044e\u0440\u0435\u0448\u043a\u0438\")\n        ],\n    ]\n    keyboard = types.ReplyKeyboardMarkup(\n        keyboard=kb,\n        resize_keyboard=True,\n        input_field_placeholder=\"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0434\u0430\u0447\u0438\"\n    )\n    await message.answer(\"\u041a\u0430\u043a \u043f\u043e\u0434\u0430\u0432\u0430\u0442\u044c \u043a\u043e\u0442\u043b\u0435\u0442\u044b?\", reply_markup=keyboard)\n</code></pre> <p>\u0421\u043c\u043e\u0442\u0440\u0438\u043c \u2014 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043a\u0440\u0430\u0441\u0438\u0432\u043e:</p> <p></p> <p>\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0443\u0447\u0438\u0442\u044c \u0431\u043e\u0442\u0430 \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u0442\u0430\u043a\u0438\u0445 \u043a\u043d\u043e\u043f\u043e\u043a. \u041a\u0430\u043a \u0443\u0436\u0435 \u0431\u044b\u043b\u043e \u0441\u043a\u0430\u0437\u0430\u043d\u043e \u0432\u044b\u0448\u0435, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443  \u043d\u0430 \u043f\u043e\u043b\u043d\u043e\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u0430. \u0421\u0434\u0435\u043b\u0430\u0435\u043c \u044d\u0442\u043e \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430 F, \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c  \u043f\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u043c \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043b\u0430\u0432\u0435:</p> <pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442!\nfrom aiogram import F\n\n@dp.message(F.text.lower() == \"\u0441 \u043f\u044e\u0440\u0435\u0448\u043a\u043e\u0439\")\nasync def with_puree(message: types.Message):\n    await message.reply(\"\u041e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440!\")\n\n@dp.message(F.text.lower() == \"\u0431\u0435\u0437 \u043f\u044e\u0440\u0435\u0448\u043a\u0438\")\nasync def without_puree(message: types.Message):\n    await message.reply(\"\u0422\u0430\u043a \u043d\u0435\u0432\u043a\u0443\u0441\u043d\u043e!\")\n</code></pre> <p></p> <p>\u0427\u0442\u043e\u0431\u044b \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0438, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043e \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u00ab\u0443\u0434\u0430\u043b\u044f\u044e\u0449\u0435\u0439\u00bb \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u043e\u0439 \u0442\u0438\u043f\u0430  <code>ReplyKeyboardRemove</code>. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: <code>await message.reply(\"\u041e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440!\", reply_markup=types.ReplyKeyboardRemove())</code></p>"},{"location":"buttons/#reply-builder","title":"Keyboard Builder","text":"<p>\u0414\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043a\u043d\u043e\u043f\u043e\u043a \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0431\u043e\u0440\u0449\u0438\u043a\u043e\u043c \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440. \u041d\u0430\u043c \u043f\u0440\u0438\u0433\u043e\u0434\u044f\u0442\u0441\u044f  \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u044b:</p> <ul> <li><code>add(&lt;KeyboardButton&gt;)</code> \u2014 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043a\u043d\u043e\u043f\u043a\u0443 \u0432 \u043f\u0430\u043c\u044f\u0442\u044c \u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0430;</li> <li><code>adjust(int1, int2, int3...)</code> \u2014 \u0434\u0435\u043b\u0430\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u0438 \u043f\u043e <code>int1, int2, int3...</code> \u043a\u043d\u043e\u043f\u043e\u043a;</li> <li><code>as_markup()</code> \u2014 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b;</li> <li><code>button(&lt;params&gt;)</code> \u2014 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043a\u043d\u043e\u043f\u043a\u0443 \u0441 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438, \u0442\u0438\u043f \u043a\u043d\u043e\u043f\u043a\u0438 (Reply \u0438\u043b\u0438 Inline) \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438.</li> </ul> <p>\u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043f\u0440\u043e\u043d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u0443\u044e \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c 4\u00d74:</p> <pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442!\nfrom aiogram.utils.keyboard import ReplyKeyboardBuilder\n\n@dp.message(Command(\"reply_builder\"))\nasync def reply_builder(message: types.Message):\n    builder = ReplyKeyboardBuilder()\n    for i in range(1, 17):\n        builder.add(types.KeyboardButton(text=str(i)))\n    builder.adjust(4)\n    await message.answer(\n        \"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e:\",\n        reply_markup=builder.as_markup(resize_keyboard=True),\n    )\n</code></pre> <p></p> <p>\u0423 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0435\u0441\u0442\u044c \u0435\u0449\u0451 \u0434\u0432\u0435 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0445 \u043e\u043f\u0446\u0438\u0438:  <code>one_time_keyboard</code> \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0441\u043a\u0440\u044b\u0442\u0438\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u044f \u0438 <code>selective</code> \u0434\u043b\u044f \u043f\u043e\u043a\u0430\u0437\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b  \u043b\u0438\u0448\u044c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430\u043c \u0433\u0440\u0443\u043f\u043f\u044b. \u0418\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0441\u0442\u0430\u0451\u0442\u0441\u044f \u0434\u043b\u044f \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f.</p>"},{"location":"buttons/#reply-special","title":"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043e\u0431\u044b\u0447\u043d\u044b\u0435 \u043a\u043d\u043e\u043f\u043a\u0438","text":"<p>\u041d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u044b \u0432 Telegram \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0448\u0435\u0441\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0432\u0438\u0434\u043e\u0432 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u043a\u043d\u043e\u043f\u043e\u043a, \u043d\u0435 \u044f\u0432\u043b\u044f\u044e\u0449\u0438\u0445\u0441\u044f  \u043e\u0431\u044b\u0447\u043d\u044b\u043c\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u043c\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439. \u041e\u043d\u0438 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u0434\u043b\u044f:</p> <ul> <li>\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u0438; </li> <li>\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u0432\u043e\u0435\u0433\u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430 \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430; </li> <li>\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u043f\u0440\u043e\u0441\u0430/\u0432\u0438\u043a\u0442\u043e\u0440\u0438\u043d\u044b; </li> <li>\u0432\u044b\u0431\u043e\u0440\u0430 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043d\u0443\u0436\u043d\u044b\u043c\u0438 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c\u0438;</li> <li>\u0432\u044b\u0431\u043e\u0440\u0430 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0431\u043e\u0442\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 (\u0441\u0443\u043f\u0435\u0440)\u0433\u0440\u0443\u043f\u043f\u044b \u0438\u043b\u0438 \u043a\u0430\u043d\u0430\u043b\u0430 \u0441 \u043d\u0443\u0436\u043d\u044b\u043c\u0438 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c\u0438;</li> <li>\u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (WebApp).</li> </ul> <p>\u041f\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u043c \u043f\u0440\u043e \u043d\u0438\u0445 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435.</p> <p>\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u0438. \u0417\u0434\u0435\u0441\u044c \u0432\u0441\u0451 \u043f\u0440\u043e\u0441\u0442\u043e: \u0433\u0434\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f, \u0442\u0435 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442.  \u042d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0433\u0435\u043e, \u0430 \u043d\u0435 Live Location, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438. \u0420\u0430\u0437\u0443\u043c\u0435\u0435\u0442\u0441\u044f, \u0445\u0438\u0442\u0440\u044b\u0435 \u044e\u0437\u0435\u0440\u044b  \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0434\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0451 \u043c\u0435\u0441\u0442\u043e\u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435, \u0438\u043d\u043e\u0433\u0434\u0430 \u0434\u0430\u0436\u0435 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0432\u0441\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b (Android).  </p> <p>\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u0432\u043e\u0435\u0433\u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430 \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430. \u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 (\u0441 \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435\u043c)  \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u0432\u043e\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0431\u043e\u0442\u0443. \u0422\u0435 \u0436\u0435 \u0445\u0438\u0442\u0440\u044b\u0435 \u044e\u0437\u0435\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443  \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043b\u044e\u0431\u043e\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442, \u043d\u043e \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430 \u043d\u0438\u0445 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0443\u043f\u0440\u0430\u0432\u0443: \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0435 \u0438\u043b\u0438  \u0432 \u0444\u0438\u043b\u044c\u0442\u0440\u0435 \u0440\u0430\u0432\u0435\u043d\u0441\u0442\u0432\u043e <code>message.contact.user_id == message.from_user.id</code>.</p> <p>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u043f\u0440\u043e\u0441\u0430/\u0432\u0438\u043a\u0442\u043e\u0440\u0438\u043d\u044b. \u041f\u043e \u043d\u0430\u0436\u0430\u0442\u0438\u044e \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u043f\u0440\u043e\u0441 \u0438\u043b\u0438 \u0432\u0438\u043a\u0442\u043e\u0440\u0438\u043d\u0443, \u043a\u043e\u0442\u043e\u0440\u044b\u0435  \u043f\u043e\u0442\u043e\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u044f\u0442\u0441\u044f \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0447\u0430\u0442. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c  \u043e\u0431\u044a\u0435\u043a\u0442 KeyboardButtonPollType,  \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 <code>type</code> \u0441\u043b\u0443\u0436\u0438\u0442 \u0434\u043b\u044f \u0443\u0442\u043e\u0447\u043d\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u043e\u043f\u0440\u043e\u0441\u0430 (\u043e\u043f\u0440\u043e\u0441 \u0438\u043b\u0438 \u0432\u0438\u043a\u0442\u043e\u0440\u0438\u043d\u0430).</p> <p>\u0412\u044b\u0431\u043e\u0440 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0431\u043e\u0442\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043d\u0443\u0436\u043d\u044b\u043c\u0438 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c\u0438. \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u043a\u043d\u043e \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0447\u0430\u0442\u043e\u0432  \u044e\u0437\u0435\u0440\u0430, \u043d\u0430\u0436\u0430\u0432\u0448\u0435\u0433\u043e \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442  KeyboardButtonRequestUser, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c  \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043b\u044e\u0431\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0430\u0439\u0434\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"\u0431\u043e\u0442\", \"\u0435\u0441\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 Telegram Premium\" \u0438 \u0442.\u0434.  \u041f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u044e\u0437\u0435\u0440\u0430 \u0431\u043e\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c UserShared.</p> <p>\u0412\u044b\u0431\u043e\u0440 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0431\u043e\u0442\u0443 \u0447\u0430\u0442\u0430 \u0441 \u043d\u0443\u0436\u043d\u044b\u043c\u0438 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c\u0438. \u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u043a\u043d\u043e \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0447\u0430\u0442\u043e\u0432  \u044e\u0437\u0435\u0440\u0430, \u043d\u0430\u0436\u0430\u0432\u0448\u0435\u0433\u043e \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442  KeyboardButtonRequestChat, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c  \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043b\u044e\u0431\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0430\u0439\u0434\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \"\u0433\u0440\u0443\u043f\u043f\u0430 \u0438\u043b\u0438 \u043a\u0430\u043d\u0430\u043b\", \"\u044e\u0437\u0435\u0440 \u2014 \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c \u0447\u0430\u0442\u0430\" \u0438 \u0442.\u0434. \u041f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u044e\u0437\u0435\u0440\u0430 \u0431\u043e\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c ChatShared.</p> <p>\u0417\u0430\u043f\u0443\u0441\u043a \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (WebApp). \u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442 WebApp.  \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 WebAppInfo.  \u0412 \u044d\u0442\u043e\u0439 \u043a\u043d\u0438\u0433\u0435 \u0432\u0435\u0431-\u0430\u043f\u043f\u044b \u043f\u043e\u043a\u0430 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u0431\u0443\u0434\u0443\u0442.</p> <p>\u0412\u043f\u0440\u043e\u0447\u0435\u043c, \u043f\u0440\u043e\u0449\u0435 \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043a\u043e\u0434: </p><pre><code>@dp.message(Command(\"special_buttons\"))\nasync def cmd_special_buttons(message: types.Message):\n    builder = ReplyKeyboardBuilder()\n    # \u043c\u0435\u0442\u043e\u0434 row \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u044f\u0432\u043d\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u044f\u0434\n    # \u0438\u0437 \u043e\u0434\u043d\u043e\u0439 \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043a\u043d\u043e\u043f\u043e\u043a. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u0435\u0440\u0432\u044b\u0439 \u0440\u044f\u0434\n    # \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u0434\u0432\u0443\u0445 \u043a\u043d\u043e\u043f\u043e\u043a...\n    builder.row(\n        types.KeyboardButton(text=\"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044e\", request_location=True),\n        types.KeyboardButton(text=\"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0430\u043a\u0442\", request_contact=True)\n    )\n    # ... \u0432\u0442\u043e\u0440\u043e\u0439 \u0438\u0437 \u043e\u0434\u043d\u043e\u0439 ...\n    builder.row(types.KeyboardButton(\n        text=\"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432\u0438\u043a\u0442\u043e\u0440\u0438\u043d\u0443\",\n        request_poll=types.KeyboardButtonPollType(type=\"quiz\"))\n    )\n    # ... \u0430 \u0442\u0440\u0435\u0442\u0438\u0439 \u0441\u043d\u043e\u0432\u0430 \u0438\u0437 \u0434\u0432\u0443\u0445\n    builder.row(\n        types.KeyboardButton(\n            text=\"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0435\u043c\u0438\u0443\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\",\n            request_user=types.KeyboardButtonRequestUser(\n                request_id=1,\n                user_is_premium=True\n            )\n        ),\n        types.KeyboardButton(\n            text=\"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0443 \u0441 \u0444\u043e\u0440\u0443\u043c\u0430\u043c\u0438\",\n            request_chat=types.KeyboardButtonRequestChat(\n                request_id=2,\n                chat_is_channel=False,\n                chat_is_forum=True\n            )\n        )\n    )\n    # WebApp-\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442, \u0441\u043e\u0440\u0440\u0438 :(\n\n    await message.answer(\n        \"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435:\",\n        reply_markup=builder.as_markup(resize_keyboard=True),\n    )\n</code></pre> <p></p> <p>\u041d\u0430\u043f\u043e\u0441\u043b\u0435\u0434\u043e\u043a, \u0434\u0432\u0435 \u0437\u0430\u0433\u043e\u0442\u043e\u0432\u043a\u0438 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u043d\u0430 \u043f\u0440\u0438\u0451\u043c \u043d\u0430\u0436\u0430\u0442\u0438\u0439 \u043e\u0442 \u043d\u0438\u0436\u043d\u0438\u0445 \u0434\u0432\u0443\u0445 \u043a\u043d\u043e\u043f\u043e\u043a:</p> <pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442\nfrom aiogram import F\n\n@dp.message(F.user_shared)\nasync def on_user_shared(message: types.Message):\n    print(\n        f\"Request {message.user_shared.request_id}. \"\n        f\"User ID: {message.user_shared.user_id}\"\n    )\n\n\n@dp.message(F.chat_shared)\nasync def on_user_shared(message: types.Message):\n    print(\n        f\"Request {message.chat_shared.request_id}. \"\n        f\"User ID: {message.chat_shared.chat_id}\"\n    )\n</code></pre>"},{"location":"buttons/#inline-buttons","title":"\u0418\u043d\u043b\u0430\u0439\u043d-\u043a\u043d\u043e\u043f\u043a\u0438","text":""},{"location":"buttons/#url-buttons","title":"URL-\u043a\u043d\u043e\u043f\u043a\u0438","text":"<p>\u0412 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u043a\u043d\u043e\u043f\u043e\u043a, \u0438\u043d\u043b\u0430\u0439\u043d\u043e\u0432\u044b\u0435 \u0446\u0435\u043f\u043b\u044f\u044e\u0442\u0441\u044f \u043d\u0435 \u043a \u043d\u0438\u0437\u0443 \u044d\u043a\u0440\u0430\u043d\u0430, \u0430 \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044e, \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0431\u044b\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b.  \u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0434\u0432\u0430 \u0442\u0438\u043f\u0430 \u0442\u0430\u043a\u0438\u0445 \u043a\u043d\u043e\u043f\u043e\u043a: URL \u0438 Callback. \u0415\u0449\u0451 \u043e\u0434\u0438\u043d \u2014 Switch \u2014 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d  \u0432 \u0433\u043b\u0430\u0432\u0435 \u043f\u0440\u043e \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c.</p> <p>Login- \u0438 Pay-\u043a\u043d\u043e\u043f\u043a\u0438 \u0432 \u043a\u043d\u0438\u0433\u0435 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0432\u043e\u043e\u0431\u0449\u0435. \u0415\u0441\u043b\u0438 \u0443 \u043a\u043e\u0433\u043e-\u0442\u043e \u0435\u0441\u0442\u044c \u0436\u0435\u043b\u0430\u043d\u0438\u0435 \u043f\u043e\u043c\u043e\u0447\u044c \u0445\u043e\u0442\u044f \u0431\u044b  \u0441 \u0440\u0430\u0431\u043e\u0447\u0438\u043c \u043a\u043e\u0434\u043e\u043c \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0438\u043b\u0438 \u043e\u043f\u043b\u0430\u0442\u044b, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 Pull Request \u043d\u0430  GitHub. \u0421\u043f\u0430\u0441\u0438\u0431\u043e!</p> <p>\u0421\u0430\u043c\u044b\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0438\u043d\u043b\u0430\u0439\u043d-\u043a\u043d\u043e\u043f\u043a\u0438 \u043e\u0442\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u043a \u0442\u0438\u043f\u0443 URL, \u0442.\u0435. \u00ab\u0441\u0441\u044b\u043b\u043a\u0430\u00bb. \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u044b HTTP(S) \u0438 tg://</p> <pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442\nfrom aiogram.utils.keyboard import InlineKeyboardBuilder\n\n@dp.message(Command(\"inline_url\"))\nasync def cmd_inline_url(message: types.Message, bot: Bot):\n    builder = InlineKeyboardBuilder()\n    builder.row(types.InlineKeyboardButton(\n        text=\"GitHub\", url=\"https://github.com\")\n    )\n    builder.row(types.InlineKeyboardButton(\n        text=\"\u041e\u0444. \u043a\u0430\u043d\u0430\u043b Telegram\",\n        url=\"tg://resolve?domain=telegram\")\n    )\n\n    # \u0427\u0442\u043e\u0431\u044b \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c ID-\u043a\u043d\u043e\u043f\u043a\u0443,\n    # \u0423 \u044e\u0437\u0435\u0440\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c False \u0444\u043b\u0430\u0433 has_private_forwards\n    user_id = 1234567890\n    chat_info = await bot.get_chat(user_id)\n    if not chat_info.has_private_forwards:\n        builder.row(types.InlineKeyboardButton(\n            text=\"\u041a\u0430\u043a\u043e\u0439-\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\",\n            url=f\"tg://user?id={user_id}\")\n        )\n\n    await message.answer(\n        '\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443',\n        reply_markup=builder.as_markup(),\n    )\n</code></pre> <p>\u041e\u0442\u0434\u0435\u043b\u044c\u043d\u043e \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u0441\u044f \u043d\u0430 \u0441\u0440\u0435\u0434\u043d\u0435\u043c \u0431\u043b\u043e\u043a\u0435 \u043a\u043e\u0434\u0430. \u0414\u0435\u043b\u043e \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0432 \u043c\u0430\u0440\u0442\u0435 2019 \u0433\u043e\u0434\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 Telegram  \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0445\u043e\u0434  \u043a \u043f\u0440\u043e\u0444\u0438\u043b\u044e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0443 \u043f\u0435\u0440\u0435\u0441\u043b\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u041f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c URL-\u043a\u043d\u043e\u043f\u043a\u0443 \u0441 ID \u044e\u0437\u0435\u0440\u0430, \u0443 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d  \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043f\u043e \u0444\u043e\u0440\u0432\u0430\u0440\u0434\u0443, \u0431\u043e\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 <code>Bad Request: BUTTON_USER_PRIVACY_RESTRICTED</code>. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u043f\u0440\u0435\u0436\u0434\u0435 \u0447\u0435\u043c  \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u0430\u043a\u0443\u044e \u043a\u043d\u043e\u043f\u043a\u0443, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u044f\u0441\u043d\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434  getChat \u0438 \u0432 \u043e\u0442\u0432\u0435\u0442\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043f\u043e\u043b\u044f <code>has_private_forwards</code>.  \u0415\u0441\u043b\u0438 \u043e\u043d\u043e \u0440\u0430\u0432\u043d\u043e <code>True</code>, \u0437\u043d\u0430\u0447\u0438\u0442, \u043f\u043e\u043f\u044b\u0442\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c URL-ID \u043a\u043d\u043e\u043f\u043a\u0443 \u043f\u0440\u0438\u0432\u0435\u0434\u0451\u0442 \u043a \u043e\u0448\u0438\u0431\u043a\u0435. </p>"},{"location":"buttons/#callback-buttons","title":"\u041a\u043e\u043b\u0431\u044d\u043a\u0438","text":"<p>\u0421 URL-\u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0430\u0442\u044c, \u043f\u043e \u0441\u0443\u0442\u0438, \u043d\u0435\u0447\u0435\u0433\u043e, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043f\u0435\u0440\u0435\u0439\u0434\u0451\u043c \u043a \u0433\u0432\u043e\u0437\u0434\u044e \u0441\u0435\u0433\u043e\u0434\u043d\u044f\u0448\u043d\u0435\u0439 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u2014 Callback-\u043a\u043d\u043e\u043f\u043a\u0430\u043c.  \u042d\u0442\u043e \u043e\u0447\u0435\u043d\u044c \u043c\u043e\u0449\u043d\u0430\u044f \u0448\u0442\u0443\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0441\u0442\u0440\u0435\u0442\u0438\u0442\u044c \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0435\u0437\u0434\u0435. \u041a\u043d\u043e\u043f\u043a\u0438-\u0440\u0435\u0430\u043a\u0446\u0438\u0438 \u0443 \u043f\u043e\u0441\u0442\u043e\u0432 (\u043b\u0430\u0439\u043a\u0438), \u043c\u0435\u043d\u044e \u0443 @BotFather  \u0438 \u0442.\u0434. \u0421\u0443\u0442\u044c \u0432 \u0447\u0451\u043c: \u0443 \u043a\u043e\u043b\u0431\u044d\u043a-\u043a\u043d\u043e\u043f\u043e\u043a \u0435\u0441\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 (data), \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0432\u0430\u0448\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043e\u043f\u043e\u0437\u043d\u0430\u0451\u0442, \u0447\u0442\u043e \u043d\u0430\u0436\u0430\u0442\u043e \u0438 \u0447\u0442\u043e \u043d\u0430\u0434\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c.  \u0418 \u0432\u044b\u0431\u043e\u0440 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e data \u043e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u0435\u043d! \u0421\u0442\u043e\u0438\u0442 \u0442\u0430\u043a\u0436\u0435 \u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c, \u0447\u0442\u043e, \u0432 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u043a\u043d\u043e\u043f\u043e\u043a, \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043d\u0430 \u043a\u043e\u043b\u0431\u044d\u043a-\u043a\u043d\u043e\u043f\u043a\u0443  \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0447\u0442\u043e \u0443\u0433\u043e\u0434\u043d\u043e, \u043e\u0442 \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u0438\u0446\u0446\u044b \u0434\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0435 \u0441\u0443\u043f\u0435\u0440\u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043e\u0432.</p> <p>\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0445\u044d\u043d\u0434\u043b\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0435 <code>/random</code> \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u043a\u043e\u043b\u0431\u044d\u043a-\u043a\u043d\u043e\u043f\u043a\u043e\u0439: </p><pre><code>@dp.message(Command(\"random\"))\nasync def cmd_random(message: types.Message):\n    builder = InlineKeyboardBuilder()\n    builder.add(types.InlineKeyboardButton(\n        text=\"\u041d\u0430\u0436\u043c\u0438 \u043c\u0435\u043d\u044f\",\n        callback_data=\"random_value\")\n    )\n    await message.answer(\n        \"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443, \u0447\u0442\u043e\u0431\u044b \u0431\u043e\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b \u0447\u0438\u0441\u043b\u043e \u043e\u0442 1 \u0434\u043e 10\",\n        reply_markup=builder.as_markup()\n    )\n</code></pre> <p>\u041d\u043e \u043a\u0430\u043a \u0436\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0430\u0436\u0430\u0442\u0438\u0435? \u0415\u0441\u043b\u0438 \u0440\u0430\u043d\u044c\u0448\u0435 \u043c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 <code>message</code> \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439, \u0442\u043e \u0442\u0435\u043f\u0435\u0440\u044c  \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 <code>callback_query</code> \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043a\u043e\u043b\u0431\u044d\u043a\u043e\u0432. \u041e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0431\u0443\u0434\u0435\u043c \u043d\u0430 \u00ab\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u00bb \u043a\u043d\u043e\u043f\u043a\u0438, \u0442.\u0435. \u043d\u0430  \u0435\u0451 data:</p> <pre><code>@dp.callback_query(F.data == \"random_value\")\nasync def send_random_value(callback: types.CallbackQuery):\n    await callback.message.answer(str(randint(1, 10)))\n</code></pre> <p></p> <p>\u041e\u0439, \u0430 \u0447\u0442\u043e \u044d\u0442\u043e \u0437\u0430 \u0447\u0430\u0441\u0438\u043a\u0438? \u041e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f, \u0441\u0435\u0440\u0432\u0435\u0440 Telegram \u0436\u0434\u0451\u0442 \u043e\u0442 \u043d\u0430\u0441 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043e \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435 \u043a\u043e\u043b\u0431\u044d\u043a\u0430, \u0438\u043d\u0430\u0447\u0435 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 30  \u0441\u0435\u043a\u0443\u043d\u0434 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u0443\u044e \u0438\u043a\u043e\u043d\u043a\u0443. \u0427\u0442\u043e\u0431\u044b \u0441\u043a\u0440\u044b\u0442\u044c \u0447\u0430\u0441\u0438\u043a\u0438, \u043d\u0443\u0436\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434 <code>answer()</code> \u0443 \u043a\u043e\u043b\u0431\u044d\u043a\u0430 (\u0438\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c  \u043c\u0435\u0442\u043e\u0434 API <code>answer_callback_query()</code>). \u0412 \u043e\u0431\u0449\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u0432 \u043c\u0435\u0442\u043e\u0434 <code>answer()</code> \u043c\u043e\u0436\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c, \u043d\u043e \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c  \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043e\u0448\u043a\u043e (\u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u0441\u0432\u0435\u0440\u0445\u0443 \u0438\u043b\u0438 \u043f\u043e\u0432\u0435\u0440\u0445 \u044d\u043a\u0440\u0430\u043d\u0430):</p> <pre><code>@dp.callback_query(F.data == \"random_value\")\nasync def send_random_value(callback: types.CallbackQuery):\n    await callback.message.answer(str(randint(1, 10)))\n    await callback.answer(\n        text=\"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438\u0441\u044c \u0431\u043e\u0442\u043e\u043c!\",\n        show_alert=True\n    )\n    # \u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e await callback.answer()\n</code></pre> <p></p> <p>\u0423 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f \u043c\u043e\u0436\u0435\u0442 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u0443\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441: \u0432 \u043a\u0430\u043a\u043e\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c \u043d\u0430 \u043a\u043e\u043b\u0431\u044d\u043a \u043c\u0435\u0442\u043e\u0434\u043e\u043c <code>answer()</code>? \u0412 \u043e\u0431\u0449\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u0433\u043b\u0430\u0432\u043d\u043e\u0435 \u2014 \u043f\u0440\u043e\u0441\u0442\u043e \u043d\u0435 \u0437\u0430\u0431\u044b\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u044c Telegram \u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043a\u043e\u043b\u0431\u044d\u043a-\u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043d\u043e \u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u0441\u0442\u0430\u0432\u0438\u0442\u044c      \u0432\u044b\u0437\u043e\u0432 <code>answer()</code> \u0432 \u0441\u0430\u043c\u043e\u043c \u043a\u043e\u043d\u0446\u0435, \u0438 \u0432\u043e\u0442 \u043f\u043e\u0447\u0435\u043c\u0443: \u0435\u0441\u043b\u0438 \u0432\u0434\u0440\u0443\u0433 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043a\u043e\u043b\u0431\u044d\u043a\u0430 \u0441\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u043a\u0430\u043a\u0430\u044f-\u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430 \u0438      \u0431\u043e\u0442 \u043d\u0430\u0440\u0432\u0451\u0442\u0441\u044f \u043d\u0430 \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u043e\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435, \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0432\u0438\u0434\u0438\u0442 \u043d\u0435\u0443\u0431\u0438\u0440\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u043f\u043e\u043b\u043c\u0438\u043d\u0443\u0442\u044b \u0447\u0430\u0441\u0438\u043a\u0438 \u0438 \u043f\u043e\u0439\u043c\u0451\u0442, \u0447\u0442\u043e \u0447\u0442\u043e-\u0442\u043e      \u043d\u0435 \u0442\u0430\u043a. \u0412 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0447\u0430\u0441\u0438\u043a\u0438 \u0438\u0441\u0447\u0435\u0437\u043d\u0443\u0442, \u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u0441\u0442\u0430\u043d\u0435\u0442\u0441\u044f \u0432 \u043d\u0435\u0432\u0435\u0434\u0435\u043d\u0438\u0438, \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u043b\u0441\u044f \u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u043b\u0438 \u043d\u0435\u0442.</p> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435</p> <p>\u0412 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>send_random_value</code> \u043c\u044b \u0432\u044b\u0437\u044b\u0432\u0430\u043b\u0438 \u043c\u0435\u0442\u043e\u0434 <code>answer()</code> \u043d\u0435 \u0443 <code>message</code>, \u0430 \u0443 <code>callback.message</code>. \u042d\u0442\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043e \u0441 \u0442\u0435\u043c,  \u0447\u0442\u043e \u043a\u043e\u043b\u0431\u044d\u043a-\u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043d\u0435 \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c\u0438 (\u0442\u0438\u043f Message),  \u0430 \u0441 \u043a\u043e\u043b\u0431\u044d\u043a\u0430\u043c\u0438 (\u0442\u0438\u043f CallbackQuery), \u0443 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u043e\u043b\u044f, \u0438  \u0441\u0430\u043c\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u2014 \u0432\u0441\u0435\u0433\u043e \u043b\u0438\u0448\u044c \u0435\u0433\u043e \u0447\u0430\u0441\u0442\u044c. \u0423\u0447\u0442\u0438\u0442\u0435 \u0442\u0430\u043a\u0436\u0435, \u0447\u0442\u043e <code>message</code> \u2014 \u044d\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0431\u044b\u043b\u0430 \u043f\u0440\u0438\u0446\u0435\u043f\u043b\u0435\u043d\u0430  \u043a\u043d\u043e\u043f\u043a\u0430 (\u0442.\u0435. \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c \u0442\u0430\u043a\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u2014 \u0441\u0430\u043c \u0431\u043e\u0442). \u0415\u0441\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0437\u043d\u0430\u0442\u044c, \u043a\u0442\u043e \u043d\u0430\u0436\u0430\u043b \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443, \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435  \u043f\u043e\u043b\u0435 <code>from</code> (\u0432 \u0432\u0430\u0448\u0435\u043c \u043a\u043e\u0434\u0435 \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 <code>callback.from_user</code>, \u0442.\u043a. \u0441\u043b\u043e\u0432\u043e <code>from</code> \u0437\u0430\u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 Python)</p> <p>\u041f\u0440\u043e \u043e\u0431\u044a\u0435\u043a\u0442 <code>message</code> \u0432 \u043a\u043e\u043b\u0431\u044d\u043a\u0435</p> <p>\u0415\u0441\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0437 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0430, \u0442\u043e \u043f\u043e\u043b\u0435 <code>message</code> \u0443 \u043a\u043e\u043b\u0431\u044d\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u0443\u0441\u0442\u044b\u043c.  \u0423 \u0432\u0430\u0441 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0442\u0430\u043a\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0435\u0441\u043b\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u0440\u0430\u043d\u0435\u0435 \u0433\u0434\u0435-\u0442\u043e \u0435\u0433\u043e \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c.</p> <p>\u041f\u0435\u0440\u0435\u0439\u0434\u0451\u043c \u043a \u043f\u0440\u0438\u043c\u0435\u0440\u0443 \u043f\u043e\u0441\u043b\u043e\u0436\u043d\u0435\u0435. \u041f\u0443\u0441\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u0447\u0438\u0441\u043b\u043e\u043c 0, \u0430 \u0432\u043d\u0438\u0437\u0443 \u0442\u0440\u0438 \u043a\u043d\u043e\u043f\u043a\u0438: +1, -1 \u0438 \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c.  \u041f\u0435\u0440\u0432\u044b\u043c\u0438 \u0434\u0432\u0443\u043c\u044f \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0447\u0438\u0441\u043b\u043e, \u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u0432\u0441\u044e \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443, \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f. \u0425\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0435\u043c  \u0432 \u043f\u0430\u043c\u044f\u0442\u0438 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u0435 (\u043f\u0440\u043e \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u044b \u043f\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u043c \u043a\u0430\u043a-\u043d\u0438\u0431\u0443\u0434\u044c \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0440\u0430\u0437).</p> <pre><code># \u0417\u0434\u0435\u0441\u044c \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435.\n# \u0422.\u043a. \u044d\u0442\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0432 \u043f\u0430\u043c\u044f\u0442\u0438, \u0442\u043e \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u043e\u043d \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u0441\u044f\nuser_data = {}\n\ndef get_keyboard():\n    buttons = [\n        [\n            types.InlineKeyboardButton(text=\"-1\", callback_data=\"num_decr\"),\n            types.InlineKeyboardButton(text=\"+1\", callback_data=\"num_incr\")\n        ],\n        [types.InlineKeyboardButton(text=\"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c\", callback_data=\"num_finish\")]\n    ]\n    keyboard = types.InlineKeyboardMarkup(inline_keyboard=buttons)\n    return keyboard\n\n\nasync def update_num_text(message: types.Message, new_value: int):\n    await message.edit_text(\n        f\"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e: {new_value}\",\n        reply_markup=get_keyboard()\n    )\n\n\n@dp.message(Command(\"numbers\"))\nasync def cmd_numbers(message: types.Message):\n    user_data[message.from_user.id] = 0\n    await message.answer(\"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e: 0\", reply_markup=get_keyboard())\n\n\n@dp.callback_query(F.data.startswith(\"num_\"))\nasync def callbacks_num(callback: types.CallbackQuery):\n    user_value = user_data.get(callback.from_user.id, 0)\n    action = callback.data.split(\"_\")[1]\n\n    if action == \"incr\":\n        user_data[callback.from_user.id] = user_value+1\n        await update_num_text(callback.message, user_value+1)\n    elif action == \"decr\":\n        user_data[callback.from_user.id] = user_value-1\n        await update_num_text(callback.message, user_value-1)\n    elif action == \"finish\":\n        await callback.message.edit_text(f\"\u0418\u0442\u043e\u0433\u043e: {user_value}\")\n\n    await callback.answer()\n</code></pre> <p>\u0418, \u043a\u0430\u0437\u0430\u043b\u043e\u0441\u044c \u0431\u044b, \u0432\u0441\u0451 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442: </p> <p></p> <p>\u041d\u043e \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c, \u0447\u0442\u043e \u0443\u0448\u043b\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u0434\u0435\u043b\u0430\u043b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435: \u0432\u044b\u0437\u0432\u0430\u043b \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/numbers</code> (\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 0), \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u043b \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435  \u0434\u043e 1, \u0441\u043d\u043e\u0432\u0430 \u0432\u044b\u0437\u0432\u0430\u043b <code>/numbers</code> (\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u043b\u043e\u0441\u044c \u0434\u043e 0) \u0438 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b \u0438 \u043d\u0430\u0436\u0430\u043b \u043a\u043d\u043e\u043f\u043a\u0443 \"+1\" \u043d\u0430 \u043f\u0435\u0440\u0432\u043e\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438.  \u0427\u0442\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0451\u0442? \u0411\u043e\u0442 \u043f\u043e-\u0447\u0435\u0441\u0442\u043d\u043e\u043c\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u0430 \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c 1, \u043d\u043e \u0442.\u043a. \u043d\u0430 \u0442\u043e\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438  \u0443\u0436\u0435 \u0441\u0442\u043e\u0438\u0442 \u0446\u0438\u0444\u0440\u0430 1, \u0442\u043e Bot API \u0432\u0435\u0440\u043d\u0451\u0442 \u043e\u0448\u0438\u0431\u043a\u0443, \u0447\u0442\u043e \u0441\u0442\u0430\u0440\u044b\u0439 \u0438 \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u043a\u0441\u0442\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442, \u0430 \u0431\u043e\u0442 \u0441\u043b\u043e\u0432\u0438\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435:  <code>Bad Request: message is not modified: specified new message content and reply markup are exactly the same  as a current content and reply markup of the message</code></p> <p></p> <p>\u0421 \u044d\u0442\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 \u0432\u044b, \u0441\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e, \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u043e\u043d\u0430\u0447\u0430\u043b\u0443 \u0447\u0430\u0441\u0442\u043e \u0441\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u0442\u044c\u0441\u044f, \u043f\u044b\u0442\u0430\u044f\u0441\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f.  \u0412\u043e\u043e\u0431\u0449\u0435 \u0433\u043e\u0432\u043e\u0440\u044f, \u043f\u043e\u0434\u043e\u0431\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0447\u0430\u0441\u0442\u043e \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u0445 \u0441 \u043b\u043e\u0433\u0438\u043a\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438/\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438, \u043d\u043e \u0438\u043d\u043e\u0433\u0434\u0430,  \u043a\u0430\u043a \u0432 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0432\u044b\u0448\u0435, \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\u043c. </p> <p>\u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u043c \u043e\u0448\u0438\u0431\u043a\u0443 \u0446\u0435\u043b\u0438\u043a\u043e\u043c, \u0442.\u043a. \u043d\u0430\u043c \u0432\u0430\u0436\u0435\u043d  \u043b\u0438\u0448\u044c \u0438\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0442\u043e\u0447\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c. \u041e\u0448\u0438\u0431\u043a\u0430 MessageNotModified \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u043a \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 Bad Request,  \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0443 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u0432\u044b\u0431\u043e\u0440: \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0435\u0441\u044c \u043f\u043e\u0434\u043e\u0431\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 \u043e\u0448\u0438\u0431\u043e\u043a, \u043b\u0438\u0431\u043e \u043e\u0442\u043b\u043e\u0432\u0438\u0442\u044c \u0432\u0435\u0441\u044c \u043a\u043b\u0430\u0441\u0441 BadRequest  \u0438 \u043f\u043e\u043f\u044b\u0442\u0430\u0442\u044c\u0441\u044f \u043f\u043e \u0442\u0435\u043a\u0441\u0442\u0443 \u043e\u0448\u0438\u0431\u043a\u0438 \u043e\u043f\u043e\u0437\u043d\u0430\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0443\u044e \u043f\u0440\u0438\u0447\u0438\u043d\u0443.  \u0427\u0442\u043e\u0431\u044b \u043d\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0443\u0441\u043b\u043e\u0436\u043d\u044f\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0431\u043e\u0439\u0434\u0451\u043c\u0441\u044f \u043f\u0435\u0440\u0432\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0438 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>update_num_text()</code>:</p> <pre><code># \u041d\u043e\u0432\u044b\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u044b!\nfrom contextlib import suppress\nfrom aiogram.exceptions import TelegramBadRequest\n\nasync def update_num_text(message: types.Message, new_value: int):\n    with suppress(TelegramBadRequest):\n        await message.edit_text(\n            f\"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e: {new_value}\",\n            reply_markup=get_keyboard()\n        )\n</code></pre> <p>\u0415\u0441\u043b\u0438 \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440 \u0432\u044b\u0448\u0435, \u0442\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0432 \u044d\u0442\u043e\u043c \u0431\u043b\u043e\u043a\u0435 \u043a\u043e\u0434\u0430 \u0431\u043e\u0442 \u043f\u0440\u043e\u0441\u0442\u043e-\u043d\u0430\u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442.</p>"},{"location":"buttons/#callback-factory","title":"\u0424\u0430\u0431\u0440\u0438\u043a\u0430 \u043a\u043e\u043b\u0431\u044d\u043a\u043e\u0432","text":"<p>\u041a\u043e\u0433\u0434\u0430 \u0432\u044b \u043e\u043f\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0435 \u043a\u0430\u043a\u0438\u043c\u0438-\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u044b\u043c\u0438 \u043a\u043e\u043b\u0431\u044d\u043a\u0430\u043c\u0438 \u0441 \u043e\u0431\u0449\u0438\u043c \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043e\u043c, \u0442\u0438\u043f\u0430 <code>order_1</code>, <code>order_2</code>... \u0432\u0430\u043c \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f,  \u0447\u0442\u043e \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u043b\u0435\u0433\u043a\u043e \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c <code>split()</code> \u0438 \u0434\u0435\u043b\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e \u043a\u0430\u043a\u043e\u043c\u0443-\u0442\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044e. \u0410 \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c\u0442\u0435, \u0447\u0442\u043e \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e  \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0435 \u043e\u0434\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u0430 \u0442\u0440\u0438: <code>order_1_1994_2731519</code>. \u0427\u0442\u043e \u0437\u0434\u0435\u0441\u044c \u0430\u0440\u0442\u0438\u043a\u0443\u043b, \u0446\u0435\u043d\u0430, \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e? \u0410 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c, \u0442\u0443\u0442 \u0432\u043e\u043e\u0431\u0449\u0435  \u0433\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430? \u0414\u0430 \u0438 \u0440\u0430\u0437\u0431\u0438\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 \u0432\u044b\u0433\u043b\u044f\u0434\u0435\u0442\u044c \u0441\u0442\u0440\u0430\u0448\u043d\u043e: <code>.split(\"_\")[2]</code>. \u0410 \u043f\u043e\u0447\u0435\u043c\u0443 \u043d\u0435 1 \u0438\u043b\u0438 3? </p> <p>\u0412 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0442\u0430\u043a\u0438\u0445 callback data, \u0438 \u0432 aiogram \u0435\u0441\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438\u0435!  \u0412\u044b \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0442\u0438\u043f\u0430 <code>CallbackData</code>, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043f\u0440\u0435\u0444\u0438\u043a\u0441, \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443, \u0430 \u0434\u0430\u043b\u044c\u0448\u0435 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442  \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043a\u043e\u043b\u0431\u044d\u043a\u0430 \u0438, \u0447\u0442\u043e \u0432\u0430\u0436\u043d\u0435\u0435, \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0440\u0430\u0437\u0431\u0438\u0440\u0430\u0435\u0442 \u0432\u0445\u043e\u0434\u044f\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u0421\u043d\u043e\u0432\u0430 \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c\u0441\u044f \u043d\u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435;  \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043a\u043b\u0430\u0441\u0441 <code>NumbersCallbackFactory</code> \u0441 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043e\u043c <code>fabnum</code> \u0438 \u0434\u0432\u0443\u043c\u044f \u043f\u043e\u043b\u044f\u043c\u0438 <code>action</code> \u0438 <code>value</code>. \u041f\u043e\u043b\u0435 <code>action</code> \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442,  \u0447\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c, \u043c\u0435\u043d\u044f\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 (change) \u0438\u043b\u0438 \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c (finish), \u0430 \u043f\u043e\u043b\u0435 <code>value</code> \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442, \u043d\u0430 \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c  \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u043d\u043e \u0431\u0443\u0434\u0435\u0442 None, \u0442.\u043a. \u0434\u043b\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \"finish\" \u0434\u0435\u043b\u044c\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f. \u041a\u043e\u0434:</p> <pre><code># \u043d\u043e\u0432\u044b\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u044b!\nfrom typing import Optional\nfrom aiogram.filters.callback_data import CallbackData\n\nclass NumbersCallbackFactory(CallbackData, prefix=\"fabnum\"):\n    action: str\n    value: Optional[int] = None\n</code></pre> <p>\u041d\u0430\u0448 \u043a\u043b\u0430\u0441\u0441 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0442 <code>CallbackData</code> \u0438 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430. \u041f\u0440\u0435\u0444\u0438\u043a\u0441 \u2014 \u044d\u0442\u043e  \u043e\u0431\u0449\u0430\u044f \u043f\u043e\u0434\u0441\u0442\u0440\u043e\u043a\u0430 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0431\u0443\u0434\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c, \u043a\u0430\u043a\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043b\u0435\u0436\u0438\u0442 \u0432 \u043a\u043e\u043b\u0431\u044d\u043a\u0435. </p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b. \u0417\u0434\u0435\u0441\u044c \u043d\u0430\u043c \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f \u043c\u0435\u0442\u043e\u0434 <code>button()</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438  \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443 \u0441 \u043d\u0443\u0436\u043d\u044b\u043c \u0442\u0438\u043f\u043e\u043c, \u0430 \u043e\u0442 \u043d\u0430\u0441 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b.  \u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 <code>callback_data</code> \u0432\u043c\u0435\u0441\u0442\u043e \u0441\u0442\u0440\u043e\u043a\u0438 \u0431\u0443\u0434\u0435\u043c \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c  \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043d\u0430\u0448\u0435\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430 <code>NumbersCallbackFactory</code>:</p> <pre><code>def get_keyboard_fab():\n    builder = InlineKeyboardBuilder()\n    builder.button(\n        text=\"-2\", callback_data=NumbersCallbackFactory(action=\"change\", value=-2)\n    )\n    builder.button(\n        text=\"-1\", callback_data=NumbersCallbackFactory(action=\"change\", value=-1)\n    )\n    builder.button(\n        text=\"+1\", callback_data=NumbersCallbackFactory(action=\"change\", value=1)\n    )\n    builder.button(\n        text=\"+2\", callback_data=NumbersCallbackFactory(action=\"change\", value=2)\n    )\n    builder.button(\n        text=\"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c\", callback_data=NumbersCallbackFactory(action=\"finish\")\n    )\n    # \u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0435\u043c \u043a\u043d\u043e\u043f\u043a\u0438 \u043f\u043e 4 \u0432 \u0440\u044f\u0434, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c 4 + 1\n    builder.adjust(4)\n    return builder.as_markup()\n</code></pre> <p>\u041c\u0435\u0442\u043e\u0434\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438 \u0435\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0442\u0435\u043c\u0438 \u0436\u0435 (\u0432 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f\u0445 \u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u0445 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0441\u0443\u0444\u0444\u0438\u043a\u0441 <code>_fab</code>):</p> <pre><code>async def update_num_text_fab(message: types.Message, new_value: int):\n    with suppress(TelegramBadRequest):\n        await message.edit_text(\n            f\"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e: {new_value}\",\n            reply_markup=get_keyboard_fab()\n        )\n\n@dp.message(Command(\"numbers_fab\"))\nasync def cmd_numbers_fab(message: types.Message):\n    user_data[message.from_user.id] = 0\n    await message.answer(\"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e: 0\", reply_markup=get_keyboard_fab())\n</code></pre> <p>\u041d\u0430\u043a\u043e\u043d\u0435\u0446, \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u043c \u043a \u0433\u043b\u0430\u0432\u043d\u043e\u043c\u0443 \u2014 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043a\u043e\u043b\u0431\u044d\u043a\u043e\u0432. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0432 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440 \u043d\u0430\u0434\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441, \u043a\u043e\u043b\u0431\u044d\u043a\u0438 \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c  \u043c\u044b \u043b\u043e\u0432\u0438\u043c, \u0441 \u0432\u044b\u0437\u0432\u0430\u043d\u043d\u044b\u043c \u043c\u0435\u0442\u043e\u0434\u043e\u043c <code>filter()</code>. \u0422\u0430\u043a\u0436\u0435 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c <code>callback_data</code>  (\u0438\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0438\u043c\u0435\u043d\u043d\u043e \u0442\u0430\u043a\u0438\u043c!), \u0438 \u0438\u043c\u0435\u044e\u0449\u0438\u043c \u0442\u043e\u0442 \u0436\u0435 \u0442\u0438\u043f, \u0447\u0442\u043e \u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u0435\u043c\u044b\u0439 \u043a\u043b\u0430\u0441\u0441:</p> <pre><code>@dp.callback_query(NumbersCallbackFactory.filter())\nasync def callbacks_num_change_fab(\n        callback: types.CallbackQuery, \n        callback_data: NumbersCallbackFactory\n):\n    # \u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\n    user_value = user_data.get(callback.from_user.id, 0)\n    # \u0415\u0441\u043b\u0438 \u0447\u0438\u0441\u043b\u043e \u043d\u0443\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\n    if callback_data.action == \"change\":\n        user_data[callback.from_user.id] = user_value + callback_data.value\n        await update_num_text_fab(callback.message, user_value + callback_data.value)\n    # \u0415\u0441\u043b\u0438 \u0447\u0438\u0441\u043b\u043e \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c\n    else:\n        await callback.message.edit_text(f\"\u0418\u0442\u043e\u0433\u043e: {user_value}\")\n    await callback.answer()\n</code></pre> <p>\u0415\u0449\u0451 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u0438\u0437\u0438\u0440\u0443\u0435\u043c \u043d\u0430\u0448\u0438 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u0438 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a  \u0434\u043b\u044f \u0447\u0438\u0441\u043b\u043e\u0432\u044b\u0445 \u043a\u043d\u043e\u043f\u043e\u043a \u0438 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043a\u0438 \u00ab\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c\u00bb. \u0424\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u0431\u0443\u0434\u0435\u043c \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e <code>action</code> \u0438 \u0432 \u044d\u0442\u043e\u043c \u043d\u0430\u043c \u043f\u043e\u043c\u043e\u0433\u0443\u0442  \u00ab\u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b\u00bb aiogram 3.x. \u0421\u0435\u0440\u044c\u0451\u0437\u043d\u043e, \u043e\u043d\u0438 \u0442\u0430\u043a \u0438 \u043d\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f: Magic Filter. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0441\u0438\u0435 \u0447\u0430\u0440\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c  \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043b\u0430\u0432\u0435, \u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0441\u044f \u00ab\u043c\u0430\u0433\u0438\u0435\u0439\u00bb \u0438 \u043f\u0440\u0438\u043c\u0435\u043c \u044d\u0442\u043e \u043d\u0430 \u0432\u0435\u0440\u0443:</p> <pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442!\nfrom magic_filter import F\n\n# \u041d\u0430\u0436\u0430\u0442\u0438\u0435 \u043d\u0430 \u043e\u0434\u043d\u0443 \u0438\u0437 \u043a\u043d\u043e\u043f\u043e\u043a: -2, -1, +1, +2\n@dp.callback_query(NumbersCallbackFactory.filter(F.action == \"change\"))\nasync def callbacks_num_change_fab(\n        callback: types.CallbackQuery, \n        callback_data: NumbersCallbackFactory\n):\n    # \u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\n    user_value = user_data.get(callback.from_user.id, 0)\n\n    user_data[callback.from_user.id] = user_value + callback_data.value\n    await update_num_text_fab(callback.message, user_value + callback_data.value)\n    await callback.answer()\n\n\n# \u041d\u0430\u0436\u0430\u0442\u0438\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \"\u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c\"\n@dp.callback_query(NumbersCallbackFactory.filter(F.action == \"finish\"))\nasync def callbacks_num_finish_fab(callback: types.CallbackQuery):\n    # \u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\n    user_value = user_data.get(callback.from_user.id, 0)\n\n    await callback.message.edit_text(f\"\u0418\u0442\u043e\u0433\u043e: {user_value}\")\n    await callback.answer()\n</code></pre> <p></p> <p>\u041d\u0430 \u043f\u0435\u0440\u0432\u044b\u0439 \u0432\u0437\u0433\u043b\u044f\u0434 \u0442\u043e, \u0447\u0442\u043e \u043c\u044b \u0441\u0434\u0435\u043b\u0430\u043b\u0438, \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u0441\u043b\u043e\u0436\u043d\u044b\u043c, \u043d\u043e \u0432 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0444\u0430\u0431\u0440\u0438\u043a\u0430 \u043a\u043e\u043b\u0431\u044d\u043a\u043e\u0432 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442  \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0435 \u043a\u043e\u043b\u0431\u044d\u043a-\u043a\u043d\u043e\u043f\u043a\u0438 \u0438 \u0443\u0434\u043e\u0431\u043d\u043e \u0434\u0440\u043e\u0431\u0438\u0442\u044c \u043a\u043e\u0434 \u043d\u0430 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0438. \u0423\u0432\u0438\u0434\u0435\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0444\u0430\u0431\u0440\u0438\u043a\u0438  \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432 \u0431\u043e\u0442\u0435 \u0434\u043b\u044f \u0438\u0433\u0440\u044b \u0432 \u00ab\u0421\u0430\u043f\u0451\u0440\u0430\u00bb,  \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u043c \u0432\u0430\u0448\u0438\u043c \u043b\u044e\u0431\u0438\u043c\u044b\u043c \u0430\u0432\u0442\u043e\u0440\u043e\u043c :)</p>"},{"location":"buttons/#callback-autoreply","title":"\u0410\u0432\u0442\u043e\u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u043a\u043e\u043b\u0431\u044d\u043a\u0438","text":"<p>\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u043e\u0447\u0435\u043d\u044c \u043c\u043d\u043e\u0433\u043e \u043a\u043e\u043b\u0431\u044d\u043a-\u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u043b\u0438\u0431\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c, \u043b\u0438\u0431\u043e \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0442\u0438\u043f\u043d\u043e, \u043c\u043e\u0436\u043d\u043e  \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0431\u0435 \u0436\u0438\u0437\u043d\u044c, \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0432\u0448\u0438\u0441\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c\u044e. \u0412 \u0446\u0435\u043b\u043e\u043c \u043f\u0440\u043e \u0442\u0430\u043a\u043e\u0435 \u043c\u044b \u043f\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u043c  \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e, \u0430 \u0441\u0435\u0439\u0447\u0430\u0441 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u043c\u0441\u044f.</p> <p>\u0418\u0442\u0430\u043a, \u0441\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u2014 \u044d\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u0442 \u0442\u0430\u043a\u0443\u044e \u0441\u0442\u0440\u043e\u0447\u043a\u0443 \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0430:</p> <pre><code># \u043d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0435\u043c \u043f\u0440\u043e \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442\nfrom aiogram.utils.callback_answer import CallbackAnswerMiddleware\n\ndp = Dispatcher()\ndp.callback_query.middleware(CallbackAnswerMiddleware())\n</code></pre> <p>\u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430 aiogram \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c \u043d\u0430 \u043a\u043e\u043b\u0431\u044d\u043a.  \u041c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c  \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438  \u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0432\u043e\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: </p> <pre><code>dp.callback_query.middleware(\n    CallbackAnswerMiddleware(\n        pre=True, text=\"\u0413\u043e\u0442\u043e\u0432\u043e!\", show_alert=True\n    )\n)\n</code></pre> <p>\u0423\u0432\u044b, \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438, \u043a\u043e\u0433\u0434\u0430 \u043d\u0430 \u0432\u0441\u0435 \u043a\u043e\u043b\u0431\u044d\u043a-\u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0439 \u043e\u0442\u0432\u0435\u0442, \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0440\u0435\u0434\u043a\u0438. \u041a \u0441\u0447\u0430\u0441\u0442\u044c\u044e, \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c  \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0432 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0435 \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e: \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u043e\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 <code>callback_answer</code>  \u0438 \u0432\u044b\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0435\u043c\u0443 \u043d\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f:</p> <pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442!\nfrom aiogram.utils.callback_answer import CallbackAnswer\n\n@dp.callback_query()\nasync def my_handler(callback: CallbackQuery, callback_answer: CallbackAnswer):\n    ... # \u0442\u0443\u0442 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043a\u043e\u0434\n    if &lt;everything is ok&gt;:\n        callback_answer.text = \"\u041e\u0442\u043b\u0438\u0447\u043d\u043e!\"\n    else:\n        callback_answer.text = \"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435\"\n        callback_answer.cache_time = 10\n    ... # \u0442\u0443\u0442 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043a\u043e\u0434\n</code></pre> <p>\u0412\u0430\u0436\u043d\u043e: \u044d\u0442\u043e\u0442 \u0441\u043f\u043e\u0441\u043e\u0431 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c, \u0435\u0441\u043b\u0438 \u0443 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u0444\u043b\u0430\u0433 <code>pre=True</code>. \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0434\u043e \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e  \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c \u043d\u0430\u0431\u043e\u0440 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0447\u0435\u0440\u0435\u0437 \u0444\u043b\u0430\u0433\u0438, \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043c\u044b \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u043c\u0441\u044f  \u043f\u043e\u0437\u0436\u0435:</p> <pre><code>from aiogram import flags\nfrom aiogram.utils.callback_answer import CallbackAnswer\n\n@dp.callback_query()\n@flags.callback_answer(pre=False)  # \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u0444\u043b\u0430\u0433 pre\nasync def my_handler(callback: CallbackQuery, callback_answer: CallbackAnswer):\n    ... # \u0442\u0443\u0442 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043a\u043e\u0434\n    if &lt;everything is ok&gt;:\n        callback_answer.text = \"\u0422\u0435\u043f\u0435\u0440\u044c \u044d\u0442\u043e\u0442 \u0442\u0435\u043a\u0441\u0442 \u0431\u0443\u0434\u0435\u0442 \u0432\u0438\u0434\u043d\u043e!\"\n    ... # \u0442\u0443\u0442 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043a\u043e\u0434\n</code></pre> <p>\u041d\u0430 \u044d\u0442\u043e\u043c \u043c\u044b \u043f\u043e\u043a\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043c \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u043e \u0441 \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438.</p>"},{"location":"filters-and-middlewares/","title":"\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438","text":""},{"location":"filters-and-middlewares/#\u0444\u0438\u043b\u044c\u0442\u0440\u044b-\u0438-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438","title":"\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f aiogram: 3.14.0</p> <p>\u041d\u0430\u0441\u0442\u0430\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0441\u044f, \u043a\u0430\u043a \u0443\u0441\u0442\u0440\u043e\u0435\u043d\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0432 aiogram 3.x, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441  \u00ab\u0443\u0431\u0438\u0439\u0446\u0435\u0439 \u043b\u044f\u043c\u0431\u0434\u0430-\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439\u00bb \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 \u2014 \u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u043c\u0438.</p>"},{"location":"filters-and-middlewares/#filters","title":"\u0424\u0438\u043b\u044c\u0442\u0440\u044b","text":""},{"location":"filters-and-middlewares/#why-filters","title":"\u0417\u0430\u0447\u0435\u043c \u043d\u0443\u0436\u043d\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u044b?","text":"<p>\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0430\u043f\u0438\u0441\u0430\u043b\u0438 \u0441\u0432\u043e\u0435\u0433\u043e \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0431\u043e\u0442\u0430, \u0442\u043e \u043c\u043e\u0433\u0443 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u0438\u0442\u044c: \u0432\u044b \u0443\u0436\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438\u0441\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u043c\u0438,  \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u043c\u0438, \u0430 \u043d\u0435 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c\u0438. \u0414\u0430-\u0434\u0430, \u0442\u043e \u0441\u0430\u043c\u043e\u0435 <code>Command(\"start\")</code> \u0438 \u0435\u0441\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440. \u041e\u043d\u0438 \u043d\u0443\u0436\u043d\u044b \u0434\u043b\u044f \u0442\u043e\u0433\u043e,  \u0447\u0442\u043e\u0431\u044b \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0439 \u0430\u043f\u0434\u0435\u0439\u0442 \u043e\u0442 \u0442\u0435\u043b\u0435\u0433\u0438 \u043f\u043e\u043f\u0430\u043b \u0432 \u043d\u0443\u0436\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, \u0442.\u0435. \u0442\u0443\u0434\u0430, \u0433\u0434\u0435 \u0435\u0433\u043e [\u0430\u043f\u0434\u0435\u0439\u0442] \u0436\u0434\u0443\u0442. </p> <p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0441\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043f\u0440\u0438\u043c\u0435\u0440, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043d\u044f\u0442\u044c \u0432\u0430\u0436\u043d\u043e\u0441\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432. \u041f\u0443\u0441\u0442\u044c \u0443 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0410\u043b\u0438\u0441\u0430 \u0441 ID 111  \u0438 \u0411\u043e\u0431 \u0441 ID 777. \u0418 \u0435\u0441\u0442\u044c \u0431\u043e\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0430 \u043b\u044e\u0431\u043e\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0440\u0430\u0434\u0443\u0435\u0442 \u043d\u0430\u0448\u0438\u0445 \u0434\u0432\u0443\u0445 \u0440\u0435\u0431\u044f\u0442 \u043a\u0430\u043a\u043e\u0439-\u043d\u0438\u0431\u0443\u0434\u044c  \u043c\u043e\u0442\u0438\u0432\u0438\u0440\u0443\u044e\u0449\u0435\u0439 \u0444\u0440\u0430\u0437\u043e\u0439, \u0430 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u043e\u0442\u0448\u0438\u0432\u0430\u0435\u0442:</p> <pre><code>from random import choice\n\n@router.message(F.text)\nasync def my_text_handler(message: Message):\n    phrases = [\n        \"\u041f\u0440\u0438\u0432\u0435\u0442! \u041e\u0442\u043b\u0438\u0447\u043d\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0448\u044c :)\",\n        \"\u0425\u044d\u043b\u043b\u043e\u0443, \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u0434\u0435\u043d\u044c!\",\n        \"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439)) \u0443\u043b\u044b\u0431\u043d\u0438\u0441\u044c :)\"\n    ]\n    if message.from_user.id in (111, 777):\n        await message.answer(choice(phrases))\n    else:\n        await message.answer(\"\u042f \u0441 \u0442\u043e\u0431\u043e\u0439 \u043d\u0435 \u0440\u0430\u0437\u0433\u043e\u0432\u0430\u0440\u0438\u0432\u0430\u044e!\")\n</code></pre> <p>\u0417\u0430\u0442\u0435\u043c \u0432 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043c\u043e\u043c\u0435\u043d\u0442 \u043c\u044b \u0440\u0435\u0448\u0430\u0435\u043c, \u0447\u0442\u043e \u043d\u0430\u0434\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0438\u0437 \u0440\u0435\u0431\u044f\u0442 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435,  \u0430 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0440\u0430\u0437\u0431\u0438\u0432\u0430\u0435\u043c \u043d\u0430\u0448 \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u0442\u0440\u0438: \u0434\u043b\u044f \u0410\u043b\u0438\u0441\u044b, \u0434\u043b\u044f \u0411\u043e\u0431\u0430 \u0438 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445:</p> <pre><code>@router.message(F.text)\nasync def greet_alice(message: Message):\n    # print(\"\u0425\u044d\u043d\u0434\u043b\u0435\u0440 \u0434\u043b\u044f \u0410\u043b\u0438\u0441\u044b\")\n    phrases = [\n        \"\u041f\u0440\u0438\u0432\u0435\u0442, {name}. \u0422\u044b \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043a\u0440\u0430\u0441\u043e\u0442\u043a\u0430!\",\n        \"\u0422\u044b \u0441\u0430\u043c\u0430\u044f \u0443\u043c\u043d\u0430\u044f, {name}\",\n    ]\n    if message.from_user.id == 111:\n        await message.answer(\n            choice(phrases).format(name=\"\u0410\u043b\u0438\u0441\u0430\")\n        )\n\n@router.message(F.text)\nasync def greet_bob(message: Message):\n    phrases = [\n        \"\u041f\u0440\u0438\u0432\u0435\u0442, {name}. \u0422\u044b \u0441\u0430\u043c\u044b\u0439 \u0441\u0438\u043b\u044c\u043d\u044b\u0439!\",\n        \"\u0422\u044b \u043a\u0440\u0443\u0442, {name}!\",\n    ]\n    if message.from_user.id == 777:\n        await message.answer(\n            choice(phrases).format(name=\"\u0411\u043e\u0431\")\n        )\n\n@router.message(F.text)\nasync def stranger_go_away(message: Message):\n    if message.from_user.id not in (111, 777):\n        await message.answer(\"\u042f \u0441 \u0442\u043e\u0431\u043e\u0439 \u043d\u0435 \u0440\u0430\u0437\u0433\u043e\u0432\u0430\u0440\u0438\u0432\u0430\u044e!\")\n</code></pre> <p>\u041f\u0440\u0438 \u0442\u0430\u043a\u043e\u043c \u0440\u0430\u0441\u043a\u043b\u0430\u0434\u0435 \u0410\u043b\u0438\u0441\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438 \u0440\u0430\u0434\u043e\u0432\u0430\u0442\u044c\u0441\u044f. \u0410 \u0432\u043e\u0442 \u0432\u0441\u0435 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442 \u043d\u0438\u0447\u0435\u0433\u043e, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443  \u043a\u043e\u0434 \u0431\u0443\u0434\u0435\u0442 \u0432\u0441\u0435\u0433\u0434\u0430 \u043f\u043e\u043f\u0430\u0434\u0430\u0442\u044c \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>greet_alice()</code>, \u0438 \u043d\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c \u043f\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044e <code>if message.from_user.id == 111</code>.  \u0412 \u044d\u0442\u043e\u043c \u043b\u0435\u0433\u043a\u043e \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0440\u0430\u0441\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0432 \u0432\u044b\u0437\u043e\u0432 <code>print()</code>. </p> <p>\u041d\u043e \u043f\u043e\u0447\u0435\u043c\u0443 \u0442\u0430\u043a? \u041e\u0442\u0432\u0435\u0442 \u043f\u0440\u043e\u0441\u0442: \u043b\u044e\u0431\u043e\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u043f\u0430\u0434\u0451\u0442 \u0432 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 <code>F.text</code> \u043d\u0430\u0434 \u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439  <code>greet_alice()</code>, \u044d\u0442\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u0435\u0440\u043d\u0451\u0442 <code>True</code> \u0438 \u0430\u043f\u0434\u0435\u0439\u0442 \u043f\u043e\u043f\u0430\u0434\u0451\u0442 \u0438\u043c\u0435\u043d\u043d\u043e \u0432 \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e, \u043e\u0442\u043a\u0443\u0434\u0430, \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u044f \u043f\u043e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u043c\u0443  \u0443\u0441\u043b\u043e\u0432\u0438\u044e <code>if</code>, \u0432\u044b\u0439\u0434\u0435\u0442 \u0438 \u043a\u0430\u043d\u0435\u0442 \u0432 \u041b\u0435\u0442\u0443. </p> <p>\u0427\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u043f\u043e\u0434\u043e\u0431\u043d\u044b\u0445 \u043a\u0430\u0437\u0443\u0441\u043e\u0432, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440\u044b. \u0412 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u043e\u0439 \u0431\u0443\u0434\u0435\u0442  \u00ab\u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0418 \u0430\u0439\u0434\u0438 \u044e\u0437\u0435\u0440\u0430 111\u00bb. \u0422\u043e\u0433\u0434\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u043a\u043e\u0433\u0434\u0430 \u0431\u043e\u0442\u0443 \u043d\u0430\u043f\u0438\u0448\u0435\u0442 \u0411\u043e\u0431 \u0441 \u0430\u0439\u0434\u0438 777, \u0441\u043e\u0432\u043e\u043a\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432  \u0432\u0435\u0440\u043d\u0451\u0442 False, \u0438 \u0440\u043e\u0443\u0442\u0435\u0440 \u043f\u043e\u0439\u0434\u0451\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0445\u044d\u043d\u0434\u043b\u0435\u0440, \u0433\u0434\u0435 \u043e\u0431\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u0432\u0435\u0440\u043d\u0443\u0442 True \u0438 \u0430\u043f\u0434\u0435\u0439\u0442 \u0443\u043f\u0430\u0434\u0451\u0442 \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440.  \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043d\u0430 \u043f\u0435\u0440\u0432\u044b\u0439 \u0432\u0437\u0433\u043b\u044f\u0434 \u0432\u044b\u0448\u0435\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u043e\u0435 \u0437\u0432\u0443\u0447\u0438\u0442 \u043e\u0447\u0435\u043d\u044c \u0441\u043b\u043e\u0436\u043d\u043e, \u043d\u043e \u043a \u043a\u043e\u043d\u0446\u0443 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u044b \u0432\u044b \u043f\u043e\u0439\u043c\u0451\u0442\u0435, \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u0442\u044c  \u043f\u043e\u0434\u043e\u0431\u043d\u0443\u044e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443.</p>"},{"location":"filters-and-middlewares/#filters-as-classes","title":"\u0424\u0438\u043b\u044c\u0442\u0440\u044b \u043a\u0430\u043a \u043a\u043b\u0430\u0441\u0441\u044b","text":"<p>\u0412 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 aiogram 2.x, \u0432 \u00ab\u0442\u0440\u043e\u0439\u043a\u0435\u00bb \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442 \u0444\u0438\u043b\u044c\u0442\u0440\u0430-\u043a\u043b\u0430\u0441\u0441\u0430 ChatTypeFilter \u043d\u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0442\u0438\u043f \u0447\u0430\u0442\u0430  (\u043b\u0438\u0447\u043a\u0430, \u0433\u0440\u0443\u043f\u043f\u0430, \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0430 \u0438\u043b\u0438 \u043a\u0430\u043d\u0430\u043b). \u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0435\u0433\u043e \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e. \u041f\u0443\u0441\u0442\u044c \u0443 \u044e\u0437\u0435\u0440\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0439 \u0442\u0438\u043f  \u043b\u0438\u0431\u043e \u0441\u0442\u0440\u043e\u043a\u043e\u0439, \u043b\u0438\u0431\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c (list). \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f, \u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u0441 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0442 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0442\u0438\u043f\u043e\u0432,  \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0433\u0440\u0443\u043f\u043f\u044b \u0438 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u044b.</p> <p>\u041d\u0430\u0448\u0430 \u0442\u043e\u0447\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0430 \u0438\u043c\u0435\u043d\u043d\u043e \u0444\u0430\u0439\u043b <code>bot.py</code>, \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0437\u043d\u0430\u043a\u043e\u043c\u043e:</p> bot.py<pre><code>import asyncio\n\nfrom aiogram import Bot, Dispatcher\n\n\nasync def main():\n    bot = Bot(token=\"TOKEN\")\n    dp = Dispatcher()\n\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0431\u043e\u0442\u0430 \u0438 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432\u0441\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435\n    # \u0414\u0430, \u044d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u043f\u043e\u043b\u043b\u0438\u043d\u0433\n    await bot.delete_webhook(drop_pending_updates=True)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u0420\u044f\u0434\u043e\u043c \u0441 \u043d\u0438\u043c \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043a\u0430\u0442\u0430\u043b\u043e\u0433 <code>filters</code>, \u0430 \u0432 \u043d\u0451\u043c \u0444\u0430\u0439\u043b <code>chat_type.py</code>:</p> filters/chat_type.py<pre><code>from typing import Union\n\nfrom aiogram.filters import BaseFilter\nfrom aiogram.types import Message\n\n\nclass ChatTypeFilter(BaseFilter):  # [1]\n    def __init__(self, chat_type: Union[str, list]): # [2]\n        self.chat_type = chat_type\n\n    async def __call__(self, message: Message) -&gt; bool:  # [3]\n        if isinstance(self.chat_type, str):\n            return message.chat.type == self.chat_type\n        else:\n            return message.chat.type in self.chat_type\n</code></pre> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u043c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u043e\u043a\u0438:</p> <ol> <li>\u041d\u0430\u0448\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u044e\u0442\u0441\u044f \u043e\u0442 \u0431\u0430\u0437\u043e\u0432\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430 <code>BaseFilter</code></li> <li>\u0412 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0435 \u043a\u043b\u0430\u0441\u0441\u0430 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u0431\u0443\u0434\u0443\u0449\u0438\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u0430. \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u044b \u0437\u0430\u044f\u0432\u043b\u044f\u0435\u043c \u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 <code>chat_type</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043a\u0430\u043a \u0441\u0442\u0440\u043e\u043a\u043e\u0439 (<code>str</code>), \u0442\u0430\u043a \u0438 \u0441\u043f\u0438\u0441\u043a\u043e\u043c (<code>list</code>).</li> <li>\u0412\u0441\u0451 \u0434\u0435\u0439\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 \u043c\u0435\u0442\u043e\u0434\u0435 <code>__call__()</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442, \u043a\u043e\u0433\u0434\u0430 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043a\u043b\u0430\u0441\u0441\u0430  <code>ChatTypeFilter()</code> \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0442 \u043a\u0430\u043a \u0444\u0443\u043d\u043a\u0446\u0438\u044e.  \u0412\u043d\u0443\u0442\u0440\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0433\u043e: \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u0442\u0438\u043f \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0438 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443.  \u041c\u044b \u0441\u0442\u0440\u0435\u043c\u0438\u043c\u0441\u044f \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u0444\u0438\u043b\u044c\u0442\u0440 \u0432\u0435\u0440\u043d\u0443\u043b \u0431\u0443\u043b\u0435\u0432\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0434\u0430\u043b\u0435\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0442 \u0445\u044d\u043d\u0434\u043b\u0435\u0440,  \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432\u0435\u0440\u043d\u0443\u043b\u0438 <code>True</code>.</li> </ol> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u043f\u0430\u0440\u0443 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u043c <code>/dice</code> \u0438 <code>/basketball</code> \u0431\u0443\u0434\u0435\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u0430\u0439\u0441  \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0442\u0438\u043f\u0430, \u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0443. \u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0444\u0430\u0439\u043b <code>handlers/group_games.py</code> \u0438 \u043f\u0438\u0448\u0435\u043c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u0440\u043d\u044b\u0439 \u043a\u043e\u0434:</p> handlers/group_games.py<pre><code>from aiogram import Router\nfrom aiogram.enums.dice_emoji import DiceEmoji\nfrom aiogram.types import Message\nfrom aiogram.filters import Command\n\nfrom filters.chat_type import ChatTypeFilter\n\nrouter = Router()\n\n\n@router.message(\n    ChatTypeFilter(chat_type=[\"group\", \"supergroup\"]),\n    Command(commands=[\"dice\"]),\n)\nasync def cmd_dice_in_group(message: Message):\n    await message.answer_dice(emoji=DiceEmoji.DICE)\n\n\n@router.message(\n    ChatTypeFilter(chat_type=[\"group\", \"supergroup\"]),\n    Command(commands=[\"basketball\"]),\n)\nasync def cmd_basketball_in_group(message: Message):\n    await message.answer_dice(emoji=DiceEmoji.BASKETBALL)\n</code></pre> <p>\u0427\u0442\u043e \u0436, \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0440\u0430\u0437\u0431\u0438\u0440\u0430\u0442\u044c\u0441\u044f. \u0412\u043e-\u043f\u0435\u0440\u0432\u044b\u0445, \u043c\u044b \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440 <code>Command</code> \u0438 \u043d\u0430\u0448 \u0441\u0432\u0435\u0436\u0435\u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439  <code>ChatTypeFilter</code>. \u0412\u043e-\u0432\u0442\u043e\u0440\u044b\u0445, \u043c\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u043b\u0438 \u043d\u0430\u0448 \u0444\u0438\u043b\u044c\u0442\u0440 \u043a\u0430\u043a \u043f\u043e\u0437\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0432 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u0443\u043a\u0430\u0437\u0430\u0432  \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0436\u0435\u043b\u0430\u0435\u043c\u044b\u0435 \u0442\u0438\u043f(\u044b) \u0447\u0430\u0442\u043e\u0432. \u0412-\u0442\u0440\u0435\u0442\u044c\u0438\u0445, \u0432 aiogram 2.x \u0432\u044b \u043f\u0440\u0438\u0432\u044b\u043a\u043b\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043a\u0430\u043a <code>commands=...</code>, \u043e\u0434\u043d\u0430\u043a\u043e \u0432 aiogram 3 \u044d\u0442\u043e\u0433\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442,  \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0442\u0430\u043a \u0436\u0435, \u043a\u0430\u043a \u0438 \u0441\u0432\u043e\u0438, \u0447\u0435\u0440\u0435\u0437 \u0438\u043c\u043f\u043e\u0440\u0442 \u0438 \u0432\u044b\u0437\u043e\u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043a\u043b\u0430\u0441\u0441\u043e\u0432.  \u0420\u043e\u0432\u043d\u043e \u044d\u0442\u043e \u043c\u044b \u0432\u0438\u0434\u0438\u043c \u0432\u043e \u0432\u0442\u043e\u0440\u043e\u043c \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0435 \u0441 \u0432\u044b\u0437\u043e\u0432\u043e\u043c <code>Command(commands=\"somecommand\")</code> \u0438\u043b\u0438 \u043a\u0440\u0430\u0442\u043a\u043e: <code>Command(\"somecommand\")</code></p> <p>\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0441 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u043c\u0438 \u0432 \u0442\u043e\u0447\u043a\u0443 \u0432\u0445\u043e\u0434\u0430 \u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440 \u043a \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0443 (\u0432\u044b\u0434\u0435\u043b\u0435\u043d\u044b \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0440\u043e\u043a\u0438):</p> bot.py<pre><code>import asyncio\n\nfrom aiogram import Bot, Dispatcher\n\nfrom handlers import group_games\n\n\nasync def main():\n    bot = Bot(token=\"TOKEN\")\n    dp = Dispatcher()\n\n    dp.include_router(group_games.router)\n\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0431\u043e\u0442\u0430 \u0438 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432\u0441\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435\n    # \u0414\u0430, \u044d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u043f\u043e\u043b\u043b\u0438\u043d\u0433\n    await bot.delete_webhook(drop_pending_updates=True)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c:</p> <p></p> <p>\u0412\u0440\u043e\u0434\u0435 \u0432\u0441\u0451 \u0445\u043e\u0440\u043e\u0448\u043e, \u043d\u043e \u0447\u0442\u043e, \u0435\u0441\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435 2 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430, \u0430 10? \u041f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0430\u0448  \u0444\u0438\u043b\u044c\u0442\u0440 \u0438 \u043d\u0438\u0433\u0434\u0435 \u043d\u0435 \u0437\u0430\u0431\u044b\u0442\u044c. \u041a \u0441\u0447\u0430\u0441\u0442\u044c\u044e, \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u043c\u043e\u0436\u043d\u043e \u0446\u0435\u043f\u043b\u044f\u0442\u044c \u043f\u0440\u044f\u043c\u043e \u043d\u0430 \u0440\u043e\u0443\u0442\u0435\u0440\u044b! \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430  \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0440\u043e\u0432\u043d\u043e \u043e\u0434\u0438\u043d \u0440\u0430\u0437, \u043a\u043e\u0433\u0434\u0430 \u0430\u043f\u0434\u0435\u0439\u0442 \u0434\u043e\u043b\u0435\u0442\u0438\u0442 \u0434\u043e \u044d\u0442\u043e\u0433\u043e \u0440\u043e\u0443\u0442\u0435\u0440\u0430. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u043e,  \u0435\u0441\u043b\u0438 \u0432 \u0444\u0438\u043b\u044c\u0442\u0440\u0435 \u0432\u044b \u0434\u0435\u043b\u0430\u0435\u0442\u0435 \u0440\u0430\u0437\u043d\u044b\u0435 \u00ab\u0442\u044f\u0436\u0435\u043b\u044b\u0435\u00bb \u0437\u0430\u0434\u0430\u0447\u0438, \u0442\u0438\u043f\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a Bot API; \u0438\u043d\u0430\u0447\u0435 \u043c\u043e\u0436\u043d\u043e  \u043b\u0435\u0433\u043a\u043e \u0441\u043b\u043e\u0432\u0438\u0442\u044c \u0444\u043b\u0443\u0434\u0432\u0435\u0439\u0442.</p> <p>\u0422\u0430\u043a \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043d\u0430\u0448 \u0444\u0430\u0439\u043b \u0441 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u043c\u0438 \u0434\u043b\u044f \u0434\u0430\u0439\u0441\u043e\u0432 \u0432 \u043e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u043c \u0432\u0438\u0434\u0435:</p> handlers/group_games.py<pre><code>from aiogram import Router\nfrom aiogram.enums.dice_emoji import DiceEmoji\nfrom aiogram.filters import Command\nfrom aiogram.types import Message\n\nfrom filters.chat_type import ChatTypeFilter\n\nrouter = Router()\nrouter.message.filter(\n    ChatTypeFilter(chat_type=[\"group\", \"supergroup\"])\n)\n\n\n@router.message(Command(\"dice\"))\nasync def cmd_dice_in_group(message: Message):\n    await message.answer_dice(emoji=DiceEmoji.DICE)\n\n\n@router.message(Command(\"basketball\"))\nasync def cmd_basketball_in_group(message: Message):\n    await message.answer_dice(emoji=DiceEmoji.BASKETBALL)\n</code></pre> <p>\u0412\u043e\u043e\u0431\u0449\u0435 \u0433\u043e\u0432\u043e\u0440\u044f, \u0442\u0430\u043a\u043e\u0439 \u0444\u0438\u043b\u044c\u0442\u0440 \u043d\u0430 \u0442\u0438\u043f \u0447\u0430\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0447\u0443\u0442\u044c \u0438\u043d\u0430\u0447\u0435. \u041d\u0435\u0441\u043c\u043e\u0442\u0440\u044f \u043d\u0430 \u0442\u043e,  \u0447\u0442\u043e \u0442\u0438\u043f\u043e\u0432 \u0447\u0430\u0442\u043e\u0432 \u0443 \u043d\u0430\u0441 \u0447\u0435\u0442\u044b\u0440\u0435 (\u041b\u0421, \u0433\u0440\u0443\u043f\u043f\u0430, \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0430, \u043a\u0430\u043d\u0430\u043b), \u0430\u043f\u0434\u0435\u0439\u0442 \u0442\u0438\u043f\u0430 <code>message</code>  \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043b\u0435\u0442\u0430\u0442\u044c \u0438\u0437 \u043a\u0430\u043d\u0430\u043b\u043e\u0432, \u0442.\u043a. \u0443 \u043d\u0438\u0445 \u0441\u0432\u043e\u0439 \u0430\u043f\u0434\u0435\u0439\u0442 <code>channel_post</code>. \u0410 \u043a\u043e\u0433\u0434\u0430 \u043c\u044b  \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u0435\u043c \u0433\u0440\u0443\u043f\u043f\u044b, \u043e\u0431\u044b\u0447\u043d\u043e \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e, \u043e\u0431\u044b\u0447\u043d\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430 \u0438\u043b\u0438 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0430, \u043b\u0438\u0448\u044c \u0431\u044b \u043d\u0435 \u043b\u0438\u0447\u043a\u0430.</p> <p>\u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u0441\u0430\u043c \u0444\u0438\u043b\u044c\u0442\u0440 \u043c\u043e\u0436\u043d\u043e \u0441\u0432\u0435\u0441\u0442\u0438 \u043a \u0443\u0441\u043b\u043e\u0432\u043d\u043e\u043c\u0443 <code>ChatTypeFilter(is_group=True/False)</code> \u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c, \u041b\u0421 \u0438\u043b\u0438 \u043d\u0435 \u041b\u0421. \u041a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0441\u0442\u0430\u0451\u0442\u0441\u044f \u043d\u0430 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f.</p> <p>\u041f\u043e\u043c\u0438\u043c\u043e True/False, \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0447\u0442\u043e-\u0442\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b, \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f,  \u043a\u043e\u0433\u0434\u0430 \u043c\u044b \u043d\u0435 \u0445\u043e\u0442\u0438\u043c \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0443\u0436\u0435 \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u0432 \u0444\u0438\u043b\u044c\u0442\u0440\u0435. \u0427\u0442\u043e\u0431\u044b  \u0441\u0442\u0430\u043b\u043e \u043f\u043e\u043d\u044f\u0442\u043d\u0435\u0435, \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0444\u0438\u043b\u044c\u0442\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0435\u0441\u043b\u0438 \u0432 \u043d\u0451\u043c \u0435\u0441\u0442\u044c \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c\u044b, \u0430 \u0437\u0430\u043e\u0434\u043d\u043e  \u00ab\u043f\u0440\u043e\u0442\u043e\u043b\u043a\u043d\u0451\u0442\u00bb \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f.</p> <p>\u0412 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0435 filters \u0441\u043e\u0437\u0434\u0430\u0451\u043c \u043d\u043e\u0432\u044b\u0439 \u0444\u0430\u0439\u043b <code>find_usernames.py</code>:</p> filters/find_usernames.py<pre><code>from typing import Union, Dict, Any\n\nfrom aiogram.filters import BaseFilter\nfrom aiogram.types import Message\n\n\nclass HasUsernamesFilter(BaseFilter):\n    async def __call__(self, message: Message) -&gt; Union[bool, Dict[str, Any]]:\n        # \u0415\u0441\u043b\u0438 entities \u0432\u043e\u043e\u0431\u0449\u0435 \u043d\u0435\u0442, \u0432\u0435\u0440\u043d\u0451\u0442\u0441\u044f None,\n        # \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u0447\u0438\u0442\u0430\u0435\u043c, \u0447\u0442\u043e \u044d\u0442\u043e \u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u043f\u0438\u0441\u043e\u043a\n        entities = message.entities or []\n\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043b\u044e\u0431\u044b\u0435 \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c\u044b \u0438 \u0438\u0437\u0432\u043b\u0435\u043a\u0430\u0435\u043c \u0438\u0445 \u0438\u0437 \u0442\u0435\u043a\u0441\u0442\u0430\n        # \u043c\u0435\u0442\u043e\u0434\u043e\u043c extract_from(). \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u0441\u043c. \u0433\u043b\u0430\u0432\u0443\n        # \u043f\u0440\u043e \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c\u0438\n        found_usernames = [\n            item.extract_from(message.text) for item in entities\n            if item.type == \"mention\"\n        ]\n\n        # \u0415\u0441\u043b\u0438 \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c\u044b \u0435\u0441\u0442\u044c, \u0442\u043e \"\u043f\u0440\u043e\u0442\u0430\u043b\u043a\u0438\u0432\u0430\u0435\u043c\" \u0438\u0445 \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\n        # \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \"usernames\"\n        if len(found_usernames) &gt; 0:\n            return {\"usernames\": found_usernames}\n        # \u0415\u0441\u043b\u0438 \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c\u0430, \u0432\u0435\u0440\u043d\u0451\u043c False\n        return False\n</code></pre> <p>\u0418 \u0441\u043e\u0437\u0434\u0430\u0451\u043c \u043d\u043e\u0432\u044b\u0439 \u0444\u0430\u0439\u043b \u0441 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u043c:</p> handlers/usernames.py<pre><code>from typing import List\n\nfrom aiogram import Router, F\nfrom aiogram.types import Message\n\nfrom filters.find_usernames import HasUsernamesFilter\n\nrouter = Router()\n\n\n@router.message(\n    F.text,\n    HasUsernamesFilter()\n)\nasync def message_with_usernames(\n        message: Message,\n        usernames: List[str]\n):\n    await message.reply(\n        f'\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u043f\u0438\u0448\u0443\u0441\u044c \u043d\u0430 '\n        f'{\", \".join(usernames)}'\n    )\n</code></pre> <p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e\u0433\u043e \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c\u0430 \u0444\u0438\u043b\u044c\u0442\u0440 <code>HasUsernamesFilter</code> \u0432\u0435\u0440\u043d\u0451\u0442 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e <code>True</code>, \u0430  \u0441\u043b\u043e\u0432\u0430\u0440\u044c, \u0433\u0434\u0435 \u0438\u0437\u0432\u043b\u0435\u0447\u0451\u043d\u043d\u044b\u0435 \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c\u044b \u0431\u0443\u0434\u0443\u0442 \u043b\u0435\u0436\u0430\u0442\u044c \u043f\u043e\u0434 \u043a\u043b\u044e\u0447\u043e\u043c <code>usernames</code>. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0435, \u043d\u0430  \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0430\u0432\u0435\u0448\u0430\u043d \u044d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440, \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0441 \u0442\u043e\u0447\u043d\u043e \u0442\u0430\u043a\u0438\u043c \u0436\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044e-\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a. \u0412\u0443\u0430\u043b\u044f!  \u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0435\u0442 \u043d\u0443\u0436\u0434\u044b \u0435\u0449\u0451 \u0440\u0430\u0437 \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u0432\u0441\u0451 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438 \u0441\u043d\u043e\u0432\u0430 \u0432\u044b\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c\u043e\u0432: </p> <p></p>"},{"location":"filters-and-middlewares/#magic-filters","title":"\u041c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u0430 \u0441 <code>ChatTypeFilter</code> \u0438\u0437 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0430, \u043a\u0442\u043e-\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0432\u043e\u0441\u043a\u043b\u0438\u043a\u043d\u0443\u0442\u044c:  \u00ab\u0430 \u0437\u0430\u0447\u0435\u043c \u0432\u043e\u043e\u0431\u0449\u0435 \u0442\u0430\u043a \u0441\u043b\u043e\u0436\u043d\u043e, \u0435\u0441\u043b\u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u043b\u044f\u043c\u0431\u0434\u043e\u0439:  <code>lambda m: m.chat.type in (\"group\", \"supergroup\")</code>\u00bb? \u0418 \u0432\u044b \u043f\u0440\u0430\u0432\u044b! \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e, \u0434\u043b\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445  \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u043a\u043e\u0433\u0434\u0430 \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u0430, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439  \u0444\u0430\u0439\u043b \u0441 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u043c, \u043f\u043e\u0442\u043e\u043c \u0435\u0433\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0441\u043c\u044b\u0441\u043b\u0430 \u043c\u0430\u043b\u043e. </p> <p>\u0410\u043b\u0435\u043a\u0441, \u043e\u0441\u043d\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438 \u0433\u043b\u0430\u0432\u043d\u044b\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a aiogram, \u043d\u0430\u043f\u0438\u0441\u0430\u043b \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443  magic-filter, \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0449\u0443\u044e \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435  \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 (\u044d\u0434\u0430\u043a\u0438\u0439 <code>getattr</code> \u043d\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u043a\u0430\u0445). \u0411\u043e\u043b\u0435\u0435 \u0442\u043e\u0433\u043e, \u043e\u043d\u0430 \u0443\u0436\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 aiogram 3.x.  \u0415\u0441\u043b\u0438 \u0432\u044b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0438 \u0441\u0435\u0431\u0435 \u00ab\u0442\u0440\u043e\u0439\u043a\u0443\u00bb, \u0437\u043d\u0430\u0447\u0438\u0442, \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d magic-filter.</p> <p>\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 magic-filter \u0442\u0430\u043a\u0436\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0432 PyPi  \u0438 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e \u043e\u0442 aiogram \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0432\u0430\u0448\u0438\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445. \u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438  \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0432 aiogram \u0432\u0430\u043c \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043e\u0434\u043d\u0430 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0444\u0438\u0447\u0430, \u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0440\u0435\u0447\u044c \u043f\u043e\u0439\u0434\u0451\u0442  \u0434\u0430\u043b\u0435\u0435 \u0432 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435</p> <p>\u0414\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u00ab\u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u00bb \u043e\u043f\u0438\u0441\u0430\u043d\u044b \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 aiogram, \u0437\u0434\u0435\u0441\u044c \u0436\u0435  \u043c\u044b \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u043c\u043e\u043c\u0435\u043d\u0442\u0430\u0445.</p> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0432\u0441\u043f\u043e\u043c\u043d\u0438\u043c, \u0447\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u00ab\u043a\u043e\u043d\u0442\u0435\u043d\u0442-\u0442\u0430\u0439\u043f\u00bb \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u0422\u0430\u043a\u043e\u0433\u043e \u043f\u043e\u043d\u044f\u0442\u0438\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 Bot API, \u043d\u043e \u043e\u043d\u043e  \u0435\u0441\u0442\u044c \u0438 \u0432 pyTelegramBotAPI, \u0438 \u0432 aiogram. \u0418\u0434\u0435\u044f \u043f\u0440\u043e\u0441\u0442\u0430\u044f: \u0435\u0441\u043b\u0438 \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435  Message \u043f\u043e\u043b\u0435 <code>photo</code> \u043d\u0435\u043f\u0443\u0441\u0442\u043e\u0435 (\u0442.\u0435. \u043d\u0435 \u0440\u0430\u0432\u043d\u043e <code>None</code>  \u0432 Python), \u0437\u043d\u0430\u0447\u0438\u0442, \u044d\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435, \u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0441\u0447\u0438\u0442\u0430\u0435\u043c, \u0447\u0442\u043e \u0435\u0433\u043e  \u043a\u043e\u043d\u0442\u0435\u043d\u0442-\u0442\u0430\u0439\u043f \u0440\u0430\u0432\u0435\u043d <code>photo</code>. \u0418 \u0442\u0430\u043c\u043e\u0448\u043d\u0438\u0439 \u0444\u0438\u043b\u044c\u0442\u0440 <code>content_types=\"photo\"</code> \u0431\u0443\u0434\u0435\u0442 \u043b\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0430\u043a\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f,  \u0438\u0437\u0431\u0430\u0432\u043b\u044f\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 \u043e\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u044d\u0442\u043e\u0442 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430.</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0435\u0442\u0440\u0443\u0434\u043d\u043e \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u044c, \u0447\u0442\u043e \u043b\u044f\u043c\u0431\u0434\u0430-\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 \u0437\u0432\u0443\u0447\u0438\u0442 \u043a\u0430\u043a  \u00ab\u0430\u0442\u0440\u0438\u0431\u0443\u0442 'photo' \u0443 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u043e\u0439 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 'm' \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0440\u0430\u0432\u0435\u043d None\u00bb, \u043d\u0430 Python \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043a\u0430\u043a  <code>lambda m: m.photo is not None</code>, \u0438\u043b\u0438, \u0447\u0443\u0442\u044c \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u0432, <code>lambda m: m.photo</code>. \u0410 \u0441\u0430\u043c <code>m</code> \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f  \u0442\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c, \u043a\u043e\u0433\u043e \u043c\u044b \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u0435\u043c. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0431\u044a\u0435\u043a\u0442 \u0442\u0438\u043f\u0430 <code>Message</code></p> <p>Magic-filter \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u0443\u044e \u0432\u0435\u0449\u044c. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u0434\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441 <code>MagicFilter</code> \u0438\u0437 aiogram,  \u043d\u043e \u043c\u044b \u0435\u0433\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u043c \u043d\u0435 \u043f\u043e \u043f\u043e\u043b\u043d\u043e\u043c\u0443 \u0438\u043c\u0435\u043d\u0438, \u0430 \u043f\u043e \u043e\u0434\u043d\u043e\u0431\u0443\u043a\u0432\u0435\u043d\u043d\u043e\u043c\u0443 \u0430\u043b\u0438\u0430\u0441\u0443 <code>F</code>:</p> <pre><code>from aiogram import F\n\n# \u0417\u0434\u0435\u0441\u044c F - \u044d\u0442\u043e message\n@router.message(F.photo)\nasync def photo_msg(message: Message):\n    await message.answer(\"\u042d\u0442\u043e \u0442\u043e\u0447\u043d\u043e \u043a\u0430\u043a\u043e\u0435-\u0442\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435!\")\n</code></pre> <p>\u0412\u043c\u0435\u0441\u0442\u043e \u0441\u0442\u0430\u0440\u043e\u0433\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430 <code>ContentTypesFilter(content_types=\"photo\")</code> \u043d\u043e\u0432\u044b\u0439 <code>F.photo</code>. \u0423\u0434\u043e\u0431\u043d\u043e! \u0418 \u0442\u0435\u043f\u0435\u0440\u044c,  \u043e\u0431\u043b\u0430\u0434\u0430\u044f \u0442\u0430\u043a\u0438\u043c \u0441\u0430\u043a\u0440\u0430\u043b\u044c\u043d\u044b\u043c \u0437\u043d\u0430\u043d\u0438\u0435\u043c, \u043c\u044b \u043b\u0435\u0433\u043a\u043e \u043c\u043e\u0436\u0435\u043c \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 <code>ChatTypeFilter</code> \u043d\u0430 \u043c\u0430\u0433\u0438\u044e: <code>router.message.filter(F.chat.type.in_({\"group\", \"supergroup\"}))</code>. \u0411\u043e\u043b\u0435\u0435 \u0442\u043e\u0433\u043e, \u0434\u0430\u0436\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043d\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442-\u0442\u0430\u0439\u043f\u044b \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432 \u0432\u0438\u0434\u0435 \u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430: <code>F.content_type.in_({'text', 'sticker', 'photo'})</code> \u0438\u043b\u0438 <code>F.photo | F.text | F.sticker</code>.</p> <p>\u0422\u0430\u043a\u0436\u0435 \u0441\u0442\u043e\u0438\u0442 \u043f\u043e\u043c\u043d\u0438\u0442\u044c, \u0447\u0442\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u043c\u043e\u0436\u043d\u043e \u0432\u0435\u0448\u0430\u0442\u044c \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 Message, \u043d\u043e \u0438 \u043d\u0430 \u043b\u044e\u0431\u044b\u0435 \u0434\u0440\u0443\u0433\u0438\u0435  \u0442\u0438\u043f\u044b \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432: \u043a\u043e\u043b\u0431\u044d\u043a\u0438, \u0438\u043d\u043b\u0430\u0439\u043d-\u0437\u0430\u043f\u0440\u043e\u0441\u044b, (my_)chat_member \u0438 \u0434\u0440\u0443\u0433\u0438\u0435.</p> <p>\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430 \u0442\u0443 \u0441\u0430\u043c\u0443\u044e \u00ab\u044d\u043a\u0441\u043a\u043b\u044e\u0437\u0438\u0432\u043d\u0443\u044e\u00bb \u0444\u0438\u0447\u0443 magic-filter \u0432 \u0441\u043e\u0441\u0442\u0430\u0432\u0435 aiogram 3.x. \u0420\u0435\u0447\u044c \u043f\u0440\u043e  \u043c\u0435\u0442\u043e\u0434 <code>as_(&lt;some text&gt;)</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430. \u041a\u043e\u0440\u043e\u0442\u043a\u0438\u0439  \u043f\u0440\u0438\u043c\u0435\u0440, \u0447\u0442\u043e\u0431\u044b \u0441\u0442\u0430\u043b\u043e \u043f\u043e\u043d\u044f\u0442\u043d\u043e: \u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0441 \u0444\u043e\u0442\u043e \u044d\u0442\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043b\u0435\u0442\u0430\u044e\u0442 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u044b\u0447\u043d\u043e  \u043e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u044f \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u043c\u043e\u0436\u043d\u043e \u0441\u0440\u0430\u0437\u0443 \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 \u0444\u043e\u0442\u043a\u0438  \u0441 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c:</p> <pre><code>from aiogram.types import Message, PhotoSize\n\n@router.message(F.photo[-1].as_(\"largest_photo\"))\nasync def forward_from_channel_handler(message: Message, largest_photo: PhotoSize) -&gt; None:\n    print(largest_photo.width, largest_photo.height)\n</code></pre> <p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u043e\u0441\u043b\u043e\u0436\u043d\u0435\u0435. \u0415\u0441\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0441\u043b\u0430\u043d\u043e \u043e\u0442 \u0430\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0445 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u0432 \u0433\u0440\u0443\u043f\u043f\u044b  \u0438\u043b\u0438 \u0438\u0437 \u043a\u0430\u043a\u043e\u0433\u043e-\u043b\u0438\u0431\u043e \u043a\u0430\u043d\u0430\u043b\u0430, \u0442\u043e \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 <code>Message</code> \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043f\u0443\u0441\u0442\u044b\u043c \u043f\u043e\u043b\u0435 <code>forward_from_chat</code> \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c  \u0442\u0438\u043f\u0430 <code>Chat</code> \u0432\u043d\u0443\u0442\u0440\u0438. \u0412\u043e\u0442 \u043a\u0430\u043a \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0433\u043b\u044f\u0434\u0435\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u0435 <code>forward_from_chat</code>  \u043d\u0435\u043f\u0443\u0441\u0442\u043e\u0435, \u0430 \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 <code>Chat</code> \u043f\u043e\u043b\u0435 <code>type</code> \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0432\u043d\u043e <code>channel</code> (\u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438, \u043e\u0442\u0441\u0435\u043a\u0430\u0435\u043c \u0444\u043e\u0440\u0432\u0430\u0440\u0434\u044b \u043e\u0442 \u0430\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0445  \u0430\u0434\u043c\u0438\u043d\u043e\u0432, \u0440\u0435\u0430\u0433\u0438\u0440\u0443\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0444\u043e\u0440\u0432\u0430\u0440\u0434\u044b \u0438\u0437 \u043a\u0430\u043d\u0430\u043b\u043e\u0432):</p> <pre><code>from aiogram import F\nfrom aiogram.types import Message, Chat\n\n@router.message(F.forward_from_chat[F.type == \"channel\"].as_(\"channel\"))\nasync def forwarded_from_channel(message: Message, channel: Chat):\n    await message.answer(f\"This channel's ID is {channel.id}\")\n</code></pre> <p>\u0415\u0449\u0451 \u0431\u043e\u043b\u0435\u0435 \u0441\u043b\u043e\u0436\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440. \u041f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 magic-filter \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u043a\u0430\u043a\u043e\u043c\u0443-\u043d\u0438\u0431\u0443\u0434\u044c \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u0443:</p> <pre><code>from aiogram.enums import MessageEntityType\n\n@router.message(F.entities[:].type == MessageEntityType.EMAIL)\nasync def all_emails(message: Message):\n    await message.answer(\"All entities are emails\")\n\n\n@router.message(F.entities[...].type == MessageEntityType.EMAIL)\nasync def any_emails(message: Message):\n    await message.answer(\"At least one email!\")\n</code></pre>"},{"location":"filters-and-middlewares/#magic-data","title":"MagicData","text":"<p>\u041d\u0430\u043a\u043e\u043d\u0435\u0446, \u0441\u043b\u0435\u0433\u043a\u0430 \u0437\u0430\u0442\u0440\u043e\u043d\u0435\u043c MagicData. \u042d\u0442\u043e\u0442 \u0444\u0438\u043b\u044c\u0442\u0440  \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u0434\u043d\u044f\u0442\u044c\u0441\u044f \u043d\u0430 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0432\u044b\u0448\u0435 \u0432 \u043f\u043b\u0430\u043d\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432, \u0438 \u043e\u043f\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0438\u043b\u0438  \u0432 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440/\u043f\u043e\u043b\u043b\u0438\u043d\u0433/\u0432\u0435\u0431\u0445\u0443\u043a. \u041f\u0440\u0435\u0434\u043f\u043e\u043b\u043e\u0436\u0438\u043c, \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0439 \u0431\u043e\u0442. \u0418 \u0432\u043e\u0442 \u043d\u0430\u0441\u0442\u0430\u043b\u043e \u0432\u0440\u0435\u043c\u044f  \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u0442\u0435\u0445.\u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435: \u0437\u0430\u0431\u044d\u043a\u0430\u043f\u0438\u0442\u044c \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043b\u043e\u0433\u0438 \u0438 \u0442.\u0434. \u041d\u043e \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043d\u0435 \u0445\u043e\u0447\u0435\u0442\u0441\u044f \u0437\u0430\u0442\u044b\u043a\u0430\u0442\u044c \u0431\u043e\u0442\u0430,  \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0442\u0435\u0440\u044f\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044e: \u043f\u0443\u0441\u0442\u044c \u043e\u043d \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c, \u043c\u043e\u043b, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e. </p> <p>\u041e\u0434\u043d\u043e \u0438\u0437 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445 \u0440\u0435\u0448\u0435\u043d\u0438\u0439 \u2014 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u043a\u043e\u043b\u0431\u044d\u043a\u0438 \u0438 \u0434\u0440., \u0435\u0441\u043b\u0438  \u043a\u0430\u043a\u0438\u043c-\u043b\u0438\u0431\u043e \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0432 \u0431\u043e\u0442\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u0431\u0443\u043b\u0435\u0432\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 maintenance_mode, \u0440\u0430\u0432\u043d\u043e\u0435 <code>True</code>. \u041f\u0440\u043e\u0441\u0442\u0435\u043d\u044c\u043a\u0438\u0439 \u043e\u0434\u043d\u043e\u0444\u0430\u0439\u043b\u043e\u0432\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u0434\u043b\u044f  \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u044f \u044d\u0442\u043e\u0439 \u043b\u043e\u0433\u0438\u043a\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043d\u0438\u0436\u0435: </p> <pre><code>import asyncio\nimport logging\nimport sys\n\nfrom aiogram import Bot, Dispatcher, Router, F\nfrom aiogram.filters import MagicData, CommandStart\nfrom aiogram.types import Message, CallbackQuery\nfrom aiogram.utils.keyboard import InlineKeyboardBuilder\n\n# \u0421\u043e\u0437\u0434\u0430\u0451\u043c \u0440\u043e\u0443\u0442\u0435\u0440 \u0434\u043b\u044f \u0440\u0435\u0436\u0438\u043c\u0430 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0438 \u0441\u0442\u0430\u0432\u0438\u043c \u0435\u043c\u0443 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u043d\u0430 \u0442\u0438\u043f\u044b\nmaintenance_router = Router()\nmaintenance_router.message.filter(MagicData(F.maintenance_mode.is_(True)))\nmaintenance_router.callback_query.filter(MagicData(F.maintenance_mode.is_(True)))\n\nregular_router = Router()\n\n# \u0425\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u044d\u0442\u043e\u0433\u043e \u0440\u043e\u0443\u0442\u0435\u0440\u0430 \u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442\u044f\u0442 \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438 \u043a\u043e\u043b\u0431\u044d\u043a\u0438, \n# \u0435\u0441\u043b\u0438 maintenance_mode \u0440\u0430\u0432\u0435\u043d True\n@maintenance_router.message()\nasync def any_message(message: Message):\n    await message.answer(\"\u0411\u043e\u0442 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435.\")\n\n\n@maintenance_router.callback_query()\nasync def any_callback(callback: CallbackQuery):\n    await callback.answer(\n        text=\"\u0411\u043e\u0442 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435\",\n        show_alert=True\n    )\n\n# \u0425\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u044d\u0442\u043e\u0433\u043e \u0440\u043e\u0443\u0442\u0435\u0440\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0412\u041d\u0415 \u0440\u0435\u0436\u0438\u043c\u0430 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f,\n# \u0442.\u0435. \u043a\u043e\u0433\u0434\u0430 maintenance_mode \u0440\u0430\u0432\u0435\u043d False \u0438\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0432\u043e\u043e\u0431\u0449\u0435\n@regular_router.message(CommandStart())\nasync def cmd_start(message: Message):\n    builder = InlineKeyboardBuilder()\n    builder.button(text=\"\u041d\u0430\u0436\u043c\u0438 \u043c\u0435\u043d\u044f\", callback_data=\"anything\")\n    await message.answer(\n        text=\"\u041a\u0430\u043a\u043e\u0439-\u0442\u043e \u0442\u0435\u043a\u0441\u0442 \u0441 \u043a\u043d\u043e\u043f\u043a\u043e\u0439\",\n        reply_markup=builder.as_markup()\n    )\n\n\n@regular_router.callback_query(F.data == \"anything\")\nasync def callback_anything(callback: CallbackQuery):\n    await callback.answer(\n        text=\"\u042d\u0442\u043e \u043a\u0430\u043a\u043e\u0435-\u0442\u043e \u043e\u0431\u044b\u0447\u043d\u043e\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435\",\n        show_alert=True\n    )\n\n\nasync def main() -&gt; None:\n    bot = Bot('1234567890:AaBbCcDdEeFfGrOoShAHhIiJjKkLlMmNnOo')\n    # \u0412 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0436\u0438\u0437\u043d\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 maintenance_mode\n    # \u0431\u0443\u0434\u0435\u0442 \u0432\u0437\u044f\u0442\u043e \u0438\u0437 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0433\u043e \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u043e\u043d\u0444\u0438\u0433 \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 API)\n    # \u041f\u043e\u043c\u043d\u0438\u0442\u0435, \u0447\u0442\u043e \u0442.\u043a. bool \u0442\u0438\u043f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u043c\u043c\u0443\u0442\u0430\u0431\u0435\u043b\u044c\u043d\u044b\u043c,\n    # \u0435\u0433\u043e \u0441\u043c\u0435\u043d\u0430 \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435 \u043d\u0438 \u043d\u0430 \u0447\u0442\u043e \u043d\u0435 \u043f\u043e\u0432\u043b\u0438\u044f\u0435\u0442\n    dp = Dispatcher(maintenance_mode=True)\n    # Maintenance-\u0440\u043e\u0443\u0442\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0439\n    dp.include_routers(maintenance_router, regular_router)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    logging.basicConfig(level=logging.INFO, stream=sys.stdout)\n    asyncio.run(main())\n</code></pre> <p>\u0412\u0441\u0435\u0433\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0432 \u043c\u0435\u0440\u0443</p> <p>Magic-filter \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u043c\u043e\u0449\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u043e\u0440\u043e\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u043e\u0436\u043d\u0443\u044e \u043b\u043e\u0433\u0438\u043a\u0443,  \u043d\u043e \u044d\u0442\u043e \u043d\u0435 \u043f\u0430\u043d\u0430\u0446\u0435\u044f \u0438 \u043d\u0435 \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u043e\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e. \u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0445\u043e\u0434\u0443 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0444\u0438\u043b\u044c\u0442\u0440,  \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0442\u044c; \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u043a\u043b\u0430\u0441\u0441-\u0444\u0438\u043b\u044c\u0442\u0440.  \u041d\u0438\u043a\u0442\u043e \u0432\u0430\u0441 \u0437\u0430 \u044d\u0442\u043e \u043d\u0435 \u043e\u0441\u0443\u0434\u0438\u0442.</p>"},{"location":"filters-and-middlewares/#middlewares","title":"\u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438","text":""},{"location":"filters-and-middlewares/#why-middlewares","title":"\u0417\u0430\u0447\u0435\u043c \u043d\u0443\u0436\u043d\u044b \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438?","text":"<p>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u044c\u0442\u0435, \u0447\u0442\u043e \u0432\u044b \u043f\u0440\u0438\u0448\u043b\u0438 \u0432 \u043d\u043e\u0447\u043d\u043e\u0439 \u043a\u043b\u0443\u0431 \u0441 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u0446\u0435\u043b\u044c\u044e (\u043f\u043e\u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0432\u044b\u043f\u0438\u0442\u044c \u043a\u043e\u043a\u0442\u0435\u0439\u043b\u044c,  \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u043d\u043e\u0432\u044b\u043c\u0438 \u043b\u044e\u0434\u044c\u043c\u0438). \u0410 \u043d\u0430 \u0432\u0445\u043e\u0434\u0435 \u0441\u0442\u043e\u0438\u0442 \u043e\u0445\u0440\u0430\u043d\u043d\u0438\u043a. \u041e\u043d \u043c\u043e\u0436\u0435\u0442 \u0432\u0430\u0441 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c,  \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438\u0435, \u0437\u0430\u0439\u0434\u0451\u0442\u0435 \u0432\u044b \u0438\u043b\u0438 \u043d\u0435\u0442, \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0434\u0430\u0442\u044c \u0431\u0443\u043c\u0430\u0436\u043d\u044b\u0439 \u0431\u0440\u0430\u0441\u043b\u0435\u0442, \u0447\u0442\u043e\u0431\u044b  \u043f\u043e\u0442\u043e\u043c \u043e\u0442\u043b\u0438\u0447\u0430\u0442\u044c \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0445 \u0433\u043e\u0441\u0442\u0435\u0439 \u043e\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e \u0437\u0430\u0431\u043b\u0443\u0434\u0448\u0438\u0445, \u0430 \u043c\u043e\u0436\u0435\u0442 \u0432\u043e\u043e\u0431\u0449\u0435 \u043d\u0435 \u043f\u0443\u0441\u0442\u0438\u0442\u044c, \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0432 \u0434\u043e\u043c\u043e\u0439.</p> <p>\u0412 \u0442\u0435\u0440\u043c\u0438\u043d\u043e\u043b\u043e\u0433\u0438\u0438 aiogram \u0432\u044b \u2014 \u044d\u0442\u043e \u0430\u043f\u0434\u0435\u0439\u0442, \u043d\u043e\u0447\u043d\u043e\u0439 \u043a\u043b\u0443\u0431 \u2014 \u043d\u0430\u0431\u043e\u0440 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432, \u0430 \u043e\u0445\u0440\u0430\u043d\u043d\u0438\u043a \u043d\u0430 \u0432\u0445\u043e\u0434\u0435 \u2014 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c. \u0417\u0430\u0434\u0430\u0447\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e  \u0432\u043a\u043b\u0438\u043d\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432 \u0434\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043a\u0430\u043a\u043e\u0439-\u043b\u0438\u0431\u043e \u043b\u043e\u0433\u0438\u043a\u0438. \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044f\u0441\u044c \u043a \u043f\u0440\u0438\u043c\u0435\u0440\u0443 \u0432\u044b\u0448\u0435, \u0447\u0442\u043e \u043c\u043e\u0436\u043d\u043e  \u0434\u0435\u043b\u0430\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439? </p> <ul> <li>\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f;</li> <li>\u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u043a\u0430\u043a\u0438\u0435-\u0442\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u044b (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441\u0435\u0441\u0441\u0438\u044e \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u043f\u0443\u043b\u0430 \u0441\u0435\u0441\u0441\u0438\u0439);</li> <li>\u043f\u043e\u0434\u043c\u0435\u043d\u044f\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432, \u043d\u0435 \u0434\u043e\u0432\u043e\u0434\u044f \u0434\u043e \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432;</li> <li>\u043f\u043e-\u0442\u0438\u0445\u043e\u043c\u0443 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0430\u043f\u0434\u0435\u0439\u0442\u044b, \u043a\u0430\u043a \u0431\u0443\u0434\u0442\u043e \u0438\u0445 \u0438 \u043d\u0435 \u0431\u044b\u043b\u043e;</li> <li>... \u0447\u0442\u043e \u0443\u0433\u043e\u0434\u043d\u043e \u0435\u0449\u0451!</li> </ul>"},{"location":"filters-and-middlewares/#middlewares-structure","title":"\u0412\u0438\u0434\u044b \u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439","text":"<p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 \u043e\u0431\u0440\u0430\u0442\u0438\u043c\u0441\u044f \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 aiogram 3.x, \u043d\u043e \u0443\u0436\u0435 \u0432  \u0434\u0440\u0443\u0433\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430  \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435:</p> <p></p> <p>\u041e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f, \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u0434\u0432\u0430 \u0432\u0438\u0434\u0430: \u0432\u043d\u0435\u0448\u043d\u0438\u0435 (outer) \u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 (inner \u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u00ab\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438\u00bb). \u0412 \u0447\u0451\u043c \u0440\u0430\u0437\u043d\u0438\u0446\u0430?  Outer \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0434\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u043c\u0438, \u0430 inner \u2014 \u043f\u043e\u0441\u043b\u0435. \u041d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435 \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435/\u043a\u043e\u043b\u0431\u044d\u043a/\u0438\u043d\u043b\u0430\u0439\u043d-\u0437\u0430\u043f\u0440\u043e\u0441,  \u043f\u0440\u043e\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 outer-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c, \u043c\u043e\u0436\u0435\u0442 \u0442\u0430\u043a \u043d\u0438 \u0432 \u043e\u0434\u0438\u043d \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u0438 \u043d\u0435 \u043f\u043e\u043f\u0430\u0441\u0442\u044c, \u043d\u043e \u0435\u0441\u043b\u0438 \u043e\u043d \u043f\u043e\u043f\u0430\u043b \u0432 inner, \u0442\u043e \u0434\u0430\u043b\u044c\u0448\u0435  100% \u0431\u0443\u0434\u0435\u0442 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u0445\u044d\u043d\u0434\u043b\u0435\u0440.</p> <p>\u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u043d\u0430 \u0442\u0438\u043f Update</p> <p>\u0421\u0442\u043e\u0438\u0442 \u043d\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c, \u0447\u0442\u043e Update \u2014 \u044d\u0442\u043e \u043e\u0431\u0449\u0438\u0439 \u0442\u0438\u043f \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0432\u0438\u0434\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0432 Telegram. \u0418 \u0441 \u043d\u0438\u043c \u0441\u0432\u044f\u0437\u0430\u043d\u044b \u0434\u0432\u0435 \u0432\u0430\u0436\u043d\u044b\u0445 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0432  \u043f\u043b\u0430\u043d\u0435 \u0438\u0445 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 aiogram-\u043e\u043c: \u2022 Inner-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u043d\u0430 Update \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432\u0441\u0435\u0433\u0434\u0430 (\u0442.\u0435. \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0442 \u0440\u0430\u0437\u043d\u0438\u0446\u044b \u043c\u0435\u0436\u0434\u0443 Outer \u0438 Inner). \u2022 \u041c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u043d\u0430 Update \u043c\u043e\u0436\u043d\u043e \u0432\u0435\u0448\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 (\u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u0440\u043e\u0443\u0442\u0435\u0440).</p> <p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043f\u0440\u043e\u0441\u0442\u0435\u0439\u0448\u0443\u044e \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c:</p> <pre><code>from typing import Callable, Dict, Any, Awaitable\nfrom aiogram import BaseMiddleware\nfrom aiogram.types import TelegramObject\n\nclass SomeMiddleware(BaseMiddleware):\n    async def __call__(\n        self,\n        handler: Callable[[TelegramObject, Dict[str, Any]], Awaitable[Any]],\n        event: TelegramObject,\n        data: Dict[str, Any]\n    ) -&gt; Any:\n        print(\"Before handler\")\n        result = await handler(event, data)\n        print(\"After handler\")\n        return result\n</code></pre> <p>\u041a\u0430\u0436\u0434\u0430\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c, \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u0430\u044f \u043d\u0430 \u043a\u043b\u0430\u0441\u0441\u0430\u0445 (\u043c\u044b \u043d\u0435 \u0431\u0443\u0434\u0435\u043c \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c  \u0438\u043d\u044b\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b), \u0434\u043e\u043b\u0436\u043d\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c  \u043c\u0435\u0442\u043e\u0434 <code>__call__()</code> \u0441 \u0442\u0440\u0435\u043c\u044f \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438:</p> <ol> <li>handler \u2014 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u043e\u0431\u044a\u0435\u043a\u0442 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d. \u0418\u043c\u0435\u0435\u0442 \u0441\u043c\u044b\u0441\u043b \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f inner-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439,  \u0442.\u043a. outer-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u0435\u0449\u0451 \u043d\u0435 \u0437\u043d\u0430\u0435\u0442, \u0432 \u043a\u0430\u043a\u043e\u0439 \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043f\u043e\u043f\u0430\u0434\u0451\u0442 \u0430\u043f\u0434\u0435\u0439\u0442.</li> <li>event \u2014 \u0442\u0438\u043f Telegram-\u043e\u0431\u044a\u0435\u043a\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c. \u041e\u0431\u044b\u0447\u043d\u043e \u044d\u0442\u043e Update, Message, CallbackQuery \u0438\u043b\u0438 InlineQuery  (\u043d\u043e \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e). \u0415\u0441\u043b\u0438 \u0442\u043e\u0447\u043d\u043e \u0437\u043d\u0430\u0435\u0442\u0435, \u043a\u0430\u043a\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0435, \u0441\u043c\u0435\u043b\u043e \u043f\u0438\u0448\u0438\u0442\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>Message</code> \u0432\u043c\u0435\u0441\u0442\u043e  <code>TelegramObject</code>.</li> <li>data \u2014 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u0442\u0435\u043a\u0443\u0449\u0438\u043c \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0435: FSM, \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043f. \u043f\u043e\u043b\u044f \u0438\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432, \u0444\u043b\u0430\u0433\u0438 (\u043e \u043d\u0438\u0445 \u043f\u043e\u0437\u0436\u0435) \u0438 \u0442.\u0434.  \u0412 \u044d\u0442\u043e\u0442 \u0436\u0435 <code>data</code> \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043a\u043b\u0430\u0441\u0442\u044c \u0438\u0437 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u043a\u0430\u043a\u0438\u0435-\u0442\u043e \u0441\u0432\u043e\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432 \u0432\u0438\u0434\u0435  \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u0445 (\u0442\u0430\u043a \u0436\u0435, \u043a\u0430\u043a \u0432 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0445).</li> </ol> <p>\u0421 \u0442\u0435\u043b\u043e\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0435\u0449\u0451 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0435\u0435. </p> <ul> <li>\u0412\u0441\u0451, \u0447\u0442\u043e \u0432\u044b \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u0414\u041e 13-\u0439 \u0441\u0442\u0440\u043e\u043a\u0438, \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0434\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f  \u043d\u0438\u0436\u0435\u0441\u0442\u043e\u044f\u0449\u0435\u043c\u0443 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0443 (\u044d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u0440\u0443\u0433\u0430\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u0438\u043b\u0438 \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0445\u044d\u043d\u0434\u043b\u0435\u0440). </li> <li>\u0412\u0441\u0451, \u0447\u0442\u043e \u0432\u044b \u043d\u0430\u043f\u0438\u0448\u0435\u0442\u0435 \u041f\u041e\u0421\u041b\u0415 13-\u0439 \u0441\u0442\u0440\u043e\u043a\u0438, \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0443\u0436\u0435 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0445\u043e\u0434\u0430 \u0438\u0437 \u043d\u0438\u0436\u0435\u0441\u0442\u043e\u044f\u0449\u0435\u0433\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430.</li> <li>\u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u043b\u0430\u0441\u044c, \u0432\u044b \u041e\u0411\u042f\u0417\u0410\u041d\u042b \u0432\u044b\u0437\u0432\u0430\u0442\u044c <code>await handler(event, data)</code>. \u0415\u0441\u043b\u0438 \u0445\u043e\u0442\u0438\u0442\u0435  \u00ab\u0434\u0440\u043e\u043f\u043d\u0443\u0442\u044c\u00bb \u0430\u043f\u0434\u0435\u0439\u0442, \u043f\u0440\u043e\u0441\u0442\u043e \u043d\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u0439\u0442\u0435 \u0435\u0433\u043e.</li> <li>\u0415\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430, \u0442\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435  <code>return await handler(event, data)</code>. \u0415\u0441\u043b\u0438 \u043d\u0435 \u0432\u0435\u0440\u043d\u0443\u0442\u044c <code>await handler(event, data)</code> (\u043d\u0435\u044f\u0432\u043d\u044b\u0439 <code>return None</code>),  \u0442\u043e \u0430\u043f\u0434\u0435\u0439\u0442 \u0431\u0443\u0434\u0435\u0442 \u0441\u0447\u0438\u0442\u0430\u0442\u044c\u0441\u044f \u00ab\u0434\u0440\u043e\u043f\u043d\u0443\u0442\u044b\u043c\u00bb.</li> </ul> <p>\u0412\u0441\u0435 \u043f\u0440\u0438\u0432\u044b\u0447\u043d\u044b\u0435 \u043d\u0430\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u044b (<code>Message</code>, <code>CallbackQuery</code> \u0438 \u0442.\u0434.) \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0430\u043f\u0434\u0435\u0439\u0442\u0430\u043c\u0438 (<code>Update</code>), \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0434\u043b\u044f <code>Message</code> \u0441\u043d\u0430\u0447\u0430\u043b\u0430  \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u0441\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0434\u043b\u044f <code>Update</code>, \u0430 \u0443\u0436\u0435 \u0437\u0430\u0442\u0435\u043c \u0434\u043b\u044f \u0441\u0430\u043c\u043e\u0433\u043e <code>Message</code>. \u041e\u0441\u0442\u0430\u0432\u0438\u043c \u043d\u0430 \u043c\u0435\u0441\u0442\u0435 \u043d\u0430\u0448\u0438 <code>print()</code> \u0438\u0437 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0432\u044b\u0448\u0435 \u0438  \u043f\u0440\u043e\u0441\u043b\u0435\u0434\u0438\u043c, \u043a\u0430\u043a \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c\u0441\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438, \u0435\u0441\u043b\u0438 \u043c\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c \u043f\u043e \u043e\u0434\u043d\u043e\u0439 outer- \u0438 inner-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u0434\u043b\u044f \u0442\u0438\u043f\u043e\u0432  <code>Update</code> \u0438 <code>Message</code>.</p> <p>\u0415\u0441\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 (<code>Message</code>) \u0432 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u043c \u0441\u0447\u0451\u0442\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e\u0441\u044c \u043a\u0430\u043a\u0438\u043c-\u0442\u043e \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u043c:</p> <ol> <li><code>[Update Outer] Before handler</code></li> <li><code>[Update Inner] Before handler</code></li> <li><code>[Message Outer] Before handler</code></li> <li><code>[Message Inner] Before handler</code></li> <li><code>[Message Inner] After handler</code></li> <li><code>[Message Outer] After handler</code></li> <li><code>[Update Inner] After handler</code></li> <li><code>[Update Outer] After handler</code></li> </ol> <p>\u0415\u0441\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u043d\u0430\u0448\u043b\u043e \u043d\u0443\u0436\u043d\u044b\u0439 \u0445\u044d\u043d\u0434\u043b\u0435\u0440:</p> <ol> <li><code>[Update Outer] Before handler</code></li> <li><code>[Update Inner] Before handler</code></li> <li><code>[Message Outer] Before handler</code></li> <li><code>[Message Outer] After handler</code></li> <li><code>[Update Inner] After handler</code></li> <li><code>[Update Outer] After handler</code></li> </ol> <p>\u0411\u0430\u043d\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u0431\u043e\u0442\u0435</p> <p>\u041e\u0447\u0435\u043d\u044c \u0447\u0430\u0441\u0442\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 \u043f\u043e Telegram-\u0431\u043e\u0442\u0430\u043c \u0437\u0430\u0434\u0430\u044e\u0442 \u043e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 \u0432\u043e\u043f\u0440\u043e\u0441: \u00ab\u0430 \u043a\u0430\u043a \u0431\u0430\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0431\u043e\u0442\u0435, \u0447\u0442\u043e\u0431\u044b  \u0442\u043e\u0442 \u043d\u0435 \u043c\u043e\u0433 \u0431\u043e\u0442\u0443 \u043f\u0438\u0441\u0430\u0442\u044c?\u00bb. \u0421\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e, \u043b\u0443\u0447\u0448\u0438\u043c \u043c\u0435\u0441\u0442\u043e\u043c \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0431\u0443\u0434\u0435\u0442 outer-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u043d\u0430 Update, \u043a\u0430\u043a \u0441\u0430\u043c\u044b\u0439 \u0440\u0430\u043d\u043d\u0438\u0439  \u044d\u0442\u0430\u043f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u044e\u0437\u0435\u0440\u0430. \u0411\u043e\u043b\u0435\u0435 \u0442\u043e\u0433\u043e, \u043e\u0434\u043d\u0430 \u0438\u0437 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0445 \u0432 aiogram \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439 \u043a\u043b\u0430\u0434\u0451\u0442 \u0432 <code>data</code> \u0441\u043b\u043e\u0432\u0430\u0440\u0438\u043a  \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u043f\u043e \u043a\u043b\u044e\u0447\u0443 <code>event_from_user</code>. \u0414\u0430\u043b\u0435\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0441\u0442\u0430\u0442\u044c \u043e\u0442\u0442\u0443\u0434\u0430 ID \u044e\u0437\u0435\u0440\u0430, \u0441\u0440\u0430\u0432\u043d\u0438\u0442\u044c \u0441  \u043a\u0430\u043a\u0438\u043c-\u043d\u0438\u0431\u0443\u0434\u044c \u0441\u0432\u043e\u0438\u043c \u00ab\u0441\u043f\u0438\u0441\u043a\u043e\u043c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445\u00bb \u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c <code>return</code>, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0443\u044e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443  \u043f\u043e \u0446\u0435\u043f\u043e\u0447\u043a\u0435.</p>"},{"location":"filters-and-middlewares/#middlewares-examples","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439","text":"<p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439.</p>"},{"location":"filters-and-middlewares/#middleware-pass-arguments","title":"\u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c","text":"<p>\u041c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438-\u043a\u043b\u0430\u0441\u0441\u044b, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u0443 \u043d\u0438\u0445 \u0435\u0441\u0442\u044c \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043a\u043e\u0434\u0430 \u0432\u043d\u0443\u0442\u0440\u0438,  \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u044f \u0438\u043c \u0441\u043d\u0430\u0440\u0443\u0436\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438. \u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0431\u0435\u0441\u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e, \u043d\u043e \u043d\u0430\u0433\u043b\u044f\u0434\u043d\u0443\u044e \"\u0437\u0430\u043c\u0435\u0434\u043b\u044f\u044e\u0449\u0443\u044e\" \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c,  \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0442\u043e\u0440\u043c\u043e\u0437\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u043a\u0443\u043d\u0434:</p> <pre><code>import asyncio\nfrom typing import Any, Callable, Dict, Awaitable\nfrom aiogram import BaseMiddleware\nfrom aiogram.types import TelegramObject\n\nclass SlowpokeMiddleware(BaseMiddleware):\n    def __init__(self, sleep_sec: int):\n        self.sleep_sec = sleep_sec\n\n    async def __call__(\n            self,\n            handler: Callable[[TelegramObject, Dict[str, Any]], Awaitable[Any]],\n            event: TelegramObject,\n            data: Dict[str, Any],\n    ) -&gt; Any:\n        # \u0416\u0434\u0451\u043c \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u043a\u0443\u043d\u0434 \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u043c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043b\u044c\u0448\u0435 \u043f\u043e \u0446\u0435\u043f\u043e\u0447\u043a\u0435\n        # (\u044d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043a\u0430\u043a \u0445\u044d\u043d\u0434\u043b\u0435\u0440, \u0442\u0430\u043a \u0438 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c)\n        await asyncio.sleep(self.sleep_sec)\n        result = await handler(event, data)\n        # \u0415\u0441\u043b\u0438 \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c return, \u0442\u043e \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043f\u0430\u0434\u0451\u0442 \u0432 result\n        print(f\"Handler was delayed by {self.sleep_sec} seconds\")\n        return result\n</code></pre> <p>\u0418 \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0432\u0435\u0441\u0438\u043c \u0435\u0451 \u043d\u0430 \u0434\u0432\u0430 \u0440\u043e\u0443\u0442\u0435\u0440\u0430 \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438:</p> <pre><code>from aiogram import Router\nfrom &lt;...&gt; import SlowpokeMiddleware\n\n# \u0413\u0434\u0435-\u0442\u043e \u0432 \u0434\u0440\u0443\u0433\u043e\u043c \u043c\u0435\u0441\u0442\u0435\nrouter1 = Router()\nrouter2 = Router()\n\nrouter1.message.middleware(SlowpokeMiddleware(sleep_sec=5))\nrouter2.message.middleware(SlowpokeMiddleware(sleep_sec=10))\n</code></pre>"},{"location":"filters-and-middlewares/#middleware-store-data","title":"\u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438","text":"<p>\u041a\u0430\u043a \u043c\u044b \u0443\u0436\u0435 \u0432\u044b\u044f\u0441\u043d\u0438\u043b\u0438 \u0440\u0430\u043d\u0435\u0435, \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0433\u043e \u0430\u043f\u0434\u0435\u0439\u0442\u0430 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044f\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0441\u043b\u043e\u0432\u0430\u0440\u044c <code>data</code>,  \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u043b\u0435\u0436\u0430\u0442 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b: \u0431\u043e\u0442, \u0430\u0432\u0442\u043e\u0440 \u0430\u043f\u0434\u0435\u0439\u0442\u0430 (event_from_user) \u0438 \u0442.\u0434. \u041d\u043e \u0442\u0430\u043a\u0436\u0435 \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043d\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u044d\u0442\u043e\u0442  \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0447\u0435\u043c \u0443\u0433\u043e\u0434\u043d\u043e. \u0411\u043e\u043b\u0435\u0435 \u0442\u043e\u0433\u043e, \u043f\u043e\u0437\u0434\u043d\u0435\u0435 \u0432\u044b\u0437\u0432\u0430\u043d\u043d\u044b\u0435 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u043c\u043e\u0433\u0443\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u0442\u043e, \u0447\u0442\u043e \u0442\u0443\u0434\u0430 \u043f\u043e\u043b\u043e\u0436\u0438\u043b\u0438 \u0440\u0430\u043d\u0435\u0435 \u0432\u044b\u0437\u0432\u0430\u043d\u043d\u044b\u0435.</p> <p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044e: \u043f\u0435\u0440\u0432\u0430\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u043f\u043e Telegram ID \u044e\u0437\u0435\u0440\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u0430\u0439\u0434\u0438\u0448\u043d\u0438\u043a (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0438\u0437  \u044f\u043a\u043e\u0431\u044b \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430), \u0430 \u0432\u0442\u043e\u0440\u0430\u044f \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u043f\u043e \u044d\u0442\u043e\u043c\u0443 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u043c\u0443 \u0430\u0439\u0434\u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 \u00ab\u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u044b\u0439 \u043c\u0435\u0441\u044f\u0446\u00bb \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u043e\u0441\u0442\u0430\u0442\u043e\u043a \u043e\u0442 \u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0433\u043e \u0430\u0439\u0434\u0438 \u043d\u0430 12). \u0412\u0441\u0451 \u044d\u0442\u043e \u043a\u043b\u0430\u0434\u0451\u0442\u0441\u044f \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0434\u0443\u0435\u0442 \u0438\u043b\u0438 \u043e\u0433\u043e\u0440\u0447\u0430\u0435\u0442 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430, \u0432\u044b\u0437\u0432\u0430\u0432\u0448\u0435\u0433\u043e  \u043a\u043e\u043c\u0430\u043d\u0434\u0443. \u0417\u0432\u0443\u0447\u0438\u0442 \u0441\u043b\u043e\u0436\u043d\u043e, \u043d\u043e \u0441\u0435\u0439\u0447\u0430\u0441 \u0432\u0441\u0451 \u043f\u043e\u0439\u043c\u0451\u0442\u0435. \u041d\u0430\u0447\u043d\u0451\u043c \u0441 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439:</p> <pre><code>from random import randint\nfrom typing import Any, Callable, Dict, Awaitable\nfrom datetime import datetime\nfrom aiogram import BaseMiddleware\nfrom aiogram.types import TelegramObject\n\n# \u041c\u0438\u0434\u043b\u0432\u0430\u0440\u044c, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0434\u043e\u0441\u0442\u0430\u0451\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u0430\u0439\u0434\u0438 \u044e\u0437\u0435\u0440\u0430 \u0438\u0437 \u043a\u0430\u043a\u043e\u0433\u043e-\u0442\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430\nclass UserInternalIdMiddleware(BaseMiddleware):\n    # \u0420\u0430\u0437\u0443\u043c\u0435\u0435\u0442\u0441\u044f, \u043d\u0438\u043a\u0430\u043a\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0443 \u043d\u0430\u0441 \u0432 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u043d\u0435\u0442,\n    # \u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0443\u0440\u043e\u0432\u044b\u0439 \u0440\u0430\u043d\u0434\u043e\u043c:\n    def get_internal_id(self, user_id: int) -&gt; int:\n        return randint(100_000_000, 900_000_000) + user_id\n\n    async def __call__(\n            self,\n            handler: Callable[[TelegramObject, Dict[str, Any]], Awaitable[Any]],\n            event: TelegramObject,\n            data: Dict[str, Any],\n    ) -&gt; Any:\n        user = data[\"event_from_user\"]\n        data[\"internal_id\"] = self.get_internal_id(user.id)\n        return await handler(event, data)\n\n# \u041c\u0438\u0434\u043b\u0432\u0430\u0440\u044c, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 \"\u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u044b\u0439 \u043c\u0435\u0441\u044f\u0446\" \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\nclass HappyMonthMiddleware(BaseMiddleware):\n    async def __call__(\n            self,\n            handler: Callable[[TelegramObject, Dict[str, Any]], Awaitable[Any]],\n            event: TelegramObject,\n            data: Dict[str, Any],\n    ) -&gt; Any:\n        # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438\n        internal_id: int = data[\"internal_id\"]\n        current_month: int = datetime.now().month\n        is_happy_month: bool = (internal_id % 12) == current_month\n        # \u041a\u043b\u0430\u0434\u0451\u043c True \u0438\u043b\u0438 False \u0432 data, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0431\u0440\u0430\u0442\u044c \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0435\n        data[\"is_happy_month\"] = is_happy_month\n        return await handler(event, data)\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0445\u044d\u043d\u0434\u043b\u0435\u0440, \u043f\u043e\u043b\u043e\u0436\u0438\u043c \u0435\u0433\u043e \u0432 \u0440\u043e\u0443\u0442\u0435\u0440 \u0438 \u043f\u0440\u0438\u0446\u0435\u043f\u0438\u043c \u0440\u043e\u0443\u0442\u0435\u0440 \u043a \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0443. \u041f\u0435\u0440\u0432\u0443\u044e \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u043f\u043e\u0432\u0435\u0441\u0438\u043c \u043a\u0430\u043a outer \u043d\u0430 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440,  \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e (\u043f\u043e \u0437\u0430\u0434\u0443\u043c\u043a\u0435) \u044d\u0442\u043e\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u0430\u0439\u0434\u0438 \u043d\u0443\u0436\u0435\u043d \u0432\u0441\u0435\u0433\u0434\u0430 \u0438 \u0432\u0435\u0437\u0434\u0435. \u0410 \u0432\u0442\u043e\u0440\u0443\u044e \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u043f\u043e\u0432\u0435\u0441\u0438\u043c \u043a\u0430\u043a inner \u043d\u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440,  \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u043e\u0433\u043e \u043c\u0435\u0441\u044f\u0446\u0430 \u043d\u0443\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u043d\u0451\u043c.</p> <pre><code>@router.message(Command(\"happymonth\"))\nasync def cmd_happymonth(\n        message: Message, \n        internal_id: int, \n        is_happy_month: bool\n):\n    phrases = [f\"\u0412\u0430\u0448 ID \u0432 \u043d\u0430\u0448\u0435\u043c \u0441\u0435\u0440\u0432\u0438\u0441\u0435: {internal_id}\"]\n    if is_happy_month:\n        phrases.append(\"\u0421\u0435\u0439\u0447\u0430\u0441 \u0432\u0430\u0448 \u0441\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u044b\u0439 \u043c\u0435\u0441\u044f\u0446!\")\n    else:\n        phrases.append(\"\u0412 \u044d\u0442\u043e\u043c \u043c\u0435\u0441\u044f\u0446\u0435 \u0431\u0443\u0434\u044c\u0442\u0435 \u043e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u0435\u0435...\")\n    await message.answer(\". \".join(phrases))\n\n# \u0413\u0434\u0435-\u0442\u043e \u0432 \u0434\u0440\u0443\u0433\u043e\u043c \u043c\u0435\u0441\u0442\u0435:\nasync def main():\n    dp = Dispatcher()\n    # &lt;...&gt;\n    dp.update.outer_middleware(UserInternalIdMiddleware())\n    router.message.middleware(HappyMonthMiddleware())\n</code></pre> <p>\u0412\u043e\u0442 \u043a\u0430\u043a\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438\u0441\u044c \u0432 \u043d\u043e\u044f\u0431\u0440\u0435 (11-\u0439 \u043c\u0435\u0441\u044f\u0446):</p> <p></p>"},{"location":"filters-and-middlewares/#no-callbacks-on-weekend","title":"\u041d\u0438\u043a\u0430\u043a\u0438\u0445 \u043a\u043e\u043b\u0431\u044d\u043a\u043e\u0432 \u043f\u043e \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u043c!","text":"<p>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c, \u0447\u0442\u043e \u0443 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0437\u0430\u0432\u043e\u0434\u0430 \u0435\u0441\u0442\u044c Telegram-\u0431\u043e\u0442 \u0438 \u043a\u0430\u0436\u0434\u043e\u0435 \u0443\u0442\u0440\u043e \u0437\u0430\u0432\u043e\u0434\u0447\u0430\u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u043d\u0430\u0436\u0438\u043c\u0430\u0442\u044c \u043d\u0430 \u0438\u043d\u043b\u0430\u0439\u043d-\u043a\u043d\u043e\u043f\u043a\u0443,  \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0441\u0432\u043e\u0451 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0438 \u0434\u0435\u0435\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c. \u0417\u0430\u0432\u043e\u0434 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 5/2 \u0438 \u043c\u044b \u0445\u043e\u0442\u0438\u043c, \u0447\u0442\u043e\u0431\u044b \u0432 \u0441\u0443\u0431\u0431\u043e\u0442\u0443 \u0438 \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u044f  \u043d\u0435 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u043b\u0438\u0441\u044c. \u041f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043d\u0430 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0437\u0430\u0432\u044f\u0437\u0430\u043d\u0430 \u0441\u043b\u043e\u0436\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 (\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0421\u041a\u0414), \u0442\u043e \u0432 \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0431\u0443\u0434\u0435\u043c  \u043f\u0440\u043e\u0441\u0442\u043e \u00ab\u0434\u0440\u043e\u043f\u0430\u0442\u044c\u00bb \u0430\u043f\u0434\u0435\u0439\u0442 \u0438 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u043e\u043a\u043e\u0448\u043a\u043e \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439. \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0446\u0435\u043b\u0438\u043a\u043e\u043c \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c:</p> <pre><code>import asyncio\nimport logging\nimport sys\nfrom datetime import datetime\nfrom typing import Any, Callable, Dict, Awaitable\n\nfrom aiogram import Bot, Dispatcher, Router, BaseMiddleware, F\nfrom aiogram.filters import Command\nfrom aiogram.types import Message, CallbackQuery, TelegramObject\nfrom aiogram.utils.keyboard import InlineKeyboardBuilder\n\nrouter = Router()\n\n# \u042d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 outer-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u043d\u0430 \u043b\u044e\u0431\u044b\u0435 \u043a\u043e\u043b\u0431\u044d\u043a\u0438\nclass WeekendCallbackMiddleware(BaseMiddleware):\n    def is_weekend(self) -&gt; bool:\n        # 5 - \u0441\u0443\u0431\u0431\u043e\u0442\u0430, 6 - \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435\n        return datetime.utcnow().weekday() in (5, 6)\n\n    async def __call__(\n            self,\n            handler: Callable[[TelegramObject, Dict[str, Any]], Awaitable[Any]],\n            event: TelegramObject,\n            data: Dict[str, Any]\n    ) -&gt; Any:\n        # \u041c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u0441\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c,\n        # \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u043f\u043e \u043e\u0448\u0438\u0431\u043a\u0435 \u041d\u0415 \u043d\u0430 \u043a\u043e\u043b\u0431\u044d\u043a\u0438\n        if not isinstance(event, CallbackQuery):\n            # \u0442\u0443\u0442 \u043a\u0430\u043a-\u043d\u0438\u0431\u0443\u0434\u044c \u0437\u0430\u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c\n            return await handler(event, data)\n\n        # \u0415\u0441\u043b\u0438 \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0435 \u0441\u0443\u0431\u0431\u043e\u0442\u0430 \u0438 \u043d\u0435 \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435,\n        # \u0442\u043e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443.\n        if not self.is_weekend():\n            return await handler(event, data)\n        # \u0412 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u043c \u043d\u0430 \u043a\u043e\u043b\u0431\u044d\u043a \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\n        # \u0438 \u043f\u0440\u0435\u043a\u0440\u0430\u0449\u0430\u0435\u043c \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0443\u044e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443\n        await event.answer(\n            \"\u041a\u0430\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430? \u0417\u0430\u0432\u043e\u0434 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0434\u043e \u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a\u0430!\",\n            show_alert=True\n        )\n        return\n\n\n@router.message(Command(\"checkin\"))\nasync def cmd_checkin(message: Message):\n    builder = InlineKeyboardBuilder()\n    builder.button(text=\"\u042f \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0435!\", callback_data=\"checkin\")\n    await message.answer(\n        text=\"\u041d\u0430\u0436\u0438\u043c\u0430\u0439\u0442\u0435 \u044d\u0442\u0443 \u043a\u043d\u043e\u043f\u043a\u0443 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e \u0431\u0443\u0434\u043d\u0438\u043c \u0434\u043d\u044f\u043c!\",\n        reply_markup=builder.as_markup()\n    )\n\n\n@router.callback_query(F.data == \"checkin\")\nasync def callback_checkin(callback: CallbackQuery):\n    # \u0422\u0443\u0442 \u043c\u043d\u043e\u0433\u043e \u0441\u043b\u043e\u0436\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430\n    await callback.answer(\n        text=\"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u0438 \u0441\u0432\u043e\u0451 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435!\",\n        show_alert=True\n    )\n\n\nasync def main() -&gt; None:\n    bot = Bot('1234567890:AaBbCcDdEeFfGrOoShAHhIiJjKkLlMmNnOo')\n    dp = Dispatcher()\n    dp.callback_query.outer_middleware(WeekendCallbackMiddleware())\n    dp.include_router(router)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    logging.basicConfig(level=logging.INFO, stream=sys.stdout)\n    asyncio.run(main())\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c, \u0435\u0441\u043b\u0438 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u043f\u043e\u0431\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f\u043c\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0447\u0442\u043e \u043f\u043e \u0431\u0443\u0434\u043d\u0438\u043c \u0434\u043d\u044f\u043c \u0431\u043e\u0442 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e,  \u0430 \u043f\u043e \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u043c \u0432\u044b\u0432\u043e\u0434\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0443.</p>"},{"location":"filters-and-middlewares/#flags","title":"\u0424\u043b\u0430\u0433\u0438","text":"<p>\u0415\u0449\u0451 \u043e\u0434\u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0444\u0438\u0447\u0430 aiogram 3.x \u2014 \u0444\u043b\u0430\u0433\u0438. \u041f\u043e \u0441\u0443\u0442\u0438,  \u044d\u0442\u043e \u043d\u0435\u043a\u0438\u0435 \u00ab\u043c\u0430\u0440\u043a\u0435\u0440\u044b\u00bb \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u0447\u0438\u0442\u0430\u0442\u044c \u0432 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044f\u0445 \u0438 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0444\u043b\u0430\u0433\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043c\u0435\u0442\u0438\u0442\u044c \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b,  \u043d\u0435 \u0432\u043b\u0435\u0437\u0430\u044f \u0432 \u0438\u0445 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044e\u044e \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0442\u0435\u043c \u0447\u0442\u043e-\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044f\u0445, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u0440\u043e\u0442\u0442\u043b\u0438\u043d\u0433. </p> <p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0439 \u043a\u043e\u0434  \u0438\u0437 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438. \u041f\u0440\u0435\u0434\u043f\u043e\u043b\u043e\u0436\u0438\u043c,  \u0432 \u0432\u0430\u0448\u0435\u043c \u0431\u043e\u0442\u0435 \u043c\u043d\u043e\u0433\u043e \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439 \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u043e\u0432 \u0438\u043b\u0438 \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u043e\u0439 \u0442\u0435\u043a\u0441\u0442\u0430 \u0434\u043b\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439  \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438. \u0415\u0441\u043b\u0438 \u0442\u0430\u043a\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0434\u043e\u043b\u0433\u043e, \u0442\u043e \u0445\u043e\u0440\u043e\u0448\u0438\u043c \u0442\u043e\u043d\u043e\u043c \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0442  \u0438\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0444\u043e\u0442\u043e \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u043c\u0435\u0442\u043e\u0434\u0430 sendChatAction.  \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e, \u0442\u0430\u043a\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0441\u0435\u0433\u043e \u043d\u0430 5 \u0441\u0435\u043a\u0443\u043d\u0434, \u043d\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435  \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0440\u0430\u043d\u044c\u0448\u0435. \u0423 aiogram \u0435\u0441\u0442\u044c \u0432\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 <code>ChatActionSender</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c  \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441 \u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440, \u043f\u043e\u043a\u0430 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f.</p> <p>\u041c\u044b \u0442\u0430\u043a\u0436\u0435 \u043d\u0435 \u0445\u043e\u0442\u0438\u043c \u0432\u043d\u0443\u0442\u0440\u044c \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430 \u0437\u0430\u043f\u0438\u0445\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 <code>ChatActionSender</code>, \u043f\u0443\u0441\u0442\u044c \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u0441 \u0442\u0435\u043c\u0438  \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u043c\u0438, \u0443 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u0444\u043b\u0430\u0433 <code>long_operation</code> \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u0441\u0442\u0430\u0442\u0443\u0441\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>typing</code>, <code>choose_sticker</code>...).  \u0410 \u0432\u043e\u0442 \u0438 \u0441\u0430\u043c\u0430 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c:</p> <pre><code>from typing import Callable, Dict, Any, Awaitable\n\nfrom aiogram import BaseMiddleware\nfrom aiogram.dispatcher.flags import get_flag\nfrom aiogram.types import Message\nfrom aiogram.utils.chat_action import ChatActionSender\n\n\nclass ChatActionMiddleware(BaseMiddleware):\n    async def __call__(\n        self,\n        handler: Callable[[Message, Dict[str, Any]], Awaitable[Any]],\n        event: Message,\n        data: Dict[str, Any],\n    ) -&gt; Any:\n        long_operation_type = get_flag(data, \"long_operation\")\n\n        # \u0415\u0441\u043b\u0438 \u0442\u0430\u043a\u043e\u0433\u043e \u0444\u043b\u0430\u0433\u0430 \u043d\u0430 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0435 \u043d\u0435\u0442\n        if not long_operation_type:\n            return await handler(event, data)\n\n        # \u0415\u0441\u043b\u0438 \u0444\u043b\u0430\u0433 \u0435\u0441\u0442\u044c\n        async with ChatActionSender(\n                action=long_operation_type,\n                chat_id=event.chat.id,\n                bot=data[\"bot\"],\n        ):\n            return await handler(event, data)\n</code></pre> <p>\u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u0447\u0442\u043e\u0431\u044b \u0444\u043b\u0430\u0433 \u0431\u044b\u043b \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d, \u0435\u0433\u043e \u043d\u0430\u0434\u043e \u0433\u0434\u0435-\u0442\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c.  \u0412\u0430\u0440\u0438\u0430\u043d\u0442: <code>@dp.message(&lt;\u0442\u0443\u0442 \u0432\u0430\u0448\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u044b&gt;, flags={\"long_operation\": \"upload_video_note\"})</code></p> <p>\u041f\u0440\u0438\u043c\u0435\u0440 throttling-\u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0432 \u043c\u043e\u0451\u043c  \u043a\u0430\u0437\u0438\u043d\u043e-\u0431\u043e\u0442\u0435.</p>"},{"location":"fsm/","title":"\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u044b (FSM)","text":""},{"location":"fsm/#fsm-start","title":"\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u044b (FSM)","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f aiogram: 3.7.0</p>"},{"location":"fsm/#theory","title":"\u0422\u0435\u043e\u0440\u0438\u044f","text":"<p>\u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u043f\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u043c \u043e \u0435\u0449\u0451 \u043e\u0434\u043d\u043e\u0439 \u0432\u0430\u0436\u043d\u043e\u0439 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0431\u043e\u0442\u043e\u0432: \u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432. \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0434\u0430\u043b\u0435\u043a\u043e \u043d\u0435 \u0432\u0441\u0435  \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0432 \u0431\u043e\u0442\u0435 \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0437\u0430 \u043e\u0434\u043d\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u0443. \u041f\u0440\u0435\u0434\u043f\u043e\u043b\u043e\u0436\u0438\u043c, \u0435\u0441\u0442\u044c \u0431\u043e\u0442 \u0434\u043b\u044f \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432, \u0433\u0434\u0435 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043d\u0443\u0436\u043d\u043e  \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u043c\u044f, \u0432\u043e\u0437\u0440\u0430\u0441\u0442 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e \u0441 \u043b\u0438\u0446\u043e\u043c. \u041c\u043e\u0436\u043d\u043e, \u043a\u043e\u043d\u0435\u0447\u043d\u043e, \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e, \u0430 \u0432 \u043f\u043e\u0434\u043f\u0438\u0441\u0438  \u043a \u043d\u0435\u0439 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u043d\u043e \u044d\u0442\u043e \u043d\u0435\u0443\u0434\u043e\u0431\u043d\u043e \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0433\u043e \u0432\u0432\u043e\u0434\u0430. \u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c \u043f\u043e\u0448\u0430\u0433\u043e\u0432\u044b\u0439 \u0432\u0432\u043e\u0434 \u0434\u0430\u043d\u043d\u044b\u0445, \u0433\u0434\u0435 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u0431\u043e\u0442 \u00ab\u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u00bb \u0440\u0435\u0436\u0438\u043c \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e  \u044e\u0437\u0435\u0440\u0430, \u0434\u0430\u043b\u0435\u0435 \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u044d\u0442\u0430\u043f\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0432\u0432\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u0430 \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0435 <code>/cancel</code> \u043f\u0440\u0435\u043a\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0436\u0438\u0434\u0430\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0439 \u0448\u0430\u0433 \u0438  \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0440\u0435\u0436\u0438\u043c. \u0412\u0437\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u043d\u0430 \u0441\u0445\u0435\u043c\u0443 \u043d\u0438\u0436\u0435:</p> <p></p> <p>\u0417\u0435\u043b\u0451\u043d\u043e\u0439 \u0441\u0442\u0440\u0435\u043b\u043a\u043e\u0439 \u043e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430 \u043f\u043e \u0448\u0430\u0433\u0430\u043c \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a, \u0441\u0438\u043d\u0438\u0435 \u0441\u0442\u0440\u0435\u043b\u043a\u0438 \u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438  \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0433\u043e \u0432\u0432\u043e\u0434\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u044e\u0437\u0435\u0440 \u0443\u043a\u0430\u0437\u0430\u043b, \u0447\u0442\u043e \u0435\u043c\u0443 250 \u043b\u0435\u0442, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u043e\u0437\u0440\u0430\u0441\u0442 \u0437\u0430\u043d\u043e\u0432\u043e), \u0430 \u043a\u0440\u0430\u0441\u043d\u044b\u0435  \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u0432\u0441\u0435\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0438\u0437-\u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u044b <code>/cancel</code> \u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439, \u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0449\u0435\u0439 \u043e\u0442\u043c\u0435\u043d\u0443.</p> <p>\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u043e \u0441\u0445\u0435\u043c\u044b \u0432\u044b\u0448\u0435 \u0432 \u0442\u0435\u043e\u0440\u0438\u0438 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u043e\u0432 \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u043c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u043e\u043c (\u0438\u043b\u0438 FSM \u2014 Finite State Machine). \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e\u0431 \u044d\u0442\u043e\u043c \u043c\u043e\u0436\u043d\u043e  \u043f\u0440\u043e\u0447\u0435\u0441\u0442\u044c \u0437\u0434\u0435\u0441\u044c.</p> <p>\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432</p> <p>\u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u043e\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u0435\u0442\u0435\u0441\u044c \u0441 FSM \u0432 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435, \u0432\u044b \u043d\u0430\u0432\u0435\u0440\u043d\u044f\u043a\u0430 \u043e\u0449\u0443\u0442\u0438\u0442\u0435, \u043a\u0430\u043a \u043c\u043d\u043e\u0433\u043e \u0432\u0441\u0435\u0433\u043e \u043f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u0441\u0434\u0435\u043b\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b  \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0440\u0430\u0437\u0432\u0435\u0442\u0432\u043b\u0451\u043d\u043d\u0443\u044e \u0446\u0435\u043f\u043e\u0447\u043a\u0443 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439. \u041a \u0441\u0447\u0430\u0441\u0442\u044c\u044e, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430  aiogram-dialog \u043e\u0442 Tishka17, \u0443\u043f\u0440\u043e\u0449\u0430\u044e\u0449\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439.</p>"},{"location":"fsm/#practice","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430","text":"<p>\u0412 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0445 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u043e\u0432 \u0432 aiogram \u0443\u0436\u0435 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u0432 \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439  \u043c\u0435\u0436\u0434\u0443 \u044d\u0442\u0430\u043f\u0430\u043c\u0438 \u0434\u0438\u0430\u043b\u043e\u0433\u0430 \u0441 \u0431\u043e\u0442\u043e\u043c (\u0432\u043f\u0440\u043e\u0447\u0435\u043c, \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043c\u0435\u0448\u0430\u0435\u0442 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0432\u043e\u0439), \u0430 \u043f\u043e\u043c\u0438\u043c\u043e, \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439  \u043c\u043e\u0436\u043d\u043e \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432\u044b\u0448\u0435\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0438\u043c\u044f \u0438 \u0432\u043e\u0437\u0440\u0430\u0441\u0442 \u0434\u043b\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f  \u0433\u0434\u0435-\u043b\u0438\u0431\u043e. \u0421\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0435\u044e\u0449\u0438\u0445\u0441\u044f \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449 FSM \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438  \u0432 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438 aiogram,  \u0430 \u0432 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0430\u043c\u044b\u043c \u043f\u0440\u043e\u0441\u0442\u044b\u043c \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c  MemoryStorage, \u043a\u043e\u0442\u043e\u0440\u044b\u0439  \u0445\u0440\u0430\u043d\u0438\u0442 \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438. \u041e\u043d \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u0432, \u043d\u043e \u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0445  \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445, \u0442.\u043a. MemoryStorage \u0445\u0440\u0430\u043d\u0438\u0442 \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438 \u0431\u0435\u0437 \u0441\u0431\u0440\u043e\u0441\u0430 \u043d\u0430 \u0434\u0438\u0441\u043a. \u0422\u0430\u043a\u0436\u0435 \u0441\u0442\u043e\u0438\u0442 \u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c, \u0447\u0442\u043e \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0435  \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 (<code>message_handler</code>, <code>edited_message_handler</code>), \u043d\u043e \u0442\u0430\u043a\u0436\u0435  \u0441 \u043a\u043e\u043b\u0431\u044d\u043a\u0430\u043c\u0438 \u0438 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u043e\u043c.</p> <p>\u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u043c\u044b \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0438\u043c\u0438\u0442\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430 \u0435\u0434\u044b \u0438 \u043d\u0430\u043f\u0438\u0442\u043a\u043e\u0432 \u0432 \u043a\u0430\u0444\u0435. </p>"},{"location":"fsm/#define-states","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0433\u043e\u0432","text":"<p>\u041f\u0440\u0435\u0436\u0434\u0435, \u0447\u0435\u043c \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043c \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u043a FSM, \u043e\u043f\u0438\u0448\u0435\u043c \u043f\u043e-\u0431\u044b\u0441\u0442\u0440\u043e\u043c\u0443 \u043f\u0440\u043e\u0441\u0442\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c  \u043e\u0431\u044b\u0447\u043d\u0443\u044e \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443 \u0441 \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438 \u0432 \u043e\u0434\u0438\u043d \u0440\u044f\u0434, \u043e\u043d\u0430 \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430\u043c \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c:</p> keyboards/simple_row.py<pre><code>from aiogram.types import ReplyKeyboardMarkup, KeyboardButton\n\n\ndef make_row_keyboard(items: list[str]) -&gt; ReplyKeyboardMarkup:\n    \"\"\"\n    \u0421\u043e\u0437\u0434\u0430\u0451\u0442 \u0440\u0435\u043f\u043b\u0430\u0439-\u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443 \u0441 \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438 \u0432 \u043e\u0434\u0438\u043d \u0440\u044f\u0434\n    :param items: \u0441\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u043a\u0441\u0442\u043e\u0432 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043e\u043a\n    :return: \u043e\u0431\u044a\u0435\u043a\u0442 \u0440\u0435\u043f\u043b\u0430\u0439-\u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b\n    \"\"\"\n    row = [KeyboardButton(text=item) for item in items]\n    return ReplyKeyboardMarkup(keyboard=[row], resize_keyboard=True)\n</code></pre> <p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0448\u0430\u0433\u043e\u0432 \u0434\u043b\u044f \u00ab\u0437\u0430\u043a\u0430\u0437\u0430\u00bb \u0435\u0434\u044b. \u0421\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0444\u0430\u0439\u043b <code>handlers/ordering_food.py</code>, \u0433\u0434\u0435 \u043e\u043f\u0438\u0448\u0435\u043c \u0441\u043f\u0438\u0441\u043a\u0438 \u0431\u043b\u044e\u0434 \u0438 \u0438\u0445 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432  (\u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0436\u0438\u0437\u043d\u0438 \u044d\u0442\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043c\u043e\u0436\u0435\u0442 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0442\u044c\u0441\u044f \u0438\u0437 \u043a\u0430\u043a\u043e\u0439-\u043b\u0438\u0431\u043e \u0411\u0414):</p> <pre><code># \u042d\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043b\u0435\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u0438\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u0442\u0435\u043a\u0441\u0442, \u043e\u0442\u0441\u044e\u0434\u0430 \n# \u0442\u0430\u043a\u0430\u044f \u043d\u0430 \u043f\u0435\u0440\u0432\u044b\u0439 \u0432\u0437\u0433\u043b\u044f\u0434 \u0441\u0442\u0440\u0430\u043d\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0430 \u043f\u0440\u0438\u043b\u0430\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445\navailable_food_names = [\"\u0421\u0443\u0448\u0438\", \"\u0421\u043f\u0430\u0433\u0435\u0442\u0442\u0438\", \"\u0425\u0430\u0447\u0430\u043f\u0443\u0440\u0438\"]\navailable_food_sizes = [\"\u041c\u0430\u043b\u0435\u043d\u044c\u043a\u0443\u044e\", \"\u0421\u0440\u0435\u0434\u043d\u044e\u044e\", \"\u0411\u043e\u043b\u044c\u0448\u0443\u044e\"]\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u043f\u0438\u0448\u0435\u043c \u0432\u0441\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u00ab\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u00bb \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 (\u0432\u044b\u0431\u043e\u0440 \u0435\u0434\u044b). \u041d\u0430 \u0441\u043b\u043e\u0432\u0430\u0445 \u043c\u043e\u0436\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0442\u0430\u043a: \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442  \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/food</code>, \u0431\u043e\u0442 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c \u0441 \u043f\u0440\u043e\u0441\u044c\u0431\u043e\u0439 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0431\u043b\u044e\u0434\u043e \u0438 \u0432\u0441\u0442\u0430\u0451\u0442 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 *\u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u0432\u044b\u0431\u043e\u0440 \u0431\u043b\u044e\u0434\u0430* \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e  \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u041a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u044e\u0437\u0435\u0440 \u0434\u0435\u043b\u0430\u0435\u0442 \u0432\u044b\u0431\u043e\u0440, \u0431\u043e\u0442, \u043d\u0430\u0445\u043e\u0434\u044f\u0441\u044c \u0432 \u044d\u0442\u043e\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438, \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u043e\u0434\u0430, \u0430 \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u0435,  \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0432\u0432\u043e\u0434 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e (\u0431\u0435\u0437 \u0441\u043c\u0435\u043d\u044b \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f) \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443 \u0448\u0430\u0433\u0443 *\u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u0432\u044b\u0431\u043e\u0440 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043f\u043e\u0440\u0446\u0438\u0438*. \u041a\u043e\u0433\u0434\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c  \u0438 \u0437\u0434\u0435\u0441\u044c \u0432\u0432\u043e\u0434\u0438\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u0431\u043e\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0438\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 (\u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0437\u0430\u043a\u0430\u0437\u0430) \u0438 \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435. \u041f\u043e\u0437\u0434\u043d\u0435\u0435  \u0432 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u043d\u0430\u0443\u0447\u0438\u043c\u0441\u044f \u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u0431\u0440\u043e\u0441 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043d\u0430 \u043b\u044e\u0431\u043e\u043c \u044d\u0442\u0430\u043f\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 <code>/cancel</code>.</p>"},{"location":"fsm/#step-1","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0448\u0430\u0433\u0430 1","text":"<p>\u0418\u0442\u0430\u043a, \u043f\u0435\u0440\u0435\u0439\u0434\u0451\u043c \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u043a \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439. \u0414\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441, \u043d\u0430\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439\u0441\u044f  \u043e\u0442 \u043a\u043b\u0430\u0441\u0441\u0430 <code>StatesGroup</code>, \u0432\u043d\u0443\u0442\u0440\u0438 \u043d\u0435\u0433\u043e \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435, \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0432 \u0438\u043c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u044b \u043a\u043b\u0430\u0441\u0441\u0430 <code>State</code>:</p> <pre><code>class OrderFood(StatesGroup):\n    choosing_food_name = State()\n    choosing_food_size = State()\n</code></pre> <p>\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0448\u0430\u0433\u0430, \u0440\u0435\u0430\u0433\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/food</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043d\u0438\u043a\u0430\u043a\u043e\u0439 \u0441\u0442\u0435\u0439\u0442:</p> <pre><code>from aiogram.filters import Command, StateFilter\nfrom aiogram.fsm.context import FSMContext\n\n@router.message(StateFilter(None), Command(\"food\"))\nasync def cmd_food(message: Message, state: FSMContext):\n    await message.answer(\n        text=\"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u043b\u044e\u0434\u043e:\",\n        reply_markup=make_row_keyboard(available_food_names)\n    )\n    # \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \"\u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\"\n    await state.set_state(OrderFood.choosing_food_name)\n</code></pre> <p>\u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c\u043e\u043c FSM, \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c <code>state</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0438\u043c\u0435\u0442\u044c  \u0442\u0438\u043f <code>FSMContext</code>. \u0410 \u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0441\u0442\u0440\u043e\u043a\u0435 \u043c\u044b \u044f\u0432\u043d\u043e \u0433\u043e\u0432\u043e\u0440\u0438\u043c \u0431\u043e\u0442\u0443 \u0432\u0441\u0442\u0430\u0442\u044c \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 <code>choosing_food_name</code> \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b <code>OrderFood</code>. </p> <p>\u041e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 aiogram 2.x</p> <p>\u0412 aiogram 2.x \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043d\u0430 state \u043e\u0437\u043d\u0430\u0447\u0430\u043b\u043e \u00ab\u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 \u044f\u0432\u043d\u043e \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u00bb  (\u0438\u043d\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438, <code>state=None</code>). \u0412 aiogram 3.x \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u00ab\u043f\u0440\u0438 \u043b\u044e\u0431\u043e\u043c \u0441\u0442\u0435\u0439\u0442\u0435\u00bb. \u041d\u0430\u043f\u043e\u043c\u043d\u044e, \u0447\u0442\u043e \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u044b\u0439  \u043f\u043e\u0434\u0445\u043e\u0434 \u0432 \u00ab\u0442\u0440\u043e\u0439\u043a\u0435\u00bb \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441 \u043a\u043e\u043d\u0442\u0435\u043d\u0442-\u0442\u0430\u0439\u043f\u0430\u043c\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439.</p> <p>\u0414\u0430\u043b\u0435\u0435 \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0445\u044d\u043d\u0434\u043b\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043b\u043e\u0432\u0438\u0442 \u043e\u0434\u0438\u043d \u0438\u0437 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u0431\u043b\u044e\u0434 \u0438\u0437 \u043d\u0430\u0448\u0435\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430:</p> <pre><code>@router.message(\n    OrderFood.choosing_food_name, \n    F.text.in_(available_food_names)\n)\nasync def food_chosen(message: Message, state: FSMContext):\n    await state.update_data(chosen_food=message.text.lower())\n    await message.answer(\n        text=\"\u0421\u043f\u0430\u0441\u0438\u0431\u043e. \u0422\u0435\u043f\u0435\u0440\u044c, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u043c\u0435\u0440 \u043f\u043e\u0440\u0446\u0438\u0438:\",\n        reply_markup=make_row_keyboard(available_food_sizes)\n    )\n    await state.set_state(OrderFood.choosing_food_size)\n</code></pre> <p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430. \u0424\u0438\u043b\u044c\u0442\u0440\u044b (\u0441\u0442\u0440\u043e\u043a\u0438 2-3) \u0441\u043e\u043e\u0431\u0449\u0430\u044e\u0442, \u0447\u0442\u043e \u043d\u0438\u0436\u0435\u0441\u0442\u043e\u044f\u0449\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442  \u0442\u043e\u0433\u0434\u0430 \u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0431\u0443\u0434\u0435\u0442 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 <code>OrderFood.choosing_food_name</code> \u0438 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0435\u0442  \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c \u0441 \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0441\u043f\u0438\u0441\u043a\u0430 <code>available_food_names</code>. \u0412 \u0441\u0442\u0440\u043e\u043a\u0435 6 \u043c\u044b \u043f\u0438\u0448\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 (\u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f)  \u0432 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 FSM, \u0438 \u044d\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u043f\u0430\u0440\u044b <code>(chat_id, user_id)</code> (\u0435\u0441\u0442\u044c \u043d\u044e\u0430\u043d\u0441, \u043e \u043d\u0451\u043c \u043f\u043e\u0437\u0436\u0435). \u041d\u0430\u043a\u043e\u043d\u0435\u0446,  \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 11 \u043c\u044b \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 <code>OrderFood.choosing_food_size</code>.</p> <p>\u0410 \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0440\u0435\u0448\u0438\u0442 \u0432\u0432\u0435\u0441\u0442\u0438 \u0447\u0442\u043e-\u0442\u043e \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e, \u0431\u0435\u0437 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b? \u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0434\u043e \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e  \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 \u0438 \u0434\u0430\u0442\u044c \u0435\u043c\u0443 \u0435\u0449\u0451 \u043f\u043e\u043f\u044b\u0442\u043a\u0443. \u041e\u0447\u0435\u043d\u044c \u0447\u0430\u0441\u0442\u043e \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u043a\u0438 \u0431\u043e\u0442\u043e\u0432 \u043d\u0430 \u044d\u0442\u043e\u043c \u043c\u043e\u043c\u0435\u043d\u0442\u0435 \u0437\u0430\u0434\u0430\u044e\u0442 \u0432\u043e\u043f\u0440\u043e\u0441:  \u00ab\u0430 \u043a\u0430\u043a \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u044e\u0437\u0435\u0440\u0430 \u0432 \u0442\u043e\u043c \u0436\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438?\u00bb. \u041e\u0442\u0432\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0439: \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438, \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e  \u0435\u0433\u043e [\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435] \u043d\u0435 \u043c\u0435\u043d\u044f\u0442\u044c, \u0442.\u0435. \u0431\u0443\u043a\u0432\u0430\u043b\u044c\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0434\u0435\u043b\u0430\u0442\u044c. </p> <p>\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0445\u044d\u043d\u0434\u043b\u0435\u0440, \u0443 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0444\u0438\u043b\u044c\u0442\u0440 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 <code>OrderFood.choosing_food_name</code>, \u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430  \u043d\u0430 \u0442\u0435\u043a\u0441\u0442 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442. \u0415\u0441\u043b\u0438 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u0435\u0433\u043e \u043f\u043e\u0434 \u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439 <code>food_chosen()</code>,  \u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0441\u044f \u00ab\u0440\u0435\u0430\u0433\u0438\u0440\u0443\u0439 \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 choosing_food_name, \u043d\u0430 \u0432\u0441\u0435 \u0442\u0435\u043a\u0441\u0442\u044b, \u043a\u0440\u043e\u043c\u0435 \u0442\u0435\u0445, \u0447\u0442\u043e \u043b\u043e\u0432\u0438\u0442 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u00bb  (\u0438\u043d\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438, \u00ab\u043b\u043e\u0432\u0438 \u0432\u0441\u0435 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b\u00bb).</p> <pre><code>@router.message(OrderFood.choosing_food_name)\nasync def food_chosen_incorrectly(message: Message):\n    await message.answer(\n        text=\"\u042f \u043d\u0435 \u0437\u043d\u0430\u044e \u0442\u0430\u043a\u043e\u0433\u043e \u0431\u043b\u044e\u0434\u0430.\\n\\n\"\n             \"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u043d\u043e \u0438\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u0438\u0436\u0435:\",\n        reply_markup=make_row_keyboard(available_food_names)\n    )\n</code></pre>"},{"location":"fsm/#step-2","title":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0448\u0430\u0433\u0430 2","text":"<p>\u0412\u0442\u043e\u0440\u043e\u0439 \u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u044d\u0442\u0430\u043f \u2014 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432\u0432\u043e\u0434 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043f\u043e\u0440\u0446\u0438\u0438 \u044e\u0437\u0435\u0440\u043e\u043c. \u0410\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u044d\u0442\u0430\u043f\u0443 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0434\u0432\u0430 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430  (\u043d\u0430 \u0432\u0435\u0440\u043d\u044b\u0439 \u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442\u044b), \u043d\u043e \u0432 \u043f\u0435\u0440\u0432\u043e\u043c \u0438\u0437 \u043d\u0438\u0445 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0432\u044b\u0431\u043e\u0440 \u0441\u0432\u043e\u0434\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0437\u0430\u043a\u0430\u0437\u0435:</p> <pre><code>@router.message(OrderFood.choosing_food_size, F.text.in_(available_food_sizes))\nasync def food_size_chosen(message: Message, state: FSMContext):\n    user_data = await state.get_data()\n    await message.answer(\n        text=f\"\u0412\u044b \u0432\u044b\u0431\u0440\u0430\u043b\u0438 {message.text.lower()} \u043f\u043e\u0440\u0446\u0438\u044e {user_data['chosen_food']}.\\n\"\n             f\"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0442\u0435\u043f\u0435\u0440\u044c \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430\u043f\u0438\u0442\u043a\u0438: /drinks\",\n        reply_markup=ReplyKeyboardRemove()\n    )\n    await state.clear()\n\n\n@router.message(OrderFood.choosing_food_size)\nasync def food_size_chosen_incorrectly(message: Message):\n    await message.answer(\n        text=\"\u042f \u043d\u0435 \u0437\u043d\u0430\u044e \u0442\u0430\u043a\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043f\u043e\u0440\u0446\u0438\u0438.\\n\\n\"\n             \"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0438\u0437 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u0438\u0436\u0435:\",\n        reply_markup=make_row_keyboard(available_food_sizes)\n    )\n</code></pre> <p>\u0412\u044b\u0437\u043e\u0432 <code>get_data()</code> \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 \u21163 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u0447\u0430\u0442\u0435. \u0418\u0437 \u043d\u0435\u0433\u043e  [\u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430] \u043c\u044b \u0434\u043e\u0441\u0442\u0430\u0451\u043c \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u043b\u044e\u0434\u0430 \u0438 \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435. \u041c\u0435\u0442\u043e\u0434 <code>clear()</code> \u0443 \u0441\u0442\u0435\u0439\u0442\u0430  \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u00ab\u043f\u0443\u0441\u0442\u043e\u0435\u00bb \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u0432\u0441\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435. \u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c, \u0435\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c  \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0438\u043b\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u0442\u0435\u0440\u0435\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435? \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u043b\u0438\u043c\u0441\u044f \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>clear()</code> \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0430\u0445 aiogram 3.x:</p> <pre><code>class FSMContext:\n    # \u0427\u0430\u0441\u0442\u044c \u043a\u043e\u0434\u0430 \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u0430\n\n    async def clear(self) -&gt; None:\n        await self.set_state(state=None)\n        await self.set_data({})\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u0437\u043d\u0430\u0435\u0442\u0435, \u043a\u0430\u043a \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u043e\u0434\u043d\u043e :)</p> <p>\u0428\u0430\u0433\u0438 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u043d\u0430\u043f\u0438\u0442\u043a\u043e\u0432 \u0434\u0435\u043b\u0430\u044e\u0442\u0441\u044f \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u043b\u0438 \u0437\u0430\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u0442\u0435\u043a\u0441\u0442\u044b  \u043a \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435.</p> <p>\u041f\u043e\u043b\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0444\u0430\u0439\u043b\u0430 \u0441 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u043c\u0438 \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430 \u0435\u0434\u044b:</p> handlers/ordering_food.py<pre><code>from aiogram import Router, F\nfrom aiogram.filters import Command, StateFilter\nfrom aiogram.fsm.context import FSMContext\nfrom aiogram.fsm.state import StatesGroup, State\nfrom aiogram.types import Message, ReplyKeyboardRemove\n\nfrom keyboards.simple_row import make_row_keyboard\n\nrouter = Router()\n\n# \u042d\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043b\u0435\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u0438\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u0442\u0435\u043a\u0441\u0442, \u043e\u0442\u0441\u044e\u0434\u0430\n# \u0442\u0430\u043a\u0430\u044f \u043d\u0430 \u043f\u0435\u0440\u0432\u044b\u0439 \u0432\u0437\u0433\u043b\u044f\u0434 \u0441\u0442\u0440\u0430\u043d\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0430 \u043f\u0440\u0438\u043b\u0430\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445\navailable_food_names = [\"\u0421\u0443\u0448\u0438\", \"\u0421\u043f\u0430\u0433\u0435\u0442\u0442\u0438\", \"\u0425\u0430\u0447\u0430\u043f\u0443\u0440\u0438\"]\navailable_food_sizes = [\"\u041c\u0430\u043b\u0435\u043d\u044c\u043a\u0443\u044e\", \"\u0421\u0440\u0435\u0434\u043d\u044e\u044e\", \"\u0411\u043e\u043b\u044c\u0448\u0443\u044e\"]\n\n\nclass OrderFood(StatesGroup):\n    choosing_food_name = State()\n    choosing_food_size = State()\n\n\n@router.message(Command(\"food\"))\nasync def cmd_food(message: Message, state: FSMContext):\n    await message.answer(\n        text=\"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u043b\u044e\u0434\u043e:\",\n        reply_markup=make_row_keyboard(available_food_names)\n    )\n    # \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \"\u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\"\n    await state.set_state(OrderFood.choosing_food_name)\n\n# \u042d\u0442\u0430\u043f \u0432\u044b\u0431\u043e\u0440\u0430 \u0431\u043b\u044e\u0434\u0430 #\n\n\n@router.message(OrderFood.choosing_food_name, F.text.in_(available_food_names))\nasync def food_chosen(message: Message, state: FSMContext):\n    await state.update_data(chosen_food=message.text.lower())\n    await message.answer(\n        text=\"\u0421\u043f\u0430\u0441\u0438\u0431\u043e. \u0422\u0435\u043f\u0435\u0440\u044c, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u043c\u0435\u0440 \u043f\u043e\u0440\u0446\u0438\u0438:\",\n        reply_markup=make_row_keyboard(available_food_sizes)\n    )\n    await state.set_state(OrderFood.choosing_food_size)\n\n\n# \u0412 \u0446\u0435\u043b\u043e\u043c, \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043c\u0435\u0448\u0430\u0435\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u0442\u0435\u0439\u0442\u044b \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0441\u0442\u0440\u043e\u043a\u0430\u043c\u0438\n# \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f, \u0435\u0441\u043b\u0438 \u043f\u043e \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \n# \u0432\u0430\u0448\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u0435\u0439\u0442\u043e\u0432 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435 (\u043d\u043e \u0437\u0430\u0447\u0435\u043c?)\n@router.message(StateFilter(\"OrderFood:choosing_food_name\"))\nasync def food_chosen_incorrectly(message: Message):\n    await message.answer(\n        text=\"\u042f \u043d\u0435 \u0437\u043d\u0430\u044e \u0442\u0430\u043a\u043e\u0433\u043e \u0431\u043b\u044e\u0434\u0430.\\n\\n\"\n             \"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u043d\u043e \u0438\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u0438\u0436\u0435:\",\n        reply_markup=make_row_keyboard(available_food_names)\n    )\n\n# \u042d\u0442\u0430\u043f \u0432\u044b\u0431\u043e\u0440\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043f\u043e\u0440\u0446\u0438\u0438 \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0434\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 #\n\n\n@router.message(OrderFood.choosing_food_size, F.text.in_(available_food_sizes))\nasync def food_size_chosen(message: Message, state: FSMContext):\n    user_data = await state.get_data()\n    await message.answer(\n        text=f\"\u0412\u044b \u0432\u044b\u0431\u0440\u0430\u043b\u0438 {message.text.lower()} \u043f\u043e\u0440\u0446\u0438\u044e {user_data['chosen_food']}.\\n\"\n             f\"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0442\u0435\u043f\u0435\u0440\u044c \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430\u043f\u0438\u0442\u043a\u0438: /drinks\",\n        reply_markup=ReplyKeyboardRemove()\n    )\n    # \u0421\u0431\u0440\u043e\u0441 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n    await state.clear()\n\n\n@router.message(OrderFood.choosing_food_size)\nasync def food_size_chosen_incorrectly(message: Message):\n    await message.answer(\n        text=\"\u042f \u043d\u0435 \u0437\u043d\u0430\u044e \u0442\u0430\u043a\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043f\u043e\u0440\u0446\u0438\u0438.\\n\\n\"\n             \"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0438\u0437 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u0438\u0436\u0435:\",\n        reply_markup=make_row_keyboard(available_food_sizes)\n    )\n</code></pre>"},{"location":"fsm/#common-commands","title":"\u041e\u0431\u0449\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b","text":"<p>\u0420\u0430\u0437 \u0443\u0436 \u0437\u0430\u0433\u043e\u0432\u043e\u0440\u0438\u043b\u0438 \u043e \u0441\u0431\u0440\u043e\u0441\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439, \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0432 \u0444\u0430\u0439\u043b\u0435 <code>handlers/common.py</code> \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b <code>/start</code> \u0438  \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u00ab\u043e\u0442\u043c\u0435\u043d\u044b\u00bb. \u0412 \u043f\u0435\u0440\u0432\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435\u043a\u0438\u0439 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439/\u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442, \u0430 \u0434\u043b\u044f \u043e\u0442\u043c\u0435\u043d\u044b \u043d\u0430\u043f\u0438\u0448\u0435\u043c  \u0434\u0432\u0430 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430: \u043a\u043e\u0433\u0434\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0438 \u0432 \u043a\u0430\u043a\u043e\u043c \u0441\u0442\u0435\u0439\u0442\u0435, \u0438 \u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043a\u0430\u043a\u043e\u043c-\u043b\u0438\u0431\u043e.</p> <p>\u0412\u0441\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u044e\u0442 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u0443\u0431\u0438\u0440\u0430\u044e\u0442 \u043e\u0431\u044b\u0447\u043d\u0443\u044e \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443, \u0435\u0441\u043b\u0438 \u0432\u0434\u0440\u0443\u0433 \u043e\u043d\u0430 \u0435\u0441\u0442\u044c:</p> handlers/common.py<pre><code>from aiogram import F, Router\nfrom aiogram.filters import Command\nfrom aiogram.filters import StateFilter\nfrom aiogram.fsm.context import FSMContext\nfrom aiogram.fsm.state import default_state\nfrom aiogram.types import Message, ReplyKeyboardRemove\n\nrouter = Router()\n\n\n@router.message(Command(commands=[\"start\"]))\nasync def cmd_start(message: Message, state: FSMContext):\n    await state.clear()\n    await message.answer(\n        text=\"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c: \"\n             \"\u0431\u043b\u044e\u0434\u0430 (/food) \u0438\u043b\u0438 \u043d\u0430\u043f\u0438\u0442\u043a\u0438 (/drinks).\",\n        reply_markup=ReplyKeyboardRemove()\n    )\n\n\n# \u041d\u0435\u0442\u0440\u0443\u0434\u043d\u043e \u0434\u043e\u0433\u0430\u0434\u0430\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0434\u0432\u0430 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430 \u043c\u043e\u0436\u043d\u043e \n# \u0441\u043f\u043e\u043a\u043e\u0439\u043d\u043e \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0432 \u043e\u0434\u0438\u043d, \u043d\u043e \u0434\u043b\u044f \u043f\u043e\u043b\u043d\u043e\u0442\u044b \u043a\u0430\u0440\u0442\u0438\u043d\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u043c \u0442\u0430\u043a\n\n# default_state - \u044d\u0442\u043e \u0442\u043e \u0436\u0435 \u0441\u0430\u043c\u043e\u0435, \u0447\u0442\u043e \u0438 StateFilter(None)\n@router.message(StateFilter(None), Command(commands=[\"cancel\"]))\n@router.message(default_state, F.text.lower() == \"\u043e\u0442\u043c\u0435\u043d\u0430\")\nasync def cmd_cancel_no_state(message: Message, state: FSMContext):\n    # \u0421\u0442\u0435\u0439\u0442 \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0442\u044c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e, \u0443\u0434\u0430\u043b\u0438\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u0430\u043d\u043d\u044b\u0435\n    await state.set_data({})\n    await message.answer(\n        text=\"\u041d\u0435\u0447\u0435\u0433\u043e \u043e\u0442\u043c\u0435\u043d\u044f\u0442\u044c\",\n        reply_markup=ReplyKeyboardRemove()\n    )\n\n\n@router.message(Command(commands=[\"cancel\"]))\n@router.message(F.text.lower() == \"\u043e\u0442\u043c\u0435\u043d\u0430\")\nasync def cmd_cancel(message: Message, state: FSMContext):\n    await state.clear()\n    await message.answer(\n        text=\"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e\",\n        reply_markup=ReplyKeyboardRemove()\n    )\n</code></pre>"},{"location":"fsm/#entrypoint","title":"\u0424\u0430\u0439\u043b bot.py","text":"<p>\u041d\u0430\u043f\u043e\u0441\u043b\u0435\u0434\u043e\u043a \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0442\u043e\u0447\u043a\u0443 \u0432\u0445\u043e\u0434\u0430 \u2014 \u0444\u0430\u0439\u043b <code>bot.py</code> \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0430\u043c\u0438 \u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u043c\u0438 \u0440\u043e\u0443\u0442\u0435\u0440\u0430\u043c\u0438:</p> bot.py<pre><code>import asyncio\nimport logging\n\nfrom aiogram import Bot, Dispatcher\nfrom aiogram.fsm.storage.memory import MemoryStorage\n\n# \u0444\u0430\u0439\u043b config_reader.py \u043c\u043e\u0436\u043d\u043e \u0432\u0437\u044f\u0442\u044c \u0438\u0437 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f\n# \u043f\u0440\u0438\u043c\u0435\u0440 \u2014 \u0432 \u043f\u0435\u0440\u0432\u043e\u0439 \u0433\u043b\u0430\u0432\u0435\nfrom config_reader import config\nfrom handlers import common, ordering_food\n\n\nasync def main():\n    logging.basicConfig(\n        level=logging.INFO,\n        format=\"%(asctime)s - %(levelname)s - %(name)s - %(message)s\",\n    )\n\n    # \u0415\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c storage, \u0442\u043e \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e \u0431\u0443\u0434\u0435\u0442 MemoryStorage\n    # \u041d\u043e \u044f\u0432\u043d\u043e\u0435 \u043b\u0443\u0447\u0448\u0435 \u043d\u0435\u044f\u0432\u043d\u043e\u0433\u043e =]\n    dp = Dispatcher(storage=MemoryStorage())\n    bot = Bot(config.bot_token.get_secret_value())\n\n    dp.include_router(common.router)\n    dp.include_router(ordering_food.router)\n    # \u0441\u044e\u0434\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0430\u0448 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440 \u0434\u043b\u044f \u043d\u0430\u043f\u0438\u0442\u043a\u043e\u0432\n\n    await dp.start_polling(bot)\n\n\nif __name__ == '__main__':\n    asyncio.run(main())\n</code></pre>"},{"location":"fsm/#strategies","title":"\u0420\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 FSM","text":"<p>Aiogram 3.x \u043f\u0440\u0438\u0432\u043d\u0451\u0441 \u043d\u0435\u043e\u0431\u044b\u0447\u043d\u043e\u0435, \u043d\u043e \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e\u0435 \u043d\u043e\u0432\u043e\u0432\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0445 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u043e\u0432 \u2014 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 FSM. \u041e\u043d\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442  \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043a\u0443 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0430\u0440 \u0434\u043b\u044f \u0441\u0442\u0435\u0439\u0442\u043e\u0432 \u0438 \u0434\u0430\u043d\u043d\u044b\u0445. \u0412\u0441\u0435\u0433\u043e \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0439 \u0447\u0435\u0442\u044b\u0440\u0435, \u0432\u043e\u0442 \u043e\u043d\u0438:</p> <ul> <li>USER_IN_CHAT \u2014 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. \u0421\u0442\u0435\u0439\u0442 \u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0437\u043d\u044b\u0435 \u0443 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044e\u0437\u0435\u0440\u0430 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0447\u0430\u0442\u0435. \u0422\u043e \u0435\u0441\u0442\u044c, \u0443 \u044e\u0437\u0435\u0440\u0430 \u0431\u0443\u0434\u0443\u0442  \u0440\u0430\u0437\u043d\u044b\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f\u0430\u0445, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u041b\u0421 \u0441 \u0431\u043e\u0442\u043e\u043c.</li> <li>CHAT \u2014 \u0441\u0442\u0435\u0439\u0442 \u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u0449\u0438\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0433\u043e \u0447\u0430\u0442\u0430 \u0446\u0435\u043b\u0438\u043a\u043e\u043c. \u0412 \u041b\u0421 \u0440\u0430\u0437\u043d\u0438\u0446\u0430 \u043d\u0435\u0437\u0430\u043c\u0435\u0442\u043d\u0430, \u043d\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u0443 \u0432\u0441\u0435\u0445 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u0431\u0443\u0434\u0435\u0442  \u043e\u0434\u0438\u043d \u0441\u0442\u0435\u0439\u0442 \u0438 \u043e\u0431\u0449\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435.</li> <li>GLOBAL_USER \u2014 \u0432\u043e \u0432\u0441\u0435\u0445 \u0447\u0430\u0442\u0430\u0445 \u0443 \u043e\u0434\u043d\u043e\u0433\u043e \u0438 \u0442\u043e\u0433\u043e \u0436\u0435 \u044e\u0437\u0435\u0440\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 \u0441\u0442\u0435\u0439\u0442 \u0438 \u0434\u0430\u043d\u043d\u044b\u0435.</li> <li>USER_IN_TOPIC \u2014 \u0443 \u044e\u0437\u0435\u0440\u0430 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u0441\u0442\u0435\u0439\u0442\u044b \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u043e\u043f\u0438\u043a\u0430  \u0432 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0435-\u0444\u043e\u0440\u0443\u043c\u0435.</li> </ul> <p>\u0427\u0435\u0441\u0442\u043d\u043e \u0433\u043e\u0432\u043e\u0440\u044f, \u044f \u043d\u0435 \u043c\u043e\u0433\u0443 \u043f\u0440\u0438\u0434\u0443\u043c\u0430\u0442\u044c \u0445\u043e\u0440\u043e\u0448\u0438\u0439 use-case \u0434\u043b\u044f GLOBAL_USER, \u043e\u0434\u043d\u0430\u043a\u043e CHAT \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0431\u043e\u0442\u043e\u0432,  \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0442 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0438\u0433\u0440\u044b \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445. \u0415\u0441\u043b\u0438 \u0432\u044b \u0437\u043d\u0430\u0435\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u043e \u043d\u0438\u0445  \u0432 \u043d\u0430\u0448\u0435\u043c \u0447\u0430\u0442\u0438\u043a\u0435!</p> <p>\u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044e, \u043a\u043e\u0433\u0434\u0430 \u0431\u043e\u0442 \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430 \u0435\u0434\u044b \u043f\u043e\u0447\u0435\u043c\u0443-\u0442\u043e \u043e\u043a\u0430\u0437\u0430\u043b\u0441\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u0438 \u0438\u043c\u0435\u0435\u0442 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044e CHAT.  \u0410 \u0447\u0442\u043e\u0431\u044b \u044d\u0442\u043e \u0441\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043d\u0435\u0441\u0442\u0438 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u043f\u0440\u0430\u0432\u043a\u0438 \u0432 \u0444\u0430\u0439\u043b <code>bot.py</code>:</p> <pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442\nfrom aiogram.fsm.strategy import FSMStrategy\n\nasync def main():\n    # \u0442\u0443\u0442 \u043a\u043e\u0434\n    dp = Dispatcher(storage=MemoryStorage(), fsm_strategy=FSMStrategy.CHAT)\n    # \u0442\u0443\u0442 \u0442\u043e\u0436\u0435 \u043a\u043e\u0434\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0431\u043e\u0442\u0430 \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u043c \u043b\u044e\u0434\u0435\u0439 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u043f\u043e\u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0441 \u043d\u0438\u043c:</p> <p></p> <p>\u0412\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0441\u0442\u0440\u0430\u043d\u043d\u043e, \u043d\u0435 \u043f\u0440\u0430\u0432\u0434\u0430 \u043b\u0438?</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c, \u0432\u043e\u043e\u0440\u0443\u0436\u0438\u0432\u0448\u0438\u0441\u044c \u0437\u043d\u0430\u043d\u0438\u044f\u043c\u0438 \u043e \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0445 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0430\u0445, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0431\u0435\u0437\u0431\u043e\u044f\u0437\u043d\u0435\u043d\u043d\u043e \u043f\u0438\u0441\u0430\u0442\u044c \u0431\u043e\u0442\u043e\u0432 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432.</p>"},{"location":"inline-mode/","title":"\u0418\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c","text":""},{"location":"inline-mode/#\u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c","title":"\u0418\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f aiogram: 3.7.0</p>"},{"location":"inline-mode/#theory","title":"\u0422\u0435\u043e\u0440\u0438\u044f","text":""},{"location":"inline-mode/#why-inline-mode","title":"\u0417\u0430\u0447\u0435\u043c \u043d\u0443\u0436\u0435\u043d \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c?","text":"<p>\u0412 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0445 \u0433\u043b\u0430\u0432\u0430\u0445 \u0431\u043e\u0442 \u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043e\u0431\u0449\u0430\u043b\u0438\u0441\u044c \u043a\u0430\u0436\u0434\u044b\u0439 \u0441\u0430\u043c \u0437\u0430 \u0441\u0435\u0431\u044f, \u043e\u0434\u043d\u0430\u043a\u043e \u0432 Telegram \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c,  \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0442 \u0441\u0432\u043e\u0435\u0433\u043e \u0438\u043c\u0435\u043d\u0438, \u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0431\u043e\u0442\u0430. \u042d\u0442\u043e \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c  (Inline mode), \u0438 \u0432\u043e\u0442 \u043a\u0430\u043a \u043e\u043d \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0432 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0436\u0438\u0437\u043d\u0438:</p> <p></p> <p>\u041d\u043e \u043a\u0430\u043a \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435 \u0432\u043e\u043e\u0431\u0449\u0435 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0430\u043a\u0443\u044e \u0444\u0438\u0447\u0443? \u041f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044e \u0432\u0437\u0433\u043b\u044f\u043d\u0443\u0442\u044c \u043d\u0430 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043e\u043a\u043e\u043b\u043e-\u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 Telegram-\u0431\u043e\u0442\u043e\u0432, \u0443 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0435\u0441\u0442\u044c \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c:</p> <ul> <li>@gif </li> <li>@wiki</li> <li>@imdb</li> <li>@youtube</li> <li>@foursquare</li> <li>@music</li> <li>@gamee</li> <li>@like</li> </ul> <p>\u0421\u043f\u0438\u0441\u043e\u043a \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c \u0434\u043e\u043b\u0433\u043e, \u043d\u043e \u0441\u0443\u0442\u044c, \u043d\u0430\u0434\u0435\u044e\u0441\u044c, \u044f\u0441\u043d\u0430: \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c \u043e\u0442\u043b\u0438\u0447\u043d\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438  \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0447\u0430\u0442. \u0427\u0430\u0441\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0442\u0430\u043a\u0438\u0445 \u0431\u043e\u0442\u043e\u0432 (like, poll, gif) Telegram \u0432\u043d\u0435\u0434\u0440\u0438\u043b \u0432 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u043d\u043e \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435  \u043e\u0442\u043b\u0438\u0447\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043f\u043e \u0441\u0435\u0439 \u0434\u0435\u043d\u044c.</p> <p>\u0412\u0430\u0436\u043d\u043e</p> <p>\u041d\u0430\u043f\u043e\u043c\u043d\u044e, \u0447\u0442\u043e \u0435\u0441\u043b\u0438 \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044e, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u043c\u0443 \u0438\u0437 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0430, \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430 \u0441 \u043a\u043e\u043b\u0431\u044d\u043a-\u043a\u043d\u043e\u043f\u043a\u043e\u0439,  \u0442\u043e \u043f\u0440\u0438 \u0435\u0451 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u0431\u043e\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 <code>CallbackQuery</code> \u0431\u0435\u0437 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 <code>Message</code> \u0432\u043d\u0443\u0442\u0440\u0438. \u0412\u043c\u0435\u0441\u0442\u043e  \u044d\u0442\u043e\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u043c\u0430\u043b\u043e \u043e \u0447\u0451\u043c \u0433\u043e\u0432\u043e\u0440\u044f\u0449\u0438\u0439 <code>inline_message_id</code>.</p>"},{"location":"inline-mode/#incoming-update-format","title":"\u0424\u043e\u0440\u043c\u0430\u0442 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","text":"<p>\u041a\u043e\u0433\u0434\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0438\u0448\u0435\u0442 \u0432 \u0447\u0430\u0442\u0435 \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c \u0431\u043e\u0442\u0430 \u0438 \u0434\u0430\u043b\u0435\u0435 \u0432\u0432\u043e\u0434\u0438\u0442 \u0442\u0435\u043a\u0441\u0442, \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u0430\u043f\u0434\u0435\u0439\u0442 \u0442\u0438\u043f\u0430  InlineQuery. \u0415\u0441\u043b\u0438 \u0432\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0437\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430,  \u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043c\u0435\u0442\u0438\u0442\u044c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u043d\u043e\u0441\u0442\u0438. </p> <p>\u0412\u043e-\u043f\u0435\u0440\u0432\u044b\u0445, \u043d\u0435\u0442 \u0430\u0439\u0434\u0438 \u0447\u0430\u0442\u0430, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0432\u044b\u0437\u0432\u0430\u043b\u0438 \u0431\u043e\u0442\u0430, \u0432\u043c\u0435\u0441\u0442\u043e \u044d\u0442\u043e\u0433\u043e \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435  \u043f\u043e\u043b\u0435 <code>chat_type</code>, \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0449\u0435\u0435 (\u0435\u0441\u043b\u0438 \u043d\u0435\u043f\u0443\u0441\u0442\u043e\u0435) \u0442\u0438\u043f \u0447\u0430\u0442\u0430 (\u043b\u0438\u0447\u043a\u0430, \u0433\u0440\u0443\u043f\u043f\u0430, \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0430, \u043a\u0430\u043d\u0430\u043b). \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u044d\u0442\u043e\u043c\u0443 \u043f\u0440\u043e\u0441\u0442\u0430\u044f:  \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u043e\u0442\u0430 \u0432 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0435 \u043d\u0435 \u043d\u0430\u0434\u043e \u0435\u0433\u043e \u043d\u0438\u043a\u0443\u0434\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 Chat  \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u043b\u043e \u0431\u044b \u043d\u0435\u0437\u0430\u043c\u0435\u0442\u043d\u043e \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u0442\u044c \u0438 \u0441\u043e\u0431\u0438\u0440\u0430\u0442\u044c \u0447\u0430\u0442\u044b \u0432 \u0442\u0435\u043b\u0435\u0433\u0435. </p> <p>\u0412\u043e-\u0432\u0442\u043e\u0440\u044b\u0445, \u0435\u0441\u0442\u044c \u043f\u043e\u043b\u0435 <code>offset</code>, \u043f\u0440\u0438\u0447\u0451\u043c \u044d\u0442\u043e \u043d\u0435 \u0447\u0438\u0441\u043b\u043e, \u0430 \u0441\u0442\u0440\u043e\u043a\u0430. \u0414\u0435\u043b\u043e \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0431\u043e\u0442 \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435  50 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0432 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0438\u043d\u043b\u0430\u0439\u043d-\u0437\u0430\u043f\u0440\u043e\u0441. \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435, \u043d\u0430\u0434\u043e \u043f\u0440\u0438 \u043e\u0442\u0432\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>next_offset</code>,  \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u043e\u0434\u0443\u0431\u043b\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432 \u043f\u043e\u043b\u0435 <code>offset</code> \u0443 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e <code>InlineQuery</code>. \u0422\u0430\u043a \u0431\u043e\u0442 \u043f\u043e\u0439\u043c\u0451\u0442, \u0447\u0442\u043e \u043d\u0430\u0434\u043e \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435,  \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 <code>offset</code>. \u0410 \u0441\u0442\u0440\u043e\u043a\u0430 \u044d\u0442\u043e \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043f\u043e\u043c\u0438\u043c\u043e \u0447\u0438\u0441\u0435\u043b \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043a\u0438\u0435-\u043d\u0438\u0431\u0443\u0434\u044c \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b, \u0442\u0438\u043f\u0430 UUID.</p>"},{"location":"inline-mode/#outgoing-answer-format","title":"\u0424\u043e\u0440\u043c\u0430\u0442 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432","text":"<p>\u0414\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u043e\u0432\u043d\u043e \u043e\u0434\u0438\u043d \u043c\u0435\u0442\u043e\u0434:  answerInlineQuery.  \u041d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0430\u0436 \u0446\u0435\u043b\u044b\u0445 20. \u0422\u043e\u0447\u043d\u0435\u0435,  \u043f\u043e \u0444\u0430\u043a\u0442\u0443 \u0438\u0445 11, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u2014 \u043f\u0440\u043e\u0441\u0442\u043e \u0442\u0435 \u0436\u0435 \u0442\u0438\u043f\u044b, \u043d\u043e \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0432\u0445\u043e\u0434\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>file_id</code>  \u0432\u043c\u0435\u0441\u0442\u043e \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b. \u0420\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u043b\u0443\u0447\u0448\u0435 \u0432\u0441\u0435\u0433\u043e \u043d\u0435 \u0441\u043c\u0435\u0448\u0438\u0432\u0430\u0442\u044c \u0434\u0440\u0443\u0433 \u0441 \u0434\u0440\u0443\u0433\u043e\u043c, \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e Article \u0441 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u043c\u0438. \u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437 \u043d\u0438\u0445 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e.</p> <p></p> <p>\u041f\u043e\u0436\u0430\u043b\u0443\u0439, \u0441\u0430\u043c\u044b\u0439 \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u0442\u0438\u043f \u2014 \u044d\u0442\u043e InlineQueryResultArticle (\u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0438 \u0441\u0432\u0435\u0440\u0445\u0443). \u0412\u043e \u0432\u0441\u0435\u0445 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u0445 \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043a\u0430\u043a \u0441\u0442\u043e\u043f\u043a\u0430 \u0438\u0437 \u043f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u044b\u0445 \u0431\u043b\u043e\u043a\u043e\u0432, \u0443 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u0441\u0435\u0433\u0434\u0430 \u0435\u0441\u0442\u044c  \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a, \u0438\u043d\u043e\u0433\u0434\u0430 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435, \u0430 \u0441\u043b\u0435\u0432\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043b\u0438\u0431\u043e \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430-\u043f\u0440\u0435\u0432\u044c\u044e, \u043b\u0438\u0431\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0437\u0430\u0433\u043b\u0443\u0448\u043a\u0430.  \u0415\u0441\u043b\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0437\u0430\u0434\u0430\u043b \u0430\u0442\u0440\u0438\u0431\u0443\u0442 <code>url</code>, \u0442\u043e \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443 \u043f\u043e\u0434 \u0441\u0442\u0440\u043e\u043a\u043e\u0439 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f, \u0430  \u043f\u0440\u0435\u0432\u044c\u044e \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u043a\u043b\u0438\u043a\u0430\u0431\u0435\u043b\u044c\u043d\u044b\u043c \u0438 \u0432\u0435\u0434\u0451\u0442 \u043f\u043e \u0441\u0430\u043c\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0435 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440. \u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e,  \u0447\u0442\u043e \u0437\u0430\u0434\u0430\u043d\u043e \u0432 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0435 <code>input_message_content</code> (\u043e\u043d \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c 5 \u0440\u0430\u0437\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432:</p> <ul> <li>\u0442\u0435\u043a\u0441\u0442</li> <li>\u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044f</li> <li>\u0434\u043e\u0441\u0442\u043e\u043f\u0440\u0438\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (venue)</li> <li>\u043a\u043e\u043d\u0442\u0430\u043a\u0442</li> <li>\u0441\u0447\u0451\u0442 \u043d\u0430 \u043e\u043f\u043b\u0430\u0442\u0443 (invoice)</li> </ul> <p></p> <p>\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u043e\u0442\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u043a \u0442.\u043d. \u00ab\u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u0430\u043c\u00bb, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439. \u041f\u0440\u0438 \u043e\u0442\u0432\u0435\u0442\u0435 \u043d\u0430\u0431\u043e\u0440\u043e\u043c  \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u044b\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u043b\u0438\u0431\u043e \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043f\u043b\u0438\u0442\u043a\u0430\u043c\u0438, \u043a\u0430\u043a \u043d\u0430 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u0435 \u0432\u044b\u0448\u0435, \u043b\u0438\u0431\u043e \u043f\u0440\u043e\u043a\u0440\u0443\u0447\u0438\u0432\u0430\u0435\u043c\u043e\u0439 \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0439  \u043f\u043e\u043b\u043e\u0441\u043e\u0439 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432 iOS-\u0432\u0435\u0440\u0441\u0438\u0438). </p> <p>\u0415\u0441\u043b\u0438 \u0432\u044b \u0435\u0449\u0451 \u0440\u0430\u0437 \u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b \u043f\u0440\u043e InlineQueryResult, \u0442\u043e  \u0443\u0432\u0438\u0434\u0438\u0442\u0435, \u0447\u0442\u043e Photo (\u043a\u0430\u043a \u0438 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u0440\u0443\u0433\u0438\u0435 \u0442\u0438\u043f\u044b) \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0434\u0432\u0443\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430\u0445:  <code>InlineQueryResultPhoto</code> \u0438 <code>InlineQueryResultCachedPhoto</code>. \u0420\u0430\u0437\u043d\u0438\u0446\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043f\u0435\u0440\u0432\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0441\u0441\u044b\u043b\u043a\u0443  \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0437 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0430, \u0430 \u0432\u0442\u043e\u0440\u043e\u0439 \u2014 <code>file_id</code> \u043e\u0442 \u0443\u0436\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u0432 Telegram \u043c\u0435\u0434\u0438\u0430.</p> <p>\u0412\u0430\u0436\u043d\u043e</p> <p>\u0412 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u0437\u0430\u043b\u0438\u0432\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0438\u0437 \u0444\u0430\u0439\u043b\u0430. \u041b\u0438\u0431\u043e \u0441\u0441\u044b\u043b\u043a\u0430 \u0432 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0435, \u043b\u0438\u0431\u043e <code>file_id</code>.  \u0422\u0440\u0435\u0442\u044c\u0435\u0433\u043e \u043d\u0435 \u0434\u0430\u043d\u043e.</p> <p>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e, \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043d\u0430 \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442 \u043a \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u0435\u0434\u0438\u0430 \u0432 \u0432\u044b\u0437\u0432\u0430\u043d\u043d\u044b\u0439 \u0447\u0430\u0442.  \u041e\u0434\u043d\u0430\u043a\u043e \u0435\u0441\u043b\u0438 \u0437\u0430\u0434\u0430\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 <code>input_message_content</code> (\u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441 \u043c\u0435\u0434\u0438\u0430 \u043e\u043d \u0443\u0436\u0435 \u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439), \u0442\u043e \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u0431\u0443\u0434\u0435\u0442  \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0442\u043e, \u0447\u0442\u043e \u0437\u0430\u0434\u0430\u043d\u043e \u0432 \u044d\u0442\u043e\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043d\u0430 \u043e\u0431\u043b\u043e\u0436\u043a\u0443 \u0444\u0438\u043b\u044c\u043c\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442 \u0435\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435  \u0441\u043e \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u043d\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432 \u043e\u043d\u043b\u0430\u0439\u043d-\u043a\u0438\u043d\u043e\u0442\u0435\u0430\u0442\u0440\u0435. \u0418\u043b\u0438 \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u0444\u043e\u0442\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u0435\u0433\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0432 \u0432\u0438\u0434\u0435  \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430 \ud83d\udc40. \u041a\u0441\u0442\u0430\u0442\u0438, \u043d\u0435\u0441\u043c\u043e\u0442\u0440\u044f \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u0443 \u043c\u0435\u0434\u0438\u0430 \u0435\u0441\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b <code>title</code> \u0438 <code>description</code>, \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0438\u0445 \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442,  \u0434\u0430 \u0438 \u0441\u0430\u043c Bot API \u0438\u0445 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442. </p> <p>\u0423 \u043c\u0435\u0442\u043e\u0434\u0430 answerInlineQuery \u0435\u0441\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0430\u0434\u043e \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435. \u0412\u043e-\u043f\u0435\u0440\u0432\u044b\u0445, \u044d\u0442\u043e <code>cache_time</code>.  \u041e\u043d \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442, \u043d\u0430 \u043a\u0430\u043a\u043e\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c\u0438 \u0442\u0435\u043b\u0435\u0433\u0438, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0441\u043b\u0430\u0442\u044c \u0435\u0433\u043e \u0432 \u0431\u043e\u0442\u0430.  \u0415\u0441\u043b\u0438 \u0432\u0430\u0448\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0435 \u0438\u043b\u0438 \u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u0440\u0435\u0434\u043a\u043e, \u0441\u043c\u0435\u043b\u043e \u043f\u043e\u0432\u044b\u0448\u0430\u0439\u0442\u0435 \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u0412\u043e-\u0432\u0442\u043e\u0440\u044b\u0445, \u0444\u043b\u0430\u0433 <code>is_personal</code>,  \u0432\u043b\u0438\u044f\u044e\u0449\u0438\u0439 \u043d\u0430 \u0442\u043e, \u0431\u0443\u0434\u0435\u0442 \u043b\u0438 \u0437\u0430\u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u0441\u0440\u0430\u0437\u0443 \u0434\u043b\u044f \u0432\u0441\u0435\u0445. \u0415\u0441\u043b\u0438 \u0432\u0430\u0448 \u0431\u043e\u0442  \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 ID \u044e\u0437\u0435\u0440\u0430, \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u0432 True.</p> <p>\u0410\u0432\u0442\u043e\u0440 \u044d\u0442\u0438\u0445 \u0441\u0442\u0440\u043e\u043a \u043e\u0434\u043d\u0430\u0436\u0434\u044b \u0437\u0430\u0431\u044b\u043b \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0444\u043b\u0430\u0433 <code>is_personal</code> \u0432 \u0435\u0433\u043e \u0431\u043e\u0442\u0435 @my_id_bot,  \u0432\u044b\u0441\u0442\u0430\u0432\u0438\u043b \u043a\u044d\u0448 \u043d\u0430 86400 \u0441\u0435\u043a\u0443\u043d\u0434 (1 \u0441\u0443\u0442\u043a\u0438) \u0438 \u0432\u044b\u0441\u043b\u0443\u0448\u0430\u043b \u043c\u043d\u043e\u0433\u043e \u0432\u043e\u0437\u043c\u0443\u0449\u0435\u043d\u0438\u0439 \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0432\u0448\u0438\u0445 \u0435\u0433\u043e ID \u0432\u043c\u0435\u0441\u0442\u043e \u0438\u0445  \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445. \u0423\u0447\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0447\u0443\u0436\u0438\u0445 \u043e\u0448\u0438\u0431\u043a\u0430\u0445, \u043d\u0435 \u043d\u0430 \u0441\u0432\u043e\u0438\u0445.</p> <p>\u0412-\u0442\u0440\u0435\u0442\u044c\u0438\u0445, \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 <code>next_offset</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0443 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e \u043c\u0435\u0440\u0435 \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0438, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443  \u0432 \u043e\u0434\u043d\u043e\u043c \u043e\u0442\u0432\u0435\u0442\u0435 \u043d\u0430 InlineQuery \u043c\u043e\u0436\u043d\u043e \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 50 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 <code>next_offset</code> \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c  \u043f\u0440\u0438\u043c\u0435\u0440\u0435.</p> <p>\u0412-\u0447\u0435\u0442\u0432\u0451\u0440\u0442\u044b\u0445, <code>switch_pm_text</code> \u0438 <code>switch_pm_parameter</code>. \u041f\u043e\u043c\u0438\u043c\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0431\u043e\u0442 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0434 \u043d\u0438\u043c\u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0443\u044e  \u043a\u043d\u043e\u043f\u043e\u0447\u043a\u0443 \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u0438\u0437 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 <code>switch_pm_text</code>, \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u0434\u0438\u043f\u043b\u0438\u043d\u043a\u0443, \u0442.\u0435. \u044e\u0437\u0435\u0440 \u043f\u0435\u0440\u0435\u0439\u0434\u0451\u0442 \u0432  \u043b\u0438\u0447\u043a\u0443 \u0441 \u0431\u043e\u0442\u043e\u043c, \u0432\u043c\u0435\u0441\u0442\u043e \u043f\u043e\u043b\u044f \u0432\u0432\u043e\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u043a\u043d\u043e\u043f\u043a\u0430 \u00ab\u041d\u0410\u0427\u0410\u0422\u042c\u00bb, \u0430 \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u0431\u043e\u0442\u0443 \u043f\u0440\u0438\u043b\u0435\u0442\u0438\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u043c  <code>/start \u0422\u0415\u041a\u0421\u0422</code>, \u0433\u0434\u0435 \u0432\u043c\u0435\u0441\u0442\u043e \u0422\u0415\u041a\u0421\u0422 \u2014 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 <code>switch_pm_parameter</code>.</p> <p></p> <p>\u041f\u043e\u0434\u043e\u0431\u043d\u0443\u044e \u0448\u0442\u0443\u043a\u0443 \u043e\u0447\u0435\u043d\u044c \u0443\u0434\u043e\u0431\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c, \u0435\u0441\u043b\u0438 \u043f\u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0438\u043b\u0438 \u0445\u043e\u0447\u0435\u0442\u0441\u044f \u0434\u0430\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c  \u044e\u0437\u0435\u0440\u0443 \u0431\u044b\u0441\u0442\u0440\u043e \u0447\u0442\u043e-\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c. \u0415\u0441\u0442\u044c \u0438 \u0435\u0449\u0451 \u043e\u0434\u043d\u0430 \u0444\u0438\u0447\u0430, \u043d\u043e \u0435\u0451 \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043f\u043e\u0437\u0434\u043d\u0435\u0435 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0431\u043e\u0442\u0430. \u041a\u0441\u0442\u0430\u0442\u0438,  \u043e \u043d\u0451\u043c... </p>"},{"location":"inline-mode/#practice","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0430","text":"<p>\u0427\u0442\u043e\u0431\u044b \u0431\u043e\u0442 \u0437\u043d\u0430\u043b, \u0447\u0442\u043e \u043d\u0430\u0434\u043e \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u0440\u0438 \u0432\u044b\u0437\u043e\u0432\u0435 \u0432 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0435, \u0435\u043c\u0443 \u043d\u0443\u0436\u043d\u044b \u043a\u0430\u043a\u0438\u0435-\u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0435: \u043b\u0438\u0431\u043e \u0437\u0430\u0440\u0430\u043d\u0435\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435,  \u043b\u0438\u0431\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c\u044b\u0435 \u043e\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0431\u043e\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u043e\u0442 \u044e\u0437\u0435\u0440\u0430 \u0441\u0441\u044b\u043b\u043a\u0438  \u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438, \u0430 \u0437\u0430\u0442\u0435\u043c \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u044d\u0442\u043e \u0432\u0441\u0451 \u0434\u043e\u0431\u0440\u043e \u0432 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0435 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443.</p> <p>\u041d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c \u0443 \u0431\u043e\u0442\u0430 \u0447\u0435\u0440\u0435\u0437 @BotFather:  Bot Settings -&gt; Inline Mode -&gt; Turn on</p>"},{"location":"inline-mode/#storage","title":"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f","text":"<p>\u0414\u0430\u0431\u044b \u043d\u0435 \u043f\u043e\u0433\u0440\u0443\u0436\u0430\u0442\u044c\u0441\u044f \u0441\u0438\u043b\u044c\u043d\u043e \u0432 \u0434\u0435\u0442\u0430\u043b\u0438, \u0442\u0435\u043c \u0431\u043e\u043b\u0435\u0435, \u0447\u0442\u043e \u044d\u0442\u0430 \u0433\u043b\u0430\u0432\u0430 \u0438 \u0442\u0430\u043a \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0434\u043b\u0438\u043d\u043d\u0430\u044f, \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u043c\u0441\u044f, \u0447\u0442\u043e \u043d\u0430\u0448 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439  \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u044b\u0447\u043d\u044b\u0439 in-memory \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0438\u043c\u0438\u0442\u0430\u0446\u0438\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u0442 \u043d\u0435 \u0437\u0430\u043c\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0442\u044c\u0441\u044f  \u043f\u043e \u043f\u043e\u0432\u043e\u0434\u0443 \u0441\u0431\u0440\u043e\u0441\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043f\u0440\u0438 \u043e\u0442\u043b\u0430\u0434\u043a\u0435, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u0442 \u043d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430 \u0437\u0430\u0440\u0430\u043d\u0435\u0435, \u0435\u0441\u043b\u0438 \u0432\u044b \u0432\u0434\u0440\u0443\u0433 \u0437\u0430\u0445\u043e\u0442\u0438\u0442\u0435  \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0431\u043e\u0442\u0430 \u0441\u0440\u0430\u0437\u0443 \u0441 \u0433\u043e\u0442\u043e\u0432\u044b\u043c\u0438 \u0441\u0441\u044b\u043b\u043a\u0430\u043c\u0438 \u0438\u043b\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430\u043c\u0438. \u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437 \u0434\u0432\u0443\u0445 \u0442\u0438\u043f\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e \u0442\u0440\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438:  \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435, \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435. \u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u0432\u043e\u0442 \u0432\u0435\u0441\u044c \u043a\u043e\u0434 \u0444\u0430\u0439\u043b\u0430:</p> storage.py<pre><code>from typing import Optional\n\n# \u0412 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0436\u0438\u0437\u043d\u0438 \u0437\u0434\u0435\u0441\u044c \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0421\u0423\u0411\u0414.\n# \u041d\u043e \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u043d\u0430\u043c \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430 \u043e\u0431\u044b\u0447\u043d\u043e\u043c \u0441\u043b\u043e\u0432\u0430\u0440\u0435.\n# \u0423\u0447\u0442\u0438\u0442\u0435, \u0447\u0442\u043e \u043e\u043d \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0431\u043e\u0442\u0430.\ndata = dict()\n\n\ndef add_link(\n        telegram_id: int,\n        link: str,\n        title: str,\n        description: Optional[str]\n):\n    \"\"\"\n    \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u0441\u0441\u044b\u043b\u043a\u0443 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c\n\n    :param telegram_id: ID \u044e\u0437\u0435\u0440\u0430 \u0432 Telegram\n    :param link: \u0442\u0435\u043a\u0441\u0442 \u0441\u0441\u044b\u043b\u043a\u0438\n    :param title: \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0441\u044b\u043b\u043a\u0438\n    :param description: (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e) \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0441\u044b\u043b\u043a\u0438\n    \"\"\"\n    data.setdefault(telegram_id, dict())\n    data[telegram_id].setdefault(\"links\", dict())\n    data[telegram_id][\"links\"][link] = {\n        \"title\": title,\n        \"description\": description\n    }\n\ndef add_photo(\n        telegram_id: int,\n        photo_file_id: str,\n        photo_unique_id: str\n):\n    \"\"\"\n    \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044c\n\n    :param telegram_id: ID \u044e\u0437\u0435\u0440\u0430 \u0432 Telegram\n    :param photo_file_id: file_id \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\n    :param photo_unique_id: file_unique_id \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\n    \"\"\"\n    data.setdefault(telegram_id, dict())\n    data[telegram_id].setdefault(\"images\", [])\n    if photo_file_id not in data[telegram_id][\"images\"]:\n        data[telegram_id][\"images\"].append((photo_file_id, photo_unique_id))\n\ndef get_links_by_id(telegram_id: int) -&gt; dict:\n    \"\"\"\n    \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n\n    :param telegram_id: ID \u044e\u0437\u0435\u0440\u0430 \u0432 Telegram\n    :return: \u0435\u0441\u043b\u0438 \u043f\u043e \u044e\u0437\u0435\u0440\u0443 \u0435\u0441\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435, \u0442\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0441\u043e \u0441\u0441\u044b\u043b\u043a\u0430\u043c\u0438\n    \"\"\"\n    if telegram_id in data and \"links\" in data[telegram_id]:\n        return data[telegram_id][\"links\"]\n    return dict()\n\ndef get_images_by_id(telegram_id: int) -&gt; list[str]:\n    \"\"\"\n    \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\n\n    :param telegram_id: ID \u044e\u0437\u0435\u0440\u0430 \u0432 Telegram\n    :return:\n    \"\"\"\n    if telegram_id in data and \"images\" in data[telegram_id]:\n        return [item[0] for item in data[telegram_id][\"images\"]]\n    return []\n\ndef delete_link(telegram_id: int, link: str):\n    \"\"\"\n    \u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u0441\u0441\u044b\u043b\u043a\u0443\n\n    :param telegram_id: ID \u044e\u0437\u0435\u0440\u0430 \u0432 Telegram\n    :param link: \u0441\u0441\u044b\u043b\u043a\u0430\n    \"\"\"\n    if telegram_id in data:\n        if \"links\" in data[telegram_id]:\n            if link in data[telegram_id][\"links\"]:\n                del data[telegram_id][\"links\"][link]\n\ndef delete_image(telegram_id: int, photo_file_unique_id: str):\n    \"\"\"\n    \u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\n\n    :param telegram_id: ID \u044e\u0437\u0435\u0440\u0430 \u0432 Telegram\n    :param photo_file_unique_id: file_unique_id \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f\n    \"\"\"\n    if telegram_id in data and \"images\" in data[telegram_id]:\n        for index, (_, unique_id) in enumerate(data[telegram_id][\"images\"]):\n            if unique_id == photo_file_unique_id:\n                data[telegram_id][\"images\"].pop(index)\n</code></pre>"},{"location":"inline-mode/#common-commands","title":"\u041a\u043e\u043c\u0430\u043d\u0434\u044b \u0432 \u0431\u043e\u0442\u0435","text":"<p>\u0423 \u0431\u043e\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u0449\u0438\u0445 \u043a\u043e\u043c\u0430\u043d\u0434: <code>/start</code>, <code>/help</code>, <code>/save</code>, <code>/delete</code> \u0438 <code>/cancel</code>. \u041f\u0435\u0440\u0432\u044b\u0435 \u0434\u0432\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435,  <code>/save</code> \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445, <code>/delete</code> \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445, \u0430 <code>/cancel</code>, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e,  \u043f\u0440\u0435\u0440\u044b\u0432\u0430\u0435\u0442 \u043e\u0434\u0438\u043d \u0438\u0437 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432. \u041d\u0430\u0447\u043d\u0451\u043c \u0441 \u043a\u043e\u043c\u0430\u043d\u0434\u044b <code>/save</code>.</p>"},{"location":"inline-mode/#data-saving","title":"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<p>\u041d\u0430 \u044d\u0442\u043e\u0442 \u0440\u0430\u0437 \u043c\u044b \u043e\u043f\u0438\u0448\u0435\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f (states) \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u043e \u0443\u0434\u043e\u0431\u043d\u0435\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0444\u0430\u0439\u043b  <code>states.py</code> \u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u043a\u043b\u0430\u0441\u0441 <code>SaveCommon</code>, \u0433\u0434\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0434\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u00ab\u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u0432\u0432\u043e\u0434\u00bb:</p> states.py<pre><code>from aiogram.fsm.state import StatesGroup, State\n\nclass SaveCommon(StatesGroup):\n    waiting_for_save_start = State()\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0437\u0430\u0439\u043c\u0451\u043c\u0441\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u043e\u0439 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 </p>"},{"location":"inline-mode/#save-text","title":"\u0422\u0435\u043a\u0441\u0442","text":"<p>\u041d\u0430\u0447\u043d\u0451\u043c \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439. \u0418\u0434\u0435\u044f \u043f\u0440\u043e\u0441\u0442\u0430\u044f: \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043a\u0438\u0434\u0430\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435. \u0415\u0441\u043b\u0438 \u0442\u0430\u043c \u0435\u0441\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430, \u0442\u043e  \u043e\u043d\u0430 \u0438\u0437\u0432\u043b\u0435\u043a\u0430\u0435\u0442\u0441\u044f, \u0430 \u0434\u0430\u043b\u0435\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0441\u044b\u043b\u043a\u0438 (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e) \u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435. \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0448\u0430\u0433 \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c  \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 <code>/skip</code>. \u0415\u0441\u043b\u0438 \u0441\u0441\u044b\u043b\u043e\u043a \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e, \u0442\u043e \u0431\u0435\u0440\u0451\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0432\u0430\u044f.</p> <p>\u041f\u043e\u043c\u0438\u043c\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u043e\u0433\u043e \u0432\u044b\u0448\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u00ab\u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u0432\u0432\u043e\u0434\u00bb, \u0431\u0443\u0434\u0435\u0442 \u0435\u0449\u0451 \u0434\u0432\u0430 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0445 \u0434\u043b\u044f \u0442\u0435\u043a\u0441\u0442\u0430: \u00ab\u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u0432\u0432\u043e\u0434 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u00bb \u0438  \u00ab\u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u0432\u0432\u043e\u0434 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f\u00bb. \u0412 <code>states.py</code> \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u044d\u0442\u0438 \u0441\u0442\u0435\u0439\u0442\u044b:</p> states.py<pre><code># \u0442\u0443\u0442 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u0434\n\nclass TextSave(StatesGroup):\n    waiting_for_title = State()\n    waiting_for_description = State()\n</code></pre> <p>\u041d\u0430\u0447\u043d\u0451\u043c \u0441 \u0434\u0432\u0443\u0445 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u043d\u0430 \u0442\u0435\u043a\u0441\u0442 \u0432 \u0441\u0442\u0435\u0439\u0442\u0435 <code>SaveCommon</code> -&gt; <code>waiting_for_save_start</code>. \u041d\u0430\u0434\u043e \u043b\u043e\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441\u043e \u0441\u0441\u044b\u043b\u043a\u0430\u043c\u0438.  \u0412 \u0433\u043b\u0430\u0432\u0435 \u043f\u0440\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438 \u043c\u044b \u0443\u0436\u0435 \u0434\u0435\u043b\u0430\u043b\u0438 \u043f\u043e\u0445\u043e\u0436\u0438\u0439 \u0444\u0438\u043b\u044c\u0442\u0440, \u043d\u043e \u0434\u043b\u044f  \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c\u043e\u0432. \u041d\u0430\u0441\u0442\u0430\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u0435\u0433\u043e \u043e\u0442\u0442\u0443\u0434\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0430\u0434\u0430\u043f\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434 \u0441\u0441\u044b\u043b\u043a\u0438:</p> filters/text_has_link.py<pre><code>from typing import Union, Dict, Any\n\nfrom aiogram.filters import BaseFilter\nfrom aiogram.types import Message\n\n\nclass HasLinkFilter(BaseFilter):\n    async def __call__(self, message: Message) -&gt; Union[bool, Dict[str, Any]]:\n        # \u0415\u0441\u043b\u0438 entities \u0432\u043e\u043e\u0431\u0449\u0435 \u043d\u0435\u0442, \u0432\u0435\u0440\u043d\u0451\u0442\u0441\u044f None,\n        # \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u0447\u0438\u0442\u0430\u0435\u043c, \u0447\u0442\u043e \u044d\u0442\u043e \u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u043f\u0438\u0441\u043e\u043a\n        entities = message.entities or []\n\n        # \u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c \u0435\u0451\n        for entity in entities:\n            if entity.type == \"url\":\n                return {\"link\": entity.extract_from(message.text)}\n\n        # \u0415\u0441\u043b\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c None\n        return False\n</code></pre> <p>\u0427\u0442\u043e\u0431\u044b \u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u044c \u0438\u043c\u043f\u043e\u0440\u0442, \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c \u0444\u0430\u0439\u043b <code>filters/__init__.py</code>:</p> filters/__init__.py<pre><code>from .text_has_link import HasLinkFilter\n\n# \u0414\u0435\u043b\u0430\u0435\u043c \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0442\u0435\u043c \u043f\u0440\u043e\u0441\u0442\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\n# from filters import HasLinkFilter\n__all__ = [\n    \"HasLinkFilter\"\n]\n</code></pre> <p>\u041f\u043e\u0447\u0435\u043c\u0443 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u043d\u0430 \u0442\u0435\u043a\u0441\u0442 \u043d\u0443\u0436\u043d\u043e \u0434\u0432\u0430? \u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043b\u043e\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0433\u0434\u0435 \u0435\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0430, \u0430 \u0432\u0442\u043e\u0440\u043e\u0439 \u2014 \u0433\u0434\u0435 \u0435\u0451 \u043d\u0435\u0442. \u041f\u0438\u0448\u0435\u043c:</p> handlers/save_text.py<pre><code># &lt;\u0438\u043c\u043f\u043e\u0440\u0442\u044b&gt;\n\n@router.message(SaveCommon.waiting_for_save_start, F.text, HasLinkFilter())\nasync def save_text_has_link(message: Message, link: str, state: FSMContext):\n    await state.update_data(link=link)\n    await state.set_state(TextSave.waiting_for_title)\n    await message.answer(\n        text=f\"\u041e\u043a\u0435\u0439, \u044f \u043d\u0430\u0448\u0451\u043b \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438 \u0441\u0441\u044b\u043b\u043a\u0443 {link}. \"\n             f\"\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u044c \u043c\u043d\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a (\u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)\"\n    )\n\n@router.message(SaveCommon.waiting_for_save_start, F.text)\nasync def save_text_no_link(message: Message):\n    await message.answer(\n        text=\"\u042d\u043c\u043c.. \u044f \u043d\u0435 \u043d\u0430\u0448\u0451\u043b \u0432 \u0442\u0432\u043e\u0451\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438 \u0441\u0441\u044b\u043b\u043a\u0443. \"\n             \"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0435\u0449\u0451 \u0440\u0430\u0437 \u0438\u043b\u0438 \u043d\u0430\u0436\u043c\u0438 /cancel, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.\"\n    )\n</code></pre> <p>\u0414\u0430\u043b\u0435\u0435 \u043e\u0436\u0438\u0434\u0430\u0435\u043c \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432\u0432\u043e\u0434 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u0438. \u0417\u0434\u0435\u0441\u044c \u0442\u043e\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0437\u0431\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u043a\u0443 \u043d\u0430 \u0434\u0432\u0430 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430: \u0434\u043b\u044f \u0443\u0434\u0430\u0447\u043d\u043e\u0433\u043e  \u0438 \u043d\u0435\u0443\u0434\u0430\u0447\u043d\u043e\u0433\u043e \u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u0441\u0442\u0432:</p> handlers/save_text.py<pre><code># \u0438\u043c\u043f\u043e\u0440\u0442\u044b \u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435 \u0448\u0430\u0433\u0438\n\n@router.message(TextSave.waiting_for_title, F.text.func(len) &lt;= 30)\nasync def title_entered_ok(message: Message, state: FSMContext):\n    await state.update_data(title=message.text, description=None)\n    await state.set_state(TextSave.waiting_for_description)\n    await message.answer(\n        text=\"\u0422\u0430\u043a, \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0432\u0438\u0436\u0443. \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u0432\u0435\u0434\u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \"\n             \"(\u0442\u043e\u0436\u0435 \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432) \"\n             \"\u0438\u043b\u0438 \u043d\u0430\u0436\u043c\u0438 /skip, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0448\u0430\u0433\"\n    )\n\n@router.message(TextSave.waiting_for_title, F.text)\nasync def too_long_title(message: Message):\n    await message.answer(\"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0435\u0449\u0451 \u0440\u0430\u0437\")\n    return\n</code></pre> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u043a\u043e\u0434 <code>F.text.func(len) &lt;= 30</code>. Magic filter \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043d\u0430 \u0432\u0445\u043e\u0434 \u043a\u0430\u043a\u0443\u044e-\u043b\u0438\u0431\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u044e, \u043a\u043e\u0442\u043e\u0440\u0430\u044f  \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0441\u044f \u043d\u0430\u0434 \u0442\u0435\u043c, \u0447\u0442\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0434\u043e <code>.func</code>. \u0422.\u0435. <code>F.text.func(len)</code> -&gt; <code>len(F.text)</code> \u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 <code>.text</code>  \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f None (\u0438\u043d\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438, \u0437\u0434\u0435\u0441\u044c \u0435\u0449\u0451 \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442-\u0442\u0430\u0439\u043f). \u041d\u043e \u0432\u043e\u043e\u0431\u0449\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e \u0434\u043b\u044f <code>len()</code>  \u0435\u0441\u0442\u044c \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u044f\u043c \u0432  magic-filter:  <code>F.text.len() &lt;= 30</code></p> <p>\u041d\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435. \u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0436\u043d\u043e \u0441\u043d\u043e\u0432\u0430 \u0440\u0430\u0437\u0431\u0438\u0442\u044c \u043d\u0430 \u0434\u0432\u0430 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430... \u043f\u043e\u0441\u0442\u043e\u0439\u0442\u0435, \u043d\u043e \u0432\u0435\u0434\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>too_long_title()</code>,  \u043f\u043e \u0441\u0443\u0442\u0438, \u043c\u043e\u0436\u0435\u0442 \u0442\u0430\u043a \u0436\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442\u044c \u0438 \u0434\u043b\u044f \u0448\u0430\u0433\u0430 \u0441 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c, \u0440\u0430\u0437 \u0443\u0436 \u0443 \u043d\u0430\u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u043b\u0438\u043c\u0438\u0442\u044b \u043d\u0430 \u0442\u0435\u043a\u0441\u0442! \u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u0443\u0435\u043c \u0435\u0451 \u0438  \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0444\u0438\u043b\u044c\u0442\u0440 \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0442\u0435\u0439\u0442:</p> handlers/save_text.py<pre><code>@router.message(TextSave.waiting_for_title, F.text)\n@router.message(TextSave.waiting_for_description, F.text)\nasync def text_too_long(message: Message):  # \u0431\u044b\u0432\u0448. too_long_title()\n    await message.answer(\"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0435\u0449\u0451 \u0440\u0430\u0437\")\n    return\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u043e\u0437\u044c\u043c\u0451\u043c\u0441\u044f \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0445\u044d\u043d\u0434\u043b\u0435\u0440, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043f\u0430\u0434\u0430\u0435\u043c \u043b\u0438\u0431\u043e \u043f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0433\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f, \u043b\u0438\u0431\u043e \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0435 <code>/skip</code>.  \u0410 \u0440\u0430\u0437 \u043d\u0430\u0434\u043e \u043b\u043e\u0432\u0438\u0442\u044c \u0434\u0432\u0430 \u0432\u0445\u043e\u0434\u0430, \u0442\u043e \u0432\u0435\u0448\u0430\u0435\u043c \u0434\u0432\u0430 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0430, \u0432 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u0445 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 <code>CommandObject</code> \u0438 \u0432\u043d\u0443\u0442\u0440\u0438  \u0441\u043c\u043e\u0442\u0440\u0438\u043c: \u0435\u0441\u043b\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0435\u0442, \u0437\u043d\u0430\u0447\u0438\u0442, \u0432\u0432\u0435\u043b\u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:</p> handlers/save_text.py<pre><code># \u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u041f\u0415\u0420\u0415\u0414 text_too_long() !\n@router.message(TextSave.waiting_for_description, F.text.func(len) &lt;= 30)\n@router.message(TextSave.waiting_for_description, Command(\"skip\"))\nasync def last_step(\n        message: Message,\n        state: FSMContext,\n        command: Optional[CommandObject] = None\n):\n    if not command:\n        await state.update_data(description=message.text)\n    # \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u043d\u0430\u0448\u0443 \u043d\u0435\u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u0411\u0414\n    data = await state.get_data()\n    add_link(message.from_user.id, data[\"link\"], data[\"title\"], data[\"description\"])\n\n    await message.answer(\"\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430!\")\n    await state.clear()\n</code></pre> <p>\u0418\u0442\u0430\u043a, \u043c\u044b \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u043d\u0430\u0431\u043e\u0440 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u0441\u044b\u043b\u043e\u043a \u0432 \u043d\u0430\u0448\u0443 in-memory \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445. \u0412\u043e\u0442 \u0432\u0435\u0441\u044c \u043a\u043e\u0434 \u0444\u0430\u0439\u043b\u0430 \u0446\u0435\u043b\u0438\u043a\u043e\u043c:</p> handlers/save_text.py<pre><code>from typing import Optional\n\nfrom aiogram import Router, F\nfrom aiogram.filters.command import Command, CommandObject\nfrom aiogram.fsm.context import FSMContext\nfrom aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton\n\nfrom filters import HasLinkFilter\nfrom states import SaveCommon, TextSave\nfrom storage import add_link\n\nrouter = Router()\n\n@router.message(SaveCommon.waiting_for_save_start, F.text, HasLinkFilter())\nasync def save_text_has_link(message: Message, link: str, state: FSMContext):\n    await state.update_data(link=link)\n    await state.set_state(TextSave.waiting_for_title)\n    await message.answer(\n        text=f\"\u041e\u043a\u0435\u0439, \u044f \u043d\u0430\u0448\u0451\u043b \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438 \u0441\u0441\u044b\u043b\u043a\u0443 {link}. \"\n             f\"\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u044c \u043c\u043d\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)\"\n    )\n\n@router.message(SaveCommon.waiting_for_save_start, F.text)\nasync def save_text_no_link(message: Message):\n    await message.answer(\n        text=\"\u042d\u043c\u043c.. \u044f \u043d\u0435 \u043d\u0430\u0448\u0451\u043b \u0432 \u0442\u0432\u043e\u0451\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438 \u0441\u0441\u044b\u043b\u043a\u0443. \"\n             \"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0435\u0449\u0451 \u0440\u0430\u0437 \u0438\u043b\u0438 \u043d\u0430\u0436\u043c\u0438 /cancel, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.\"\n    )\n\n@router.message(TextSave.waiting_for_title, F.text.func(len) &lt;= 30)\nasync def title_entered_ok(message: Message, state: FSMContext):\n    await state.update_data(title=message.text, description=None)\n    await state.set_state(TextSave.waiting_for_description)\n    await message.answer(\n        text=\"\u0422\u0430\u043a, \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0432\u0438\u0436\u0443. \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u0432\u0435\u0434\u0438 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \"\n             \"(\u0442\u043e\u0436\u0435 \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432) \"\n             \"\u0438\u043b\u0438 \u043d\u0430\u0436\u043c\u0438 /skip, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0448\u0430\u0433\"\n    )\n\n@router.message(TextSave.waiting_for_description, F.text.func(len) &lt;= 30)\n@router.message(TextSave.waiting_for_description, Command(\"skip\"))\nasync def last_step(\n        message: Message,\n        state: FSMContext,\n        command: Optional[CommandObject] = None\n):\n    if not command:\n        await state.update_data(description=message.text)\n    # \u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u043d\u0430\u0448\u0443 \u043d\u0435\u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u0411\u0414\n    data = await state.get_data()\n    add_link(message.from_user.id, data[\"link\"], data[\"title\"], data[\"description\"])\n    await state.clear()\n    kb = [[InlineKeyboardButton(\n        text=\"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c\",\n        switch_inline_query=\"links\"\n    )]]\n    await message.answer(\n        text=\"\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430!\",\n        reply_markup=InlineKeyboardMarkup(inline_keyboard=kb)\n    )\n\n@router.message(TextSave.waiting_for_title, F.text)\n@router.message(TextSave.waiting_for_description, F.text)\nasync def text_too_long(message: Message):\n    await message.answer(\"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0435\u0449\u0451 \u0440\u0430\u0437\")\n    return\n</code></pre>"},{"location":"inline-mode/#save-images","title":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","text":"<p>\u0421 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430\u043c\u0438 \u0433\u043e\u0440\u0430\u0437\u0434\u043e \u043f\u0440\u043e\u0449\u0435; \u043e\u043d\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0432 \u043e\u0434\u0438\u043d \u0448\u0430\u0433. \u041d\u043e \u0435\u0441\u0442\u044c \u043d\u044e\u0430\u043d\u0441: \u043f\u043e\u043c\u0438\u043c\u043e <code>file_id</code> \u0434\u043b\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f,  \u043d\u0430\u043c \u043d\u0430\u0434\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c <code>file_unique_id</code>, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043e\u043d \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f, \u043a\u043e\u0433\u0434\u0430 \u043c\u044b \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u043c \u044e\u0437\u0435\u0440\u0443 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438:</p> handlers/save_images.py<pre><code>from aiogram import Router, F\nfrom aiogram.fsm.context import FSMContext\nfrom aiogram.types import Message, PhotoSize\nfrom states import SaveCommon\nfrom storage import add_photo\n\nrouter = Router()\n\n@router.message(SaveCommon.waiting_for_save_start, F.photo[-1].as_(\"photo\"))\nasync def save_image(message: Message, photo: PhotoSize, state: FSMContext):\n    add_photo(message.from_user.id, photo.file_id, photo.file_unique_id)\n    await message.answer(\"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!\")\n    await state.clear()\n</code></pre>"},{"location":"inline-mode/#show-data","title":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<p>\u041e\u043a\u0435\u0439, \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u043d\u0430\u0443\u0447\u0438\u043b\u0438\u0441\u044c, \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u0434\u043e \u0438\u0445 \u043a\u0430\u043a-\u0442\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0431\u043e\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043b\u043e\u0432\u0438\u0442\u044c \u0430\u043f\u0434\u0435\u0439\u0442\u044b \u0441 \u0442\u0438\u043f\u043e\u043c  <code>inline_query</code>, \u0430 \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043f\u0440\u0438\u0434\u0451\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 \u0442\u0438\u043f\u0430 InlineQuery.  \u0423\u0441\u043b\u043e\u0432\u0438\u043c\u0441\u044f, \u0447\u0442\u043e \u043d\u0430 \u043f\u0443\u0441\u0442\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 (\u043f\u043e\u043a\u0430) \u043d\u0438\u0447\u0435\u0433\u043e \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u043c, \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441 <code>@bot links</code> \u043f\u043e\u043a\u0430\u0436\u0435\u043c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0441\u044b\u043b\u043e\u043a, \u0430  \u043d\u0430 \u0437\u0430\u043f\u0440\u043e\u0441 <code>@bot images</code> \u2014 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438. \u0412\u043c\u0435\u0441\u0442\u043e <code>@bot</code>, \u043a\u043e\u043d\u0435\u0447\u043d\u043e \u0436\u0435, \u0431\u0443\u0434\u0435\u0442 \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c \u0431\u043e\u0442\u0430.</p>"},{"location":"inline-mode/#show-text","title":"\u0422\u0435\u043a\u0441\u0442","text":"<p>\u0414\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u043c\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c\u0438 \u043d\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0441 \u0442\u0438\u043f\u043e\u043c InlineQueryResultArticle. \u0412\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435  (\u0438 \u0434\u0430\u0436\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435) \u0434\u0430\u043d\u043d\u044b\u0435 \u0443 \u043d\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c:</p> <p></p> <p>\u0414\u043b\u044f \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 <code>input_message_content</code> \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u043f\u0440\u043e\u0441\u0442\u0443\u044e \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0441 \u0443\u0447\u0451\u0442\u043e\u043c \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0438\u043b\u0438  \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f:</p> <pre><code>def get_message_text(\n        link: str,\n        title: str,\n        description: Optional[str]\n) -&gt; str:\n    text_parts = [f'{html.bold(html.quote(title))}']\n    if description:\n        text_parts.append(html.quote(description))\n    text_parts.append(\"\")  # \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043f\u0443\u0441\u0442\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443\n    text_parts.append(link)\n    return \"\\n\".join(text_parts)\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u043f\u0438\u0448\u0435\u043c \u0441\u0430\u043c \u0445\u044d\u043d\u0434\u043b\u0435\u0440:</p> handlers/inline_mode.py<pre><code>@router.inline_query(F.query == \"links\")\nasync def show_user_links(inline_query: InlineQuery):\n\n    # \u042d\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u0442\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442\n    # \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0432 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0435\n    def get_message_text():\n        # \u044d\u0442\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0430 \u0432\u044b\u0448\u0435 \u2191\n\n    results = []\n    for link, link_data in get_links_by_id(inline_query.from_user.id).items():\n        # \u0412 \u0438\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u043c\u0430\u0441\u0441\u0438\u0432 \u0437\u0430\u043f\u0438\u0445\u0438\u0432\u0430\u0435\u043c \u043a\u0430\u0436\u0434\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c\n        results.append(InlineQueryResultArticle(\n            id=link,  # \u0441\u0441\u044b\u043b\u043a\u0438 \u0443 \u043d\u0430\u0441 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435, \u043f\u043e\u0442\u043e\u043c\u0443 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442\n            title=link_data[\"title\"],\n            description=link_data[\"description\"],\n            input_message_content=InputTextMessageContent(\n                message_text=get_message_text(\n                    link=link,\n                    title=link_data[\"title\"],\n                    description=link_data[\"description\"]\n                ),\n                parse_mode=\"HTML\"\n            )\n        ))\n    # \u0412\u0430\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c is_personal=True!\n    await inline_query.answer(results, is_personal=True)\n</code></pre> <p>\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0432 \u0438\u0442\u043e\u0433\u0435 (\u0443 \u0432\u0442\u043e\u0440\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u044b\u043b \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d \u044d\u0442\u0430\u043f \u0441\u043e \u0441\u0432\u043e\u0434\u043e\u043c <code>description</code>):</p> <p></p> <p>\u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u0432\u043e\u0442 \u0442\u0430\u043a\u043e\u0435 \u043a\u0440\u0430\u0441\u0438\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435:</p> <p></p>"},{"location":"inline-mode/#show-images","title":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","text":"<p>\u0421 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\u0438 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u043f\u043e\u043f\u0440\u043e\u0449\u0435, \u043e\u0434\u043d\u0430\u043a\u043e \u0442\u0443\u0442 \u0435\u0441\u0442\u044c \u043d\u044e\u0430\u043d\u0441: \u043c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0439\u0434\u0438 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c  <code>file_id</code> \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043e\u043d \u0434\u043b\u0438\u043d\u043d\u0435\u0435 64 \u0431\u0430\u0439\u0442 (\u043b\u0438\u043c\u0438\u0442 Bot API). \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0440\u044f\u0434\u043a\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440  \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u0435, \u0441\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443. \u0412 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u043c \u043a\u043e\u0434 \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0445\u043e\u0436 \u043d\u0430 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439:</p> handlers/inline_mode.py<pre><code>@router.inline_query(F.query == \"images\")\nasync def show_user_images(inline_query: InlineQuery):\n    results = []\n    for index, file_id in enumerate(get_images_by_id(inline_query.from_user.id)):\n        # \u0412 \u0438\u0442\u043e\u0433\u043e\u0432\u044b\u0439 \u043c\u0430\u0441\u0441\u0438\u0432 \u0437\u0430\u043f\u0438\u0445\u0438\u0432\u0430\u0435\u043c \u043a\u0430\u0436\u0434\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c\n        results.append(InlineQueryResultCachedPhoto(\n            id=str(index),  # \u0438\u043d\u0434\u0435\u043a\u0441 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0432 list\n            photo_file_id=file_id\n        ))\n    # \u0412\u0430\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c is_personal=True!\n    await inline_query.answer(results, is_personal=True)\n</code></pre> <p>\u041d\u0443 \u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:</p> <p></p>"},{"location":"inline-mode/#delete-data","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<p>\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043a\u0438 \u043d\u0430\u0434\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0447\u0438\u0441\u0442\u0438\u0442\u044c. \u0422\u0430\u043a \u0438 \u043c\u044b \u0445\u043e\u0442\u0438\u043c \u0434\u0430\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438  \u0438/\u0438\u043b\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/delete</code>. \u041d\u043e \u0437\u0430\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c \u0431\u043e\u0442\u0430  \u0438 \u043f\u0438\u0441\u0430\u0442\u044c <code>links</code> \u0438\u043b\u0438 <code>images</code> \u043c\u044b \u043d\u0435 \u0445\u043e\u0442\u0438\u043c. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u0434 \u043e\u0442\u0432\u0435\u0442\u043e\u043c \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0438\u043c \u0434\u0432\u0435 \u043a\u043d\u043e\u043f\u043a\u0438. \u041e\u0434\u043d\u0430 \u043e\u0442\u043a\u0440\u043e\u0435\u0442  \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c \u043d\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435 \u0441\u0441\u044b\u043b\u043e\u043a, \u0434\u0440\u0443\u0433\u0430\u044f \u2014 \u043d\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439. </p> <p>\u0414\u043e\u0431\u0430\u0432\u0438\u043c \u0432 <code>states.py</code> \u043d\u043e\u0432\u044b\u0439 \u043a\u043b\u0430\u0441\u0441:</p> states.py<pre><code>class DeleteCommon(StatesGroup):\n    waiting_for_delete_start = State()\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/delete</code>:</p> handlers/common.py<pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442\nfrom aiogram.filters.state import StateFilter\n\n@router.message(Command(\"delete\"), StateFilter(None))\nasync def cmd_delete(message: Message, state: FSMContext):\n    kb = []\n    kb.append([\n        InlineKeyboardButton(\n            text=\"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443\",\n            switch_inline_query_current_chat=\"links\"\n        )\n    ])\n    kb.append([\n        InlineKeyboardButton(\n            text=\"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\",\n            switch_inline_query_current_chat=\"images\"\n        )\n    ])\n    await state.set_state(DeleteCommon.waiting_for_delete_start)\n    await message.answer(\n        text=\"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c:\",\n        reply_markup=InlineKeyboardMarkup(inline_keyboard=kb)\n    )\n</code></pre> <p>\u041f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u0442\u0430\u043a\u0443\u044e \u043a\u043d\u043e\u043f\u043a\u0443 \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0443\u0436\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c, \u0447\u0442\u043e \u0441\u0440\u0430\u0437\u0443 \u043e\u0442\u043a\u0440\u043e\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0441\u044b\u043b\u043e\u043a \u0438\u043b\u0438  \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 (\u0434\u043b\u044f \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u044f \u0443\u0431\u0440\u0430\u043b \u043f\u043e\u043a\u0430 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u043c\u0435\u043d\u044e, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u043e \u0432\u0438\u0434\u043d\u043e \u043a\u043d\u043e\u043f\u043a\u0438):</p> <p></p> <p>\u0415\u0441\u043b\u0438 \u0431\u044b \u043c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e <code>switch_inline_query</code> \u0432\u043c\u0435\u0441\u0442\u043e <code>switch_inline_query_current_chat</code>, \u0442\u043e Telegram \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u043b  \u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0447\u0430\u0442, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u043f\u0438\u0441\u0430\u0442\u044c, \u0430 \u0437\u0430\u0442\u0435\u043c \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u0438\u043b \u0431\u044b \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0442\u0430\u043c.</p> <p>\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0440\u043e\u0443\u0442\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043b\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430:</p> handlers/delete_data.py<pre><code># \u0438\u043c\u043f\u043e\u0440\u0442\u044b\nrouter = Router()\n\n@router.message(\n    DeleteCommon.waiting_for_delete_start,\n    F.text,\n    ViaBotFilter(),\n    HasLinkFilter()\n)\nasync def link_deletion_handler(message: Message, link: str, state: FSMContext):\n    delete_link(message.from_user.id, link)\n    await state.clear()\n    await message.answer(\n        text=\"\u0421\u0441\u044b\u043b\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430! \"\n             \"\u0412\u044b\u0434\u0430\u0447\u0430 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0430 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043c\u0438\u043d\u0443\u0442.\")\n\n@router.message(\n    DeleteCommon.waiting_for_delete_start,\n    F.photo[-1].file_unique_id.as_(\"file_unique_id\"),\n    ViaBotFilter()\n)\nasync def image_deletion_handler(\n        message: Message,\n        state: FSMContext,\n        file_unique_id: str\n):\n    delete_image(message.from_user.id, file_unique_id)\n    await state.clear()\n    await message.answer(\n        text=\"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u043e! \"\n             \"\u0412\u044b\u0434\u0430\u0447\u0430 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0430 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043c\u0438\u043d\u0443\u0442.\")\n</code></pre> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435: \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u044b \u0443\u0434\u0430\u043b\u044f\u0435\u043c \u043f\u043e <code>file_unique_id</code>, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 <code>file_id</code>  \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0437\u043d\u044b\u0439 (\u0435\u0441\u043b\u0438 \u043a\u0440\u0430\u0442\u043a\u043e: \u0432 \u043f\u043e\u043b\u043d\u043e\u043c <code>file_id</code> \u0437\u0430\u0448\u0438\u0442\u044b \u043e\u0442\u043c\u0435\u0442\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0438 \u043f\u0440\u043e\u0447\u0438\u0435 \u043d\u0435\u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435).</p>"},{"location":"inline-mode/#switch-parameter","title":"Switch \u0442\u0443\u0434\u0430 \u0438 \u043e\u0431\u0440\u0430\u0442\u043d\u043e","text":"<p>\u041a\u043e\u0433\u0434\u0430 \u043c\u044b \u0440\u0430\u043d\u0435\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0430\u043b\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u043e\u0442\u0432\u0435\u0442\u043e\u0432, \u0442\u043e \u0432\u0438\u0434\u0435\u043b\u0438 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b  \u0441 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043e\u043c <code>switch_pm</code>. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0438\u043c\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0433 \u0441\u0440\u0430\u0437\u0443 \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u043b\u044e\u0431\u043e\u0433\u043e  \u0447\u0430\u0442\u0430, \u0430 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u043b\u0438\u0447\u043a\u0438 \u0441 \u0431\u043e\u0442\u043e\u043c.</p> <p>\u0414\u043e\u0431\u0430\u0432\u0438\u043c \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0438\u043d\u043b\u0430\u0439\u043d-\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432\u044b\u0448\u0435\u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u043f\u0438\u0448\u0435\u043c \u0432\u044b\u0437\u043e\u0432 \u043c\u0435\u0442\u043e\u0434\u0430 <code>answer_inline_query()</code>  \u0432 \u0444\u0430\u0439\u043b\u0435 <code>handlers/inline_mode.py</code>:</p> <pre><code>await inline_query.answer(\n        results, is_personal=True,\n        switch_pm_text=\"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0451 \u00bb\u00bb\",\n        switch_pm_parameter=\"add\"\n    )\n</code></pre> <p>\u0412 \u0444\u0430\u0439\u043b\u0435 <code>handlers/common.py</code> \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0443 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/save</code> \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0435\u0449\u0451 \u043e\u0434\u043d\u0443 \u0442\u043e\u0447\u043a\u0443 \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440 <code>CommandStart</code>  \u0441 \u0434\u0438\u043f\u043b\u0438\u043d\u043a\u043e\u043c <code>add</code>:</p> handlers/common.py<pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442:\nfrom aiogram.filters.command import CommandStart\n\n@router.message(CommandStart(magic=F.args == \"add\"))\n@router.message(Command(\"save\"), StateFilter(None))\nasync def cmd_save(message: Message, state: FSMContext):\n    ...\n\n# \u0423\u0447\u0442\u0438\u0442\u0435, \u0447\u0442\u043e \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043f\u0440\u043e\u0441\u0442\u043e /start \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u0434\u0442\u0438 \u041f\u041e\u0417\u0416\u0415\n@router.message(Command(commands=[\"start\"]))\nasync def cmd_start(message: Message, state: FSMContext):\n    ...\n</code></pre> <p>\u0410 \u0442\u0430\u043a\u0436\u0435 \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u043c \u044d\u0442\u0430\u043f\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430 \u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a \u0434\u043e\u0431\u0430\u0432\u0438\u043c <code>switch_inline_query</code> \u043a\u043d\u043e\u043f\u043a\u0443 \u0441 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c  \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043a\u0438\u043d\u0443\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0447\u0430\u0442:</p> <pre><code># \u0444\u0430\u0439\u043b handlers/save_text.py\n@router.message(TextSave.waiting_for_description, F.text.func(len) &lt;= 30)\n@router.message(TextSave.waiting_for_description, Command(\"skip\"))\nasync def last_step(...):\n    # \u0442\u0443\u0442 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u0434 \u0444\u0443\u043d\u043a\u0446\u0438\u0438\n    kb = [[InlineKeyboardButton(\n        text=\"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c\",\n        switch_inline_query=\"links\"\n    )]]\n    await message.answer(\n        text=\"\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430!\",\n        reply_markup=InlineKeyboardMarkup(inline_keyboard=kb)\n    )\n\n# \u0444\u0430\u0439\u043b handlers/save_images.py\n@router.message(SaveCommon.waiting_for_save_start, F.photo[-1].as_(\"photo\"))\nasync def save_image(...):\n    # \u0442\u0443\u0442 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u0434 \u0444\u0443\u043d\u043a\u0446\u0438\u0438\n    kb = [[InlineKeyboardButton(\n        text=\"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c\",\n        switch_inline_query=\"images\"\n    )]]\n    await message.answer(\n        text=\"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!\",\n        reply_markup=InlineKeyboardMarkup(inline_keyboard=kb)\n    )\n</code></pre> <p>\u0418 \u0437\u0434\u0435\u0441\u044c \u043a\u0440\u043e\u0435\u0442\u0441\u044f \u0435\u0449\u0451 \u043e\u0434\u043d\u0430 \u043f\u0440\u0438\u043a\u043e\u043b\u044c\u043d\u0430\u044f \u0444\u0438\u0447\u0430 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0430: \u0435\u0441\u043b\u0438 \u0432\u044b \u0432\u044b\u0437\u043e\u0432\u0435\u0442\u0435 \u0431\u043e\u0442\u0430 \u043d\u0435 \u0432 \u041b\u0421 \u0441 \u043d\u0438\u043c, \u043f\u0435\u0440\u0435\u0439\u0434\u0451\u0442\u0435 \u043f\u043e \u043a\u043d\u043e\u043f\u043a\u0435  \"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0451 \u00bb\u00bb\", \u0438 \u0434\u043e\u0439\u0434\u0451\u0442\u0435 \u0434\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0448\u0430\u0433\u0430, \u0442\u043e \u043a\u043e\u0433\u0434\u0430 \u0431\u043e\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043e <code>switch_inline_query</code>-\u043a\u043d\u043e\u043f\u043a\u043e\u0439,  \u043a\u043b\u0438\u0435\u043d\u0442 Telegram \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0435\u0440\u043d\u0451\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0447\u0430\u0442 \u0438 \u0441\u0440\u0430\u0437\u0443 \u043e\u0442\u043a\u0440\u043e\u0435\u0442 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c \u0441 \u043d\u0443\u0436\u043d\u044b\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u043c!</p>"},{"location":"inline-mode/#extras","title":"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b","text":""},{"location":"inline-mode/#lazy-loading","title":"\u041f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432","text":"<p>\u0421\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 Bot API, \u0432 \u043e\u0434\u043d\u043e\u043c \u0432\u044b\u0437\u043e\u0432\u0435 answerInlineQuery  \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 50 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432. \u0410 \u0435\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e \u0431\u043e\u043b\u044c\u0448\u0435? \u041d\u0430 \u044d\u0442\u043e\u0442 \u0441\u043b\u0443\u0447\u0430\u0439 \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>next_offset</code>. \u0415\u0433\u043e  \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0441\u0430\u043c \u0431\u043e\u0442, \u0438 \u044d\u0442\u043e \u0436\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u0434\u0451\u0442 \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0438\u043d\u043b\u0430\u0439\u043d-\u0437\u0430\u043f\u0440\u043e\u0441\u0435, \u043a\u043e\u0433\u0434\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u043e\u043b\u0438\u0441\u0442\u0430\u0435\u0442 \u0432\u0441\u044e \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u043f\u0430\u0447\u043a\u0443.  \u0414\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0447\u0438\u0441\u0435\u043b, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0449\u0438\u0439 \u043f\u0430\u0447\u043a\u0438 \u043f\u043e 50 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432, \u043d\u043e \u0441 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c 195:</p> handlers/inline_pagination_demo.py<pre><code>def get_fake_results(start_num: int, size: int = 50) -&gt; list[int]:\n    \"\"\"\n    \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u0437 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0447\u0438\u0441\u0435\u043b\n\n    :param start_num: \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430\n    :param size: \u0440\u0430\u0437\u043c\u0435\u0440 \u043f\u0430\u0447\u043a\u0438 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447. 50)\n    :return: \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0447\u0438\u0441\u0435\u043b\n    \"\"\"\n    overall_items = 195\n    # \u0415\u0441\u043b\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u043f\u0438\u0441\u043e\u043a\n    if start_num &gt;= overall_items:\n        return []\n    # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043d\u0435\u043f\u043e\u043b\u043d\u043e\u0439 \u043f\u0430\u0447\u043a\u0438 (\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439)\n    elif start_num + size &gt;= overall_items:\n        return list(range(start_num, overall_items+1))\n    else:\n        return list(range(start_num, start_num+size))\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0438\u043d\u043b\u0430\u0439\u043d-\u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u0442\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438 \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0435\u043d\u0438\u0438 \u043a \u043a\u043e\u043d\u0446\u0443 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430 Telegram \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u043b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043f\u043e\u043b\u0435 <code>offset</code> \u0438 \u0441\u0442\u0430\u0432\u0438\u043c \u0435\u0433\u043e \u0440\u0430\u0432\u043d\u044b\u043c \u0435\u0434\u0438\u043d\u0438\u0446\u0435, \u0435\u0441\u043b\u0438 \u043e\u043d\u043e \u043f\u0443\u0441\u0442\u043e\u0435. \u0414\u0430\u043b\u0435\u0435 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c  \u0444\u0435\u0439\u043a\u043e\u0432\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432. \u0415\u0441\u043b\u0438 \u043d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435 \u0440\u043e\u0432\u043d\u043e 50 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432, \u0442\u043e \u0432 \u043e\u0442\u0432\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c <code>next_offset</code> \u0440\u0430\u0432\u043d\u044b\u0439 \u0442\u0435\u043a\u0443\u0449\u0435\u043c\u0443  \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e + 50. \u0415\u0441\u043b\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043c\u0435\u043d\u044c\u0448\u0435, \u0442\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c, \u0447\u0442\u043e\u0431\u044b Telegram \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043f\u044b\u0442\u0430\u043b\u0441\u044f \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0440\u043e\u043a\u0438:</p> handlers/inline_pagination_demo.py<pre><code>@router.inline_query(F.query == \"long\")\nasync def pagination_demo(\n        inline_query: InlineQuery,\n):\n    # \u0412\u044b\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u043c offset \u043a\u0430\u043a \u0447\u0438\u0441\u043b\u043e\n    offset = int(inline_query.offset) if inline_query.offset else 1\n    results = [InlineQueryResultArticle(\n        id=str(item_num),\n        title=f\"\u041e\u0431\u044a\u0435\u043a\u0442 \u2116{item_num}\",\n        input_message_content=InputTextMessageContent(\n            message_text=f\"\u041e\u0431\u044a\u0435\u043a\u0442 \u2116{item_num}\"\n        )\n    ) for item_num in get_fake_results(offset)]\n    if len(results) &lt; 50:\n        await inline_query.answer(\n            results, is_personal=True\n        )\n    else:\n        await inline_query.answer(\n            results, is_personal=True, \n            next_offset=str(offset+50)\n        )\n</code></pre> <p>\u041f\u043e \u043c\u0435\u0440\u0435 \u043b\u0438\u0441\u0442\u0430\u043d\u0438\u044f \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432, \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0432\u0441\u0451 \u043d\u043e\u0432\u044b\u0435 \u0438 \u043d\u043e\u0432\u044b\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b, \u043f\u043e\u043a\u0430 \u043d\u0435 \u0434\u043e\u0439\u0434\u0451\u0442  \u0434\u043e 195-\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430, \u0434\u0430\u043b\u044c\u0448\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043f\u0440\u0435\u043a\u0440\u0430\u0442\u044f\u0442\u0441\u044f.</p>"},{"location":"inline-mode/#inline-feedback","title":"\u0421\u0431\u043e\u0440 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438","text":"<p>\u041c\u0430\u043b\u043e \u043a\u0442\u043e \u0437\u043d\u0430\u0435\u0442, \u043d\u043e Telegram \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0431\u0438\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u0435\u043d\u044c\u043a\u0443\u044e \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043f\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u0431\u043e\u0442\u0430 \u0432 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0435. \u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430  \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0443 @BotFather: <code>/mybots</code> - (\u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0431\u043e\u0442\u0430) - Bot Settings - Inline Feedback:</p> <p></p> <p>\u0427\u0438\u0441\u043b\u0430 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0430\u0445 \u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0442 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f ChosenInlineResult  \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u043a\u0430\u043a\u043e\u0433\u043e-\u043b\u0438\u0431\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0432 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0435. \u0422\u0430\u043a, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 10%, \u0442\u043e \u043f\u0440\u0438  \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u044b\u0431\u043e\u0440\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0432 \u0434\u0435\u0441\u044f\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435 ChosenInlineResult \u0432 \u0431\u043e\u0442\u0435. \u0412\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c  \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 100% Telegram \u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442 \u0438\u0437-\u0437\u0430 \u0443\u0434\u0432\u043e\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430 \u0431\u043e\u0442\u0430. \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u0434\u043b\u044f \u0441\u043a\u043e\u043b\u044c\u043a\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u0441\u0435\u0440\u044c\u0451\u0437\u043d\u043e\u0439 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438  \u043f\u043e\u0434\u043e\u0431\u043d\u0430\u044f \u0444\u0438\u0447\u0430 \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442, \u043d\u043e \u0432 \u0443\u043c\u0435\u043b\u044b\u0445 \u0440\u0443\u043a\u0430\u0445 \u0438 \u0437\u0430 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043c\u043e\u0436\u0435\u0442 \u0434\u0430\u0442\u044c \u043e\u0431\u0449\u0435\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435  \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0445 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u0445. \u041f\u0440\u0438\u043c\u0435\u0440 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430 \u043d\u0430 \u043f\u043e\u0434\u043e\u0431\u043d\u044b\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:</p> handlers/inline_chosen_result_demo.py<pre><code>from aiogram import Router\nfrom aiogram.types import ChosenInlineResult\n\nrouter = Router()\n\n@router.chosen_inline_result()\nasync def pagination_demo(\n        chosen_result: ChosenInlineResult,\n):\n    # \u041f\u0438\u0448\u0435\u043c \u043f\u0440\u044f\u043c\u043e \u043d\u0430 \u044d\u043a\u0440\u0430\u043d. \u041d\u043e, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0432\u044b \u0437\u0430\u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u043a\u0443\u0434\u0430-\u0442\u043e\n    print(\n        f\"After '{chosen_result.query}' query, \"\n        f\"user chose option with ID '{chosen_result.result_id}'\"\n    )\n</code></pre> <p>\u041d\u0435\u0441\u043c\u043e\u0442\u0440\u044f \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c \u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f Inline Feedback, \u0443 \u044d\u0442\u043e\u0439 \u0448\u0442\u0443\u043a\u0438 \u0435\u0441\u0442\u044c \u043a\u0430\u043a  \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u043d\u043e \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435: \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u0443\u0437\u044b\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0431\u043e\u0442\u044b \u043f\u044b\u0442\u0430\u044e\u0442\u0441\u044f \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u043e\u043b\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443,  \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f \u043f\u0435\u0441\u043d\u044e \u0437\u0430\u0440\u0430\u043d\u0435\u0435. \u0415\u0441\u043b\u0438 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0432 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u044b\u0437\u043e\u0432\u0430 \u0431\u043e\u0442\u0430 \u0432 \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c\u0435, \u043c\u043e\u0436\u043d\u043e \u043d\u0435 \u0443\u043b\u043e\u0436\u0438\u0442\u044c\u0441\u044f \u0432 10-15 \u0441\u0435\u043a\u0443\u043d\u0434,  \u043f\u043e \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u044e \u043a\u043e\u0442\u043e\u0440\u044b\u0445 Bot API \u0432\u0435\u0440\u043d\u0451\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 \u043e \u00ab\u043f\u0440\u043e\u0442\u0443\u0445\u0448\u0435\u043c\u00bb \u0430\u043f\u0434\u0435\u0439\u0442\u0435.</p> <p>\u0418 \u0432\u043e\u0442 \u043a\u0430\u043a \u0432\u044b\u043a\u0440\u0443\u0447\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438: \u043f\u043e\u043a\u0430 \u0431\u043e\u0442 \u0438\u0449\u0435\u0442 \u0442\u0440\u0435\u043a, \u0432 \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0438 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u0441\u044d\u043c\u043f\u043b  (5-10 \u0441\u0435\u043a\u0443\u043d\u0434). \u041a\u043e\u0433\u0434\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0436\u043c\u0451\u0442 \u043d\u0430 \u043a\u0430\u043a\u0443\u044e-\u043b\u0438\u0431\u043e \u0441\u0442\u0440\u043e\u0447\u043a\u0443, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0443\u0434\u0438\u043e\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0451\u043d\u043d\u043e\u0439 \u0438\u043d\u043b\u0430\u0439\u043d-\u043a\u043d\u043e\u043f\u043a\u043e\u0439 (\u0438\u043d\u0430\u0447\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435), \u0431\u043e\u0442 \u043b\u043e\u0432\u0438\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438, \u0434\u043e\u0441\u0442\u0430\u0451\u0442 \u0438\u0437 \u0430\u043f\u0434\u0435\u0439\u0442\u0430 \u0441 \u0442\u0438\u043f\u043e\u043c <code>ChosenInlineResult</code>  \u0441\u043a\u0432\u043e\u0437\u043d\u043e\u0439 <code>inline_message_id</code> \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0433\u0440\u0443\u0437\u0438\u0442 \u043f\u043e\u043b\u043d\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u0430\u0443\u0434\u0438\u043e \u0438, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u044d\u0442\u043e\u0442 <code>inline_message_id</code> \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u0442  \u0441\u044d\u043c\u043f\u043b \u043d\u0430 \u043f\u043e\u043b\u043d\u043e\u0446\u0435\u043d\u043d\u044b\u0439 \u0442\u0440\u0435\u043a. Telegram \u043f\u0440\u0438\u0443\u0447\u0430\u0435\u0442 \u043a \u043a\u043e\u0441\u0442\u044b\u043b\u044f\u043c, \u0434\u0430. </p>"},{"location":"messages/","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c\u0438","text":""},{"location":"messages/#\u0440\u0430\u0431\u043e\u0442\u0430-\u0441-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c\u0438","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c\u0438","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f aiogram: 3.7.0</p> <p>\u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c\u0441\u044f, \u043a\u0430\u043a \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c \u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u0430\u043c\u0438.</p>"},{"location":"messages/#text","title":"\u0422\u0435\u043a\u0441\u0442","text":"<p>\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u2014 \u044d\u0442\u043e, \u043f\u043e\u0436\u0430\u043b\u0443\u0439, \u043e\u0434\u043d\u043e \u0438\u0437 \u0432\u0430\u0436\u043d\u0435\u0439\u0448\u0438\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u0443 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0430 \u0431\u043e\u0442\u043e\u0432. \u0422\u0435\u043a\u0441\u0442\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0440\u0430\u0437\u0438\u0442\u044c  \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0447\u0442\u043e \u0443\u0433\u043e\u0434\u043d\u043e \u0438 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043f\u043e\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0445\u043e\u0447\u0435\u0442\u0441\u044f \u043a\u0440\u0430\u0441\u0438\u0432\u043e. \u0412 \u0440\u0430\u0441\u043f\u043e\u0440\u044f\u0436\u0435\u043d\u0438\u0438 \u0443 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u0442\u0440\u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0430  \u0440\u0430\u0437\u043c\u0435\u0442\u043a\u0438 \u0442\u0435\u043a\u0441\u0442\u0430: HTML, Markdown \u0438 MarkdownV2. \u041d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u043c\u0438 \u0438\u0437 \u043d\u0438\u0445 \u0441\u0447\u0438\u0442\u0430\u044e\u0442\u0441\u044f HTML \u0438 MarkdownV2, \u00ab\u043a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0439\u00bb  Markdown \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043c\u0435\u043d\u044c\u0448\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0438 \u0431\u043e\u043b\u0435\u0435 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 aiogram.</p> <p>\u041f\u0440\u0435\u0436\u0434\u0435, \u0447\u0435\u043c \u043c\u044b \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u0432 aiogram, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044c  \u0432\u0430\u0436\u043d\u043e\u0435 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 aiogram 3.x \u043e\u0442 2.x: \u0432 \u00ab\u0434\u0432\u043e\u0439\u043a\u0435\u00bb \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043b\u0438\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e  \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0430 \u0432 \u00ab\u0442\u0440\u043e\u0439\u043a\u0435\u00bb \u2014 \u043b\u044e\u0431\u043e\u0433\u043e \u0442\u0438\u043f\u0430. \u0415\u0441\u043b\u0438 \u0442\u043e\u0447\u043d\u0435\u0435, \u0432\u043e\u0442 \u043a\u0430\u043a \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u0434\u043e  \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f:</p> <pre><code># \u0431\u044b\u043b\u043e (\u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u043c)\n@dp.message_handler()\nasync def func_name(...)\n\n# \u0431\u044b\u043b\u043e (\u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439-\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c)\ndp.register_message_handler(func_name)\n\n# \u0441\u0442\u0430\u043b\u043e (\u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u043c)\nfrom aiogram import F\n@dp.message(F.text)\nasync def func_name(...)\n\n# \u0441\u0442\u0430\u043b\u043e (\u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439-\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c)\ndp.message.register(func_name, F.text)\n</code></pre> <p>\u041f\u0440\u043e \u00ab\u043c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0444\u0438\u043b\u044c\u0442\u0440\u00bb F \u043c\u044b \u043f\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u043c \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043b\u0430\u0432\u0435.</p>"},{"location":"messages/#formatting-options","title":"\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0432\u044b\u0432\u043e\u0434","text":"<p>\u0417\u0430 \u0432\u044b\u0431\u043e\u0440 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 <code>parse_mode</code>, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: </p><pre><code>from aiogram import F\nfrom aiogram.types import Message\nfrom aiogram.filters import Command\nfrom aiogram.enums import ParseMode\n\n# \u0415\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 F.text, \n# \u0442\u043e \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u0430\u0436\u0435 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u0441 \u043f\u043e\u0434\u043f\u0438\u0441\u044c\u044e /test\n@dp.message(F.text, Command(\"test\"))\nasync def any_message(message: Message):\n    await message.answer(\n        \"Hello, &lt;b&gt;world&lt;/b&gt;!\", \n        parse_mode=ParseMode.HTML\n    )\n    await message.answer(\n        \"Hello, *world*\\!\", \n        parse_mode=ParseMode.MARKDOWN_V2\n    )\n</code></pre> <p></p> <p>\u0415\u0441\u043b\u0438 \u0432 \u0431\u043e\u0442\u0435 \u043f\u043e\u0432\u0441\u0435\u043c\u0435\u0441\u0442\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0442\u043e \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 <code>parse_mode</code> \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e  \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e. \u041a \u0441\u0447\u0430\u0441\u0442\u044c\u044e, \u0432 aiogram \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0431\u043e\u0442\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043e\u0431\u044a\u0435\u043a\u0442 <code>DefaultBotProperties</code>  \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0439\u0442\u0435 \u0442\u0443\u0434\u0430 \u043d\u0443\u0436\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:</p> <pre><code>from aiogram.client.default import DefaultBotProperties\n\nbot = Bot(\n    token=\"123:abcxyz\",\n    default=DefaultBotProperties(\n        parse_mode=ParseMode.HTML\n        # \u0442\u0443\u0442 \u0435\u0449\u0451 \u043c\u043d\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a\n    )\n)\n\n# \u0433\u0434\u0435-\u0442\u043e \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438...\nawait message.answer(\"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 &lt;u&gt;HTML-\u0440\u0430\u0437\u043c\u0435\u0442\u043a\u043e\u0439&lt;/u&gt;\")\n# \u0447\u0442\u043e\u0431\u044b \u044f\u0432\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435, \n# \u043f\u0435\u0440\u0435\u0434\u0430\u0439\u0442\u0435 parse_mode=None\nawait message.answer(\n    \"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0431\u0435\u0437 &lt;s&gt;\u043a\u0430\u043a\u043e\u0439-\u043b\u0438\u0431\u043e \u0440\u0430\u0437\u043c\u0435\u0442\u043a\u0438&lt;/s&gt;\", \n    parse_mode=None\n)\n</code></pre> <p></p>"},{"location":"messages/#input-escaping","title":"\u042d\u043a\u0440\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0432\u043e\u0434\u0430","text":"<p>\u041d\u0435\u0440\u0435\u0434\u043a\u043e \u0431\u044b\u0432\u0430\u044e\u0442 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438, \u043a\u043e\u0433\u0434\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430 \u0437\u0430\u0440\u0430\u043d\u0435\u0435 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d  \u0438 \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u0445\u043e\u0434\u044f \u0438\u0437 \u043a\u0430\u043a\u0438\u0445-\u0442\u043e \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445: \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u0435\u0433\u043e \u0432\u0432\u043e\u0434 \u0438 \u0442.\u0434.  \u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/hello</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e \u0435\u0433\u043e \u043f\u043e\u043b\u043d\u043e\u043c\u0443 \u0438\u043c\u0435\u043d\u0438 (<code>first_name + last_name</code>), \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u00abHello, \u0418\u0432\u0430\u043d \u0418\u0432\u0430\u043d\u043e\u0432\u00bb:</p> <pre><code>from aiogram.filters import Command\n\n@dp.message(Command(\"hello\"))\nasync def cmd_hello(message: Message):\n    await message.answer(\n        f\"Hello, &lt;b&gt;{message.from_user.full_name}&lt;/b&gt;\",\n        parse_mode=ParseMode.HTML\n    )\n</code></pre> <p>\u0418 \u0432\u0440\u043e\u0434\u0435 \u0432\u0441\u0451 \u0445\u043e\u0440\u043e\u0448\u043e, \u0431\u043e\u0442 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439:</p> <p></p> <p>\u041d\u043e \u0442\u0443\u0442 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u044e\u0437\u0435\u0440 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c &lt;C\u043b\u0430\u0432\u0438\u043a777&gt; \u0438 \u0431\u043e\u0442 \u043c\u043e\u043b\u0447\u0438\u0442! \u0410 \u0432 \u043b\u043e\u0433\u0430\u0445 \u0432\u0438\u0434\u043d\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435: <code>aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: can't parse entities:  Unsupported start tag \"\u0421\u043b\u0430\u0432\u0438\u043a777\" at byte offset 7</code></p> <p>\u0423\u043f\u0441, \u0443 \u043d\u0430\u0441 \u0441\u0442\u043e\u0438\u0442 \u0440\u0435\u0436\u0438\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f HTML, \u0438 Telegram \u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0441\u043f\u0430\u0440\u0441\u0438\u0442\u044c &lt;C\u043b\u0430\u0432\u0438\u043a777&gt; \u043a\u0430\u043a HTML-\u0442\u0435\u0433. \u041d\u0435\u043f\u043e\u0440\u044f\u0434\u043e\u043a.  \u041d\u043e \u0443 \u044d\u0442\u043e\u0439 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0435\u0441\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0435\u0448\u0435\u043d\u0438\u0439. \u041f\u0435\u0440\u0432\u043e\u0435: \u044d\u043a\u0440\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f.</p> <pre><code>from aiogram import html\nfrom aiogram.filters import Command\n\n@dp.message(Command(\"hello\"))\nasync def cmd_hello(message: Message):\n    await message.answer(\n        f\"Hello, {html.bold(html.quote(message.from_user.full_name))}\",\n        parse_mode=ParseMode.HTML\n    )\n</code></pre> <p>\u0412\u0442\u043e\u0440\u043e\u0435 \u0447\u0443\u0442\u044c \u0441\u043b\u043e\u0436\u043d\u0435\u0435, \u043d\u043e \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u0435: \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u043c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442  \u0441\u043e\u0431\u0438\u0440\u0430\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e \u0442\u0435\u043a\u0441\u0442 \u0438 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0442\u043e\u043c, \u043a\u0430\u043a\u0438\u0435 \u0435\u0433\u043e \u043a\u0443\u0441\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043e\u0442\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b.</p> <pre><code>from aiogram.filters import Command\nfrom aiogram.utils.formatting import Text, Bold\n\n@dp.message(Command(\"hello\"))\nasync def cmd_hello(message: Message):\n    content = Text(\n        \"Hello, \",\n        Bold(message.from_user.full_name)\n    )\n    await message.answer(\n        **content.as_kwargs()\n    )\n</code></pre> <p>\u0412 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0432\u044b\u0448\u0435 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f <code>**content.as_kwargs()</code> \u0432\u0435\u0440\u043d\u0451\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b <code>text</code>, <code>entities</code>, <code>parse_mode</code> \u0438  \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u0438\u0442 \u0438\u0445 \u0432 \u0432\u044b\u0437\u043e\u0432 <code>answer()</code>.</p> <p></p> <p>\u0423\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u044b\u0439,  \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u0442 \u0443\u0434\u043e\u0431\u043d\u043e\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435  \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code>from aiogram.filters import Command\nfrom aiogram.utils.formatting import (\n    Bold, as_list, as_marked_section, as_key_value, HashTag\n)\n\n@dp.message(Command(\"advanced_example\"))\nasync def cmd_advanced_example(message: Message):\n    content = as_list(\n        as_marked_section(\n            Bold(\"Success:\"),\n            \"Test 1\",\n            \"Test 3\",\n            \"Test 4\",\n            marker=\"\u2705 \",\n        ),\n        as_marked_section(\n            Bold(\"Failed:\"),\n            \"Test 2\",\n            marker=\"\u274c \",\n        ),\n        as_marked_section(\n            Bold(\"Summary:\"),\n            as_key_value(\"Total\", 4),\n            as_key_value(\"Success\", 3),\n            as_key_value(\"Failed\", 1),\n            marker=\"  \",\n        ),\n        HashTag(\"#test\"),\n        sep=\"\\n\\n\",\n    )\n    await message.answer(**content.as_kwargs())\n</code></pre> <p></p> <p>\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 \u0442\u0435\u0433\u0430\u0445 \u043c\u043e\u0436\u043d\u043e \u0443\u0437\u043d\u0430\u0442\u044c  \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 Bot API.</p>"},{"location":"messages/#keep-formatting","title":"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<p>\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u043c, \u0447\u0442\u043e \u0431\u043e\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0443\u0434\u0430 \u0447\u0442\u043e-\u0442\u043e  \u0441\u0432\u043e\u0451, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0442\u043c\u0435\u0442\u043a\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438. \u041d\u0430\u043f\u0438\u0448\u0435\u043c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043a\u043e\u0434:</p> <pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442!\nfrom datetime import datetime\n\n@dp.message(F.text)\nasync def echo_with_time(message: Message):\n    # \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0432 \u0447\u0430\u0441\u043e\u0432\u043e\u043c \u043f\u043e\u044f\u0441\u0435 \u041f\u041a\n    time_now = datetime.now().strftime('%H:%M')\n    # \u0421\u043e\u0437\u0434\u0430\u0451\u043c \u043f\u043e\u0434\u0447\u0451\u0440\u043a\u043d\u0443\u0442\u044b\u0439 \u0442\u0435\u043a\u0441\u0442\n    added_text = html.underline(f\"\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u0432 {time_now}\")\n    # \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u043c\n    await message.answer(f\"{message.text}\\n\\n{added_text}\", parse_mode=\"HTML\")\n</code></pre> <p></p> <p>\u041c\u0434\u0430, \u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u0447\u0435\u043c\u0443 \u0441\u0431\u0438\u043b\u043e\u0441\u044c \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f?  \u042d\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0438\u0437-\u0437\u0430 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e <code>message.text</code> \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u043e \u0442\u0435\u043a\u0441\u0442, \u0431\u0435\u0437 \u043a\u0430\u043a\u0438\u0445-\u043b\u0438\u0431\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0439.  \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0432 \u043d\u0443\u0436\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438, \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0441\u044f \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438:  <code>message.html_text</code> \u0438\u043b\u0438 <code>message.md_text</code>. \u0421\u0435\u0439\u0447\u0430\u0441 \u043d\u0430\u043c \u043d\u0443\u0436\u0435\u043d \u043f\u0435\u0440\u0432\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442. \u0417\u0430\u043c\u0435\u043d\u044f\u0435\u043c \u0432 \u043f\u0440\u0438\u043c\u0435\u0440\u0435  \u0432\u044b\u0448\u0435 <code>message.text</code> \u043d\u0430 <code>message.html_text</code> \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:</p> <p></p>"},{"location":"messages/#message-entities","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 entities","text":"<p>Telegram \u0441\u0438\u043b\u044c\u043d\u043e \u0443\u043f\u0440\u043e\u0449\u0430\u0435\u0442 \u0436\u0438\u0437\u043d\u044c \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044f \u043f\u0440\u0435\u0434\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043d\u0430 \u0441\u0432\u043e\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435.  \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0438, \u0442\u0438\u043f\u0430 e-mail, \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c\u0430 \u0438 \u0434\u0440. \u043c\u043e\u0436\u043d\u043e \u043d\u0435 \u0434\u043e\u0441\u0442\u0430\u0432\u0430\u0442\u044c  \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u043c\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\u0438, \u0430 \u0438\u0437\u0432\u043b\u0435\u0447\u044c  \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0438\u0437 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 Message \u0438 \u043f\u043e\u043b\u044f  <code>entities</code>, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0435\u0433\u043e \u043c\u0430\u0441\u0441\u0438\u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0442\u0438\u043f\u0430  MessageEntity. \u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u043d\u0430\u043f\u0438\u0448\u0435\u043c  \u0445\u044d\u043d\u0434\u043b\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0438\u0437\u0432\u043b\u0435\u043a\u0430\u0435\u0442 \u0441\u0441\u044b\u043b\u043a\u0443, e-mail \u0438 \u043c\u043e\u043d\u043e\u0448\u0438\u0440\u0438\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0438\u0437 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f (\u043f\u043e \u043e\u0434\u043d\u043e\u0439 \u0448\u0442\u0443\u043a\u0435). \u0417\u0434\u0435\u0441\u044c \u043a\u0440\u043e\u0435\u0442\u0441\u044f \u0432\u0430\u0436\u043d\u044b\u0439 \u043f\u043e\u0434\u0432\u043e\u0445. Telegram \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043d\u0435 \u0441\u0430\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u0430 \u0438\u0445 \u043d\u0430\u0447\u0430\u043b\u043e \u0432 \u0442\u0435\u043a\u0441\u0442\u0435 \u0438 \u0434\u043b\u0438\u043d\u0443.  \u0411\u043e\u043b\u0435\u0435 \u0442\u043e\u0433\u043e, \u0442\u0435\u043a\u0441\u0442 \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f \u0432 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u0445 UTF-8, \u0430 entities \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0441 UTF-16, \u0438\u0437-\u0437\u0430 \u044d\u0442\u043e\u0433\u043e, \u0435\u0441\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u0437\u044f\u0442\u044c  \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u0438 \u0434\u043b\u0438\u043d\u0443, \u0442\u043e \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 UTF-16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u044d\u043c\u043e\u0434\u0437\u0438) \u0432\u0430\u0448 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u044a\u0435\u0434\u0435\u0442. </p> <p>\u041b\u0443\u0447\u0448\u0435 \u0432\u0441\u0435\u0433\u043e \u044d\u0442\u043e \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u0442 \u043f\u0440\u0438\u043c\u0435\u0440 \u043d\u0438\u0436\u0435. \u041d\u0430 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u0431\u043e\u0442\u0430 \u0435\u0441\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u00ab\u0432 \u043b\u043e\u0431\u00bb,  \u0430 \u0432\u0442\u043e\u0440\u043e\u0439 \u2014 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0430\u0438\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u043c\u0435\u0442\u043e\u0434\u0430 <code>extract_from()</code> \u043d\u0430\u0434 entity. \u041d\u0430 \u0432\u0445\u043e\u0434 \u0435\u043c\u0443 \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442\u0441\u044f \u0432\u0435\u0441\u044c \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442:</p> <pre><code>@dp.message(F.text)\nasync def extract_data(message: Message):\n    data = {\n        \"url\": \"&lt;N/A&gt;\",\n        \"email\": \"&lt;N/A&gt;\",\n        \"code\": \"&lt;N/A&gt;\"\n    }\n    entities = message.entities or []\n    for item in entities:\n        if item.type in data.keys():\n            # \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\n            # data[item.type] = message.text[item.offset : item.offset+item.length]\n            # \u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\n            data[item.type] = item.extract_from(message.text)\n    await message.reply(\n        \"\u0412\u043e\u0442 \u0447\u0442\u043e \u044f \u043d\u0430\u0448\u0451\u043b:\\n\"\n        f\"URL: {html.quote(data['url'])}\\n\"\n        f\"E-mail: {html.quote(data['email'])}\\n\"\n        f\"\u041f\u0430\u0440\u043e\u043b\u044c: {html.quote(data['code'])}\"\n    )\n</code></pre> <p></p>"},{"location":"messages/#commands-args","title":"\u041a\u043e\u043c\u0430\u043d\u0434\u044b \u0438 \u0438\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b","text":"<p>Telegram \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u0432\u0432\u043e\u0434\u0430  \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438. \u041e\u0434\u043d\u0438\u043c \u0438\u0437 \u043d\u0438\u0445 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u044b: \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430, \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u0441\u043e \u0441\u043b\u044d\u0448\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>/new</code> \u0438\u043b\u0438 <code>/ban</code>.  \u0418\u043d\u043e\u0433\u0434\u0430 \u0431\u043e\u0442 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u043f\u0440\u043e\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u043e\u0436\u0438\u0434\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0441\u0430\u043c\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043a\u0430\u043a\u0438\u0435-\u0442\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b, \u0432\u0440\u043e\u0434\u0435 <code>/ban 2d</code> \u0438\u043b\u0438  <code>/settimer 20h This is delayed message</code>. \u0412 \u0441\u043e\u0441\u0442\u0430\u0432\u0435 aiogram \u0435\u0441\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 <code>Command()</code>, \u0443\u043f\u0440\u043e\u0449\u0430\u044e\u0449\u0438\u0439 \u0436\u0438\u0437\u043d\u044c \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430.  \u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u0432 \u043a\u043e\u0434\u0435:</p> <pre><code>@dp.message(Command(\"settimer\"))\nasync def cmd_settimer(\n        message: Message,\n        command: CommandObject\n):\n    # \u0415\u0441\u043b\u0438 \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u043d\u0438\u043a\u0430\u043a\u0438\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b, \u0442\u043e\n    # command.args \u0431\u0443\u0434\u0435\u0442 None\n    if command.args is None:\n        await message.answer(\n            \"\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b\"\n        )\n        return\n    # \u041f\u0440\u043e\u0431\u0443\u0435\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u043d\u0430 \u0434\u0432\u0435 \u0447\u0430\u0441\u0442\u0438 \u043f\u043e \u043f\u0435\u0440\u0432\u043e\u043c\u0443 \u0432\u0441\u0442\u0440\u0435\u0447\u043d\u043e\u043c\u0443 \u043f\u0440\u043e\u0431\u0435\u043b\u0443\n    try:\n        delay_time, text_to_send = command.args.split(\" \", maxsplit=1)\n    # \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0434\u0432\u0443\u0445 \u0447\u0430\u0441\u0442\u0435\u0439, \u0432\u044b\u043b\u0435\u0442\u0438\u0442 ValueError\n    except ValueError:\n        await message.answer(\n            \"\u041e\u0448\u0438\u0431\u043a\u0430: \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b. \u041f\u0440\u0438\u043c\u0435\u0440:\\n\"\n            \"/settimer &lt;time&gt; &lt;message&gt;\"\n        )\n        return\n    await message.answer(\n        \"\u0422\u0430\u0439\u043c\u0435\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!\\n\"\n        f\"\u0412\u0440\u0435\u043c\u044f: {delay_time}\\n\"\n        f\"\u0422\u0435\u043a\u0441\u0442: {text_to_send}\"\n    )\n</code></pre> <p>\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438 (\u0438\u043b\u0438 \u0432\u043e\u043e\u0431\u0449\u0435 \u0431\u0435\u0437 \u043d\u0438\u0445) \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0440\u0435\u0430\u043a\u0446\u0438\u044e:</p> <p></p> <p>\u0421 \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u043c\u0438 \u043c\u043e\u0436\u0435\u0442 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u0443\u0442\u044c \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0430\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445: Telegram \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u0434\u0441\u0432\u0435\u0447\u0438\u0432\u0430\u0435\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b, \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0435\u0441\u044f  \u0441\u043e \u0441\u043b\u044d\u0448\u0430, \u0438\u0437-\u0437\u0430 \u0447\u0435\u0433\u043e \u043f\u043e\u0440\u043e\u0439 \u0441\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u0432\u043e\u0442 \u0442\u0430\u043a\u043e\u0435 (\u0441\u043f\u0430\u0441\u0438\u0431\u043e \u043c\u043e\u0438\u043c \u0434\u043e\u0440\u043e\u0433\u0438\u043c \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0430\u043c \u0437\u0430 \u043f\u043e\u043c\u043e\u0449\u044c \u0432 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u0430):</p> <p></p> <p>\u0427\u0442\u043e\u0431\u044b \u044d\u0442\u043e\u0433\u043e \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c, \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0431\u043e\u0442\u0430 \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430\u043c\u0438. \u041e\u043d\u0438 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0434\u0441\u0432\u0435\u0447\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0438  \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u044e\u0442 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0443\u0447\u043d\u043e\u0439 \u0432\u0432\u043e\u0434, \u0442\u0430\u043a \u0447\u0442\u043e \u0441\u0430\u043c\u0438 \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u0443 \u0442\u0430\u043a\u043e\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0430.</p> <pre><code>@dp.message(Command(\"custom1\", prefix=\"%\"))\nasync def cmd_custom1(message: Message):\n    await message.answer(\"\u0412\u0438\u0436\u0443 \u043a\u043e\u043c\u0430\u043d\u0434\u0443!\")\n\n\n# \u041c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043e\u0432....vv...\n@dp.message(Command(\"custom2\", prefix=\"/!\"))\nasync def cmd_custom2(message: Message):\n    await message.answer(\"\u0418 \u044d\u0442\u0443 \u0442\u043e\u0436\u0435 \u0432\u0438\u0436\u0443!\")\n</code></pre> <p></p> <p>\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0445 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0431\u043e\u0442\u044b \u043d\u0435-\u0430\u0434\u043c\u0438\u043d\u044b \u0441\u043e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u043c Privacy Mode (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e) \u043c\u043e\u0433\u0443\u0442  \u043d\u0435 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0442\u0430\u043a\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0438\u0437-\u0437\u0430 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0435\u0439  \u043b\u043e\u0433\u0438\u043a\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0421\u0430\u043c\u044b\u0439 \u0447\u0430\u0441\u0442\u044b\u0439 use-case \u2014 \u0431\u043e\u0442\u044b-\u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u044b \u0433\u0440\u0443\u043f\u043f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0436\u0435 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430\u043c\u0438.</p>"},{"location":"messages/#deeplinks","title":"\u0414\u0438\u043f\u043b\u0438\u043d\u043a\u0438","text":"<p>\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043e\u0434\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0432 Telegram, \u0443 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0435\u0441\u0442\u044c \u0447\u0443\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439. \u042d\u0442\u043e <code>/start</code>. \u0414\u0435\u043b\u043e \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043c\u043e\u0436\u043d\u043e  \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u0432\u0438\u0434\u0430 <code>t.me/bot?start=xxx</code> \u0438 \u043f\u0440\u0435 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0435 \u043f\u043e \u0442\u0430\u043a\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043f\u043e\u043a\u0430\u0436\u0443\u0442 \u043a\u043d\u043e\u043f\u043a\u0443 \u00ab\u041d\u0430\u0447\u0430\u0442\u044c\u00bb, \u043f\u0440\u0438  \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0431\u043e\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 <code>/start xxx</code>. \u0422.\u0435. \u0432 \u0441\u0441\u044b\u043b\u043a\u0435 \u0437\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0435\u043a\u0438\u0439 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440, \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u044e\u0449\u0438\u0439  \u0440\u0443\u0447\u043d\u043e\u0433\u043e \u0432\u0432\u043e\u0434\u0430. \u042d\u0442\u043e \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u0438\u043f\u043b\u0438\u043d\u043a (\u043d\u0435 \u043f\u0443\u0442\u0430\u0442\u044c \u0441 \u0434\u0438\u043a\u043f\u0438\u043a\u043e\u043c) \u0438 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043a\u0443\u0447\u0438 \u0440\u0430\u0437\u043d\u044b\u0445 \u0432\u0435\u0449\u0435\u0439: \u0448\u043e\u0440\u0442\u043a\u0430\u0442\u044b \u0434\u043b\u044f  \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u043a\u043e\u043c\u0430\u043d\u0434, \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430, \u0431\u044b\u0441\u0442\u0440\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0431\u043e\u0442\u0430 \u0438 \u0442.\u0434. \u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0434\u0432\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0430:</p> <pre><code>import re\nfrom aiogram import F\nfrom aiogram.types import Message\nfrom aiogram.filters import Command, CommandObject, CommandStart\n\n@dp.message(Command(\"help\"))\n@dp.message(CommandStart(\n    deep_link=True, magic=F.args == \"help\"\n))\nasync def cmd_start_help(message: Message):\n    await message.answer(\"\u042d\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043e \u0441\u043f\u0440\u0430\u0432\u043a\u043e\u0439\")\n\n\n@dp.message(CommandStart(\n    deep_link=True,\n    magic=F.args.regexp(re.compile(r'book_(\\d+)'))\n))\nasync def cmd_start_book(\n        message: Message,\n        command: CommandObject\n):\n    book_number = command.args.split(\"_\")[1]\n    await message.answer(f\"Sending book \u2116{book_number}\")\n</code></pre> <p></p> <p>\u0423\u0447\u0442\u0438\u0442\u0435, \u0447\u0442\u043e \u0434\u0438\u043f\u043b\u0438\u043d\u043a\u0438 \u0447\u0435\u0440\u0435\u0437 <code>start</code> \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043b\u0438\u0447\u043a\u0443 \u0441 \u0431\u043e\u0442\u043e\u043c. \u0427\u0442\u043e\u0431\u044b \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u0438\u043f\u043b\u0438\u043d\u043a \u0442\u0443\u0434\u0430,  \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u0435 <code>start</code> \u043d\u0430 <code>startgroup</code>. \u0422\u0430\u043a\u0436\u0435 \u0443 aiogram \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0443\u0434\u043e\u0431\u043d\u0430\u044f  \u0444\u0443\u043d\u043a\u0446\u0438\u044f  \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u0438\u043f\u043b\u0438\u043d\u043a\u043e\u0432 \u043f\u0440\u044f\u043c\u043e \u0438\u0437 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430.</p> <p>\u0411\u043e\u043b\u044c\u0448\u0435 \u0434\u0438\u043f\u043b\u0438\u043d\u043a\u043e\u0432, \u043d\u043e \u043d\u0435 \u0434\u043b\u044f \u0431\u043e\u0442\u043e\u0432</p> <p>\u0412 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 Telegram \u0435\u0441\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u0441\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445 \u0434\u0438\u043f\u043b\u0438\u043d\u043a\u043e\u0432 \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439:  https://core.telegram.org/api/links</p>"},{"location":"messages/#link-previews","title":"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0441\u044b\u043b\u043e\u043a","text":"<p>\u041e\u0431\u044b\u0447\u043d\u043e \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441\u043e \u0441\u0441\u044b\u043b\u043a\u0430\u043c\u0438 Telegram \u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0439\u0442\u0438 \u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043f\u0435\u0440\u0432\u043e\u0439 \u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443 \u0441\u0441\u044b\u043b\u043a\u0438.  \u042d\u0442\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u043e \u0441\u0432\u043e\u0435\u043c\u0443 \u0436\u0435\u043b\u0430\u043d\u0438\u044e, \u043f\u0435\u0440\u0435\u0434\u0430\u0432 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 <code>link_preview_options</code> \u043c\u0435\u0442\u043e\u0434\u0430 <code>send_message()</code>  \u043e\u0431\u044a\u0435\u043a\u0442 <code>LinkPreviewOptions</code>:</p> <pre><code># \u041d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442\nfrom aiogram.types import LinkPreviewOptions\n\n@dp.message(Command(\"links\"))\nasync def cmd_links(message: Message):\n    links_text = (\n        \"https://nplus1.ru/news/2024/05/23/voyager-1-science-data\"\n        \"\\n\"\n        \"https://t.me/telegram\"\n    )\n    # \u0421\u0441\u044b\u043b\u043a\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430\n    options_1 = LinkPreviewOptions(is_disabled=True)\n    await message.answer(\n        f\"\u041d\u0435\u0442 \u043f\u0440\u0435\u0432\u044c\u044e \u0441\u0441\u044b\u043b\u043e\u043a\\n{links_text}\",\n        link_preview_options=options_1\n    )\n\n    # -------------------- #\n\n    # \u041c\u0430\u043b\u0435\u043d\u044c\u043a\u043e\u0435 \u043f\u0440\u0435\u0432\u044c\u044e\n    # \u0414\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f prefer_small_media \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0435\u0449\u0451 \u0438 url\n    options_2 = LinkPreviewOptions(\n        url=\"https://nplus1.ru/news/2024/05/23/voyager-1-science-data\",\n        prefer_small_media=True\n    )\n    await message.answer(\n        f\"\u041c\u0430\u043b\u0435\u043d\u044c\u043a\u043e\u0435 \u043f\u0440\u0435\u0432\u044c\u044e\\n{links_text}\",\n        link_preview_options=options_2\n    )\n\n    # -------------------- #\n\n    # \u0411\u043e\u043b\u044c\u0448\u043e\u0435 \u043f\u0440\u0435\u0432\u044c\u044e\n    # \u0414\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f prefer_large_media \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0435\u0449\u0451 \u0438 url\n    options_3 = LinkPreviewOptions(\n        url=\"https://nplus1.ru/news/2024/05/23/voyager-1-science-data\",\n        prefer_large_media=True\n    )\n    await message.answer(\n        f\"\u0411\u043e\u043b\u044c\u0448\u043e\u0435 \u043f\u0440\u0435\u0432\u044c\u044e\\n{links_text}\",\n        link_preview_options=options_3\n    )\n\n    # -------------------- #\n\n    # \u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0447\u0435\u0442\u0430\u0442\u044c: \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u043e\u0435 \u043f\u0440\u0435\u0432\u044c\u044e \u0438 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430\u0434 \u0442\u0435\u043a\u0441\u0442\u043e\u043c\n    options_4 = LinkPreviewOptions(\n        url=\"https://nplus1.ru/news/2024/05/23/voyager-1-science-data\",\n        prefer_small_media=True,\n        show_above_text=True\n    )\n    await message.answer(\n        f\"\u041c\u0430\u043b\u0435\u043d\u044c\u043a\u043e\u0435 \u043f\u0440\u0435\u0432\u044c\u044e \u043d\u0430\u0434 \u0442\u0435\u043a\u0441\u0442\u043e\u043c\\n{links_text}\",\n        link_preview_options=options_4\n    )\n\n    # -------------------- #\n\n    # \u041c\u043e\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c, \u043a\u0430\u043a\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0430,\n    options_5 = LinkPreviewOptions(\n        url=\"https://t.me/telegram\"\n    )\n    await message.answer(\n        f\"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043d\u0435 \u043f\u0435\u0440\u0432\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0438\\n{links_text}\",\n        link_preview_options=options_5\n    )\n</code></pre> <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:  </p> <p>\u0422\u0430\u043a\u0436\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 <code>DefaultBotProperties</code>, \u043e \u0447\u0451\u043c \u0440\u0430\u0441\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u043b\u043e\u0441\u044c  \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u0433\u043b\u0430\u0432\u044b.</p>"},{"location":"messages/#media","title":"\u041c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u044b","text":""},{"location":"messages/#uploading-media","title":"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432","text":"<p>\u041f\u043e\u043c\u0438\u043c\u043e \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 Telegram \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0431\u043c\u0435\u043d\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432: \u0444\u043e\u0442\u043e, \u0432\u0438\u0434\u0435\u043e, \u0433\u0438\u0444\u043a\u0438,  \u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u0438, \u0441\u0442\u0438\u043a\u0435\u0440\u044b \u0438 \u0442.\u0434. \u0423 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0430 \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u043e\u0432 \u0435\u0441\u0442\u044c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 <code>file_id</code> \u0438 <code>file_unique_id</code>. \u041f\u0435\u0440\u0432\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c  \u0434\u043b\u044f \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0438 \u0442\u043e\u0433\u043e \u0436\u0435 \u0444\u0430\u0439\u043b\u0430 \u043c\u043d\u043e\u0433\u043e \u0440\u0430\u0437, \u043f\u0440\u0438\u0447\u0451\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e\u0439, \u0442.\u043a. \u0441\u0430\u043c \u0444\u0430\u0439\u043b \u0443\u0436\u0435 \u043b\u0435\u0436\u0438\u0442  \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445 Telegram. \u042d\u0442\u043e \u0441\u0430\u043c\u044b\u0439 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431. \u041a \u043f\u0440\u0438\u043c\u0435\u0440\u0443, \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u0434 \u0437\u0430\u0441\u0442\u0430\u0432\u0438\u0442 \u0431\u043e\u0442\u0430 \u043c\u043e\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u043e \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0442\u043e\u0439 \u0436\u0435 \u0433\u0438\u0444\u043a\u043e\u0439, \u0447\u0442\u043e \u0431\u044b\u043b\u0430 \u043f\u0440\u0438\u0441\u043b\u0430\u043d\u0430: </p> <pre><code>@dp.message(F.animation)\nasync def echo_gif(message: Message):\n    await message.reply_animation(message.animation.file_id)\n</code></pre> <p>\u0412\u0441\u0435\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 file_id!</p> <p>\u0411\u043e\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0435 <code>file_id</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0441\u0430\u043c,  \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432 \u043b\u0438\u0447\u043a\u0435 \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u00ab\u0443\u0432\u0438\u0434\u0435\u0432\u00bb \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b \u0432 \u0433\u0440\u0443\u043f\u043f\u0435/\u043a\u0430\u043d\u0430\u043b\u0435. \u041f\u0440\u0438 \u044d\u0442\u043e\u043c,  \u0435\u0441\u043b\u0438 \u043f\u043e\u043f\u044b\u0442\u0430\u0442\u044c\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c <code>file_id</code> \u043e\u0442 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0431\u043e\u0442\u0430, \u0442\u043e \u044d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c, \u043d\u043e  \u0447\u0435\u0440\u0435\u0437 \u043a\u0430\u043a\u043e\u0435-\u0442\u043e \u0432\u0440\u0435\u043c\u044f \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u043e\u0448\u0438\u0431\u043a\u0443 wrong url/file_id specified. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u2014  \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u043e\u0438 <code>file_id</code>!</p> <p>\u0412 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 <code>file_id</code>, \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 <code>file_unique_id</code> \u043d\u0435\u043b\u044c\u0437\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438  \u0438\u043b\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u0430, \u043d\u043e \u0437\u0430\u0442\u043e \u043e\u043d \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0439 \u0443 \u0432\u0441\u0435\u0445 \u0431\u043e\u0442\u043e\u0432 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043c\u0435\u0434\u0438\u0430.  \u041d\u0443\u0436\u0435\u043d <code>file_unique_id</code> \u043e\u0431\u044b\u0447\u043d\u043e \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c \u0431\u043e\u0442\u0430\u043c \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0437\u043d\u0430\u0442\u044c, \u0447\u0442\u043e \u0438\u0445 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 <code>file_id</code> \u043e\u0442\u043d\u043e\u0441\u044f\u0442\u0441\u044f  \u043a \u043e\u0434\u043d\u043e\u043c\u0443 \u0438 \u0442\u043e\u043c\u0443 \u0436\u0435 \u0444\u0430\u0439\u043b\u0443.</p> <p>\u0415\u0441\u043b\u0438 \u0444\u0430\u0439\u043b \u0435\u0449\u0451 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 Telegram, \u0431\u043e\u0442 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0433\u043e \u0442\u0440\u0435\u043c\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438  \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438: \u043a\u0430\u043a \u0444\u0430\u0439\u043b \u0432 \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435, \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0438 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u043d\u0430\u0431\u043e\u0440 \u0431\u0430\u0439\u0442\u043e\u0432.  \u0414\u043b\u044f \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0438 \u0432 \u0446\u0435\u043b\u043e\u043c \u0434\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u0431\u0435\u0440\u0435\u0436\u043d\u043e\u0433\u043e \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c \u043c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440\u0430, \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443 (upload) \u0444\u0430\u0439\u043b\u043e\u0432 Telegram \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0435\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u044c \u043e\u0434\u0438\u043d \u0440\u0430\u0437, \u0430 \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c <code>file_id</code>,  \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0432\u043e\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043c\u0435\u0434\u0438\u0430. </p> <p>\u0412 aiogram 3.x \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 3 \u043a\u043b\u0430\u0441\u0441\u0430 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0444\u0430\u0439\u043b\u043e\u0432 \u0438 \u043c\u0435\u0434\u0438\u0430 - <code>FSInputFile</code>, <code>BufferedInputFile</code>,  <code>URLInputFile</code>, \u0441 \u043d\u0438\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f  \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</p> <p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432\u0441\u0435\u043c\u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438: </p><pre><code>from aiogram.types import FSInputFile, URLInputFile, BufferedInputFile\n\n@dp.message(Command('images'))\nasync def upload_photo(message: Message):\n    # \u0421\u044e\u0434\u0430 \u0431\u0443\u0434\u0435\u043c \u043f\u043e\u043c\u0435\u0449\u0430\u0442\u044c file_id \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0442\u043e\u043c \u0438\u043c\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f\n    file_ids = []\n\n    # \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c BufferedInputFile, \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0441\u044f \"\u043a\u043b\u0430\u0441\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u043c\"\n    # \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435\u043c \u0444\u0430\u0439\u043b\u0430 \u0447\u0435\u0440\u0435\u0437 `open()`. \u041d\u043e, \u0432\u043e\u043e\u0431\u0449\u0435 \u0433\u043e\u0432\u043e\u0440\u044f, \u044d\u0442\u043e\u0442 \u0441\u043f\u043e\u0441\u043e\u0431\n    # \u043b\u0443\u0447\u0448\u0435 \u0432\u0441\u0435\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0431\u0430\u0439\u0442\u043e\u0432 \u0438\u0437 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438\n    # \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043a\u0430\u043a\u0438\u0445-\u043b\u0438\u0431\u043e \u043c\u0430\u043d\u0438\u043f\u0443\u043b\u044f\u0446\u0438\u0439, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0447\u0435\u0440\u0435\u0437 Pillow\n    with open(\"buffer_emulation.jpg\", \"rb\") as image_from_buffer:\n        result = await message.answer_photo(\n            BufferedInputFile(\n                image_from_buffer.read(),\n                filename=\"image from buffer.jpg\"\n            ),\n            caption=\"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0437 \u0431\u0443\u0444\u0435\u0440\u0430\"\n        )\n        file_ids.append(result.photo[-1].file_id)\n\n    # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0444\u0430\u0439\u043b\u0430 \u0438\u0437 \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b\n    image_from_pc = FSInputFile(\"image_from_pc.jpg\")\n    result = await message.answer_photo(\n        image_from_pc,\n        caption=\"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 \u043d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435\"\n    )\n    file_ids.append(result.photo[-1].file_id)\n\n    # \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0444\u0430\u0439\u043b\u0430 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435\n    image_from_url = URLInputFile(\"https://picsum.photos/seed/groosha/400/300\")\n    result = await message.answer_photo(\n        image_from_url,\n        caption=\"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435\"\n    )\n    file_ids.append(result.photo[-1].file_id)\n    await message.answer(\"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b:\\n\"+\"\\n\".join(file_ids))\n</code></pre> <p>\u041f\u043e\u0434\u043f\u0438\u0441\u044c \u0443 \u0444\u043e\u0442\u043e, \u0432\u0438\u0434\u0435\u043e \u0438 GIF \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u043d\u0430\u0432\u0435\u0440\u0445: </p> <pre><code>@dp.message(Command(\"gif\"))\nasync def send_gif(message: Message):\n    await message.answer_animation(\n        animation=\"&lt;file_id \u0433\u0438\u0444\u043a\u0438&gt;\",\n        caption=\"\u042f \u0441\u0435\u0433\u043e\u0434\u043d\u044f:\",\n        show_caption_above_media=True\n    )\n</code></pre> <p></p>"},{"location":"messages/#downloading-media","title":"\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432","text":"<p>\u041f\u043e\u043c\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438, \u0431\u043e\u0442 \u043c\u043e\u0436\u0435\u0442 \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u043c\u0435\u0434\u0438\u0430 \u043a \u0441\u0435\u0431\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440/\u0441\u0435\u0440\u0432\u0435\u0440. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0443 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0442\u0438\u043f\u0430 <code>Bot</code>  \u0435\u0441\u0442\u044c \u043c\u0435\u0442\u043e\u0434 <code>download()</code>. \u0412 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u0445 \u043d\u0438\u0436\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0441\u0440\u0430\u0437\u0443 \u0432 \u0444\u0430\u0439\u043b\u043e\u0432\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u043d\u043e \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043c\u0435\u0448\u0430\u0435\u0442  \u0432\u043c\u0435\u0441\u0442\u043e \u044d\u0442\u043e\u0433\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432 \u043e\u0431\u044a\u0435\u043a\u0442 BytesIO \u0432 \u043f\u0430\u043c\u044f\u0442\u0438, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0432 \u043a\u0430\u043a\u043e\u0435-\u0442\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u0430\u043b\u044c\u0448\u0435  (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, pillow). </p> <pre><code>@dp.message(F.photo)\nasync def download_photo(message: Message, bot: Bot):\n    await bot.download(\n        message.photo[-1],\n        destination=f\"/tmp/{message.photo[-1].file_id}.jpg\"\n    )\n\n\n@dp.message(F.sticker)\nasync def download_sticker(message: Message, bot: Bot):\n    await bot.download(\n        message.sticker,\n        # \u0434\u043b\u044f Windows \u043f\u0443\u0442\u0438 \u043d\u0430\u0434\u043e \u043f\u043e\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u044c\n        destination=f\"/tmp/{message.sticker.file_id}.webp\"\n    )\n</code></pre> <p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\u0438 \u043c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u043d\u0435 <code>message.photo</code>, \u0430 <code>message.photo[-1]</code>, \u043f\u043e\u0447\u0435\u043c\u0443?  \u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0432 Telegram \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u0441\u0440\u0430\u0437\u0443 \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430\u0445; \u044d\u0442\u043e \u043e\u0434\u043d\u043e \u0438 \u0442\u043e \u0436\u0435  \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441 \u0440\u0430\u0437\u043d\u044b\u043c \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u0435\u0441\u043b\u0438 \u043c\u044b \u0431\u0435\u0440\u0451\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 (\u0438\u043d\u0434\u0435\u043a\u0441 -1),  \u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0441 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u043c \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c \u0444\u043e\u0442\u043e.</p> <p>\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435 \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0444\u0430\u0439\u043b\u043e\u0432</p> <p>\u0411\u043e\u0442\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0435 Telegram Bot API, \u043c\u043e\u0433\u0443\u0442 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u043c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 20 \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442.  \u0415\u0441\u043b\u0438 \u0432\u044b \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u0442\u0435 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0442\u044c/\u0437\u0430\u043b\u0438\u0432\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0438\u0435 \u0444\u0430\u0439\u043b\u044b, \u043b\u0443\u0447\u0448\u0435 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438, \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0441  Telegram Client API, \u0430 \u043d\u0435 \u0441 Telegram Bot API, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, Telethon  \u0438\u043b\u0438 Pyrogram. \u041d\u0435\u043c\u043d\u043e\u0433\u0438\u0435 \u0437\u043d\u0430\u044e\u0442, \u043d\u043e Client API \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u044b\u0447\u043d\u044b\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b, \u043d\u043e \u0435\u0449\u0451 \u0438  \u0431\u043e\u0442\u044b.</p> <p>\u0410 \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 Bot API \u0432\u0435\u0440\u0441\u0438\u0438 5.0, \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c  \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 Bot API \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441  \u0431\u043e\u043b\u044c\u0448\u0438\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438.</p>"},{"location":"messages/#albums","title":"\u0410\u043b\u044c\u0431\u043e\u043c\u044b","text":"<p>\u0422\u043e, \u0447\u0442\u043e \u043c\u044b \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u00ab\u0430\u043b\u044c\u0431\u043e\u043c\u0430\u043c\u0438\u00bb (\u043c\u0435\u0434\u0438\u0430\u0433\u0440\u0443\u043f\u043f\u0430\u043c\u0438) \u0432 Telegram, \u043d\u0430 \u0441\u0430\u043c\u043e\u043c \u0434\u0435\u043b\u0435 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0441 \u043c\u0435\u0434\u0438\u0430, \u0443 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0435\u0441\u0442\u044c \u043e\u0431\u0449\u0438\u0439  <code>media_group_id</code> \u0438 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u043e \u00ab\u0441\u043a\u043b\u0435\u0438\u0432\u0430\u044e\u0442\u0441\u044f\u00bb \u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u0445. \u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u0440\u0441\u0438\u0438 3.1, \u0432 aiogram \u0435\u0441\u0442\u044c  \u00ab\u0441\u0431\u043e\u0440\u0449\u0438\u043a\u00bb \u0430\u043b\u044c\u0431\u043e\u043c\u043e\u0432, \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043c\u044b \u0441\u0435\u0439\u0447\u0430\u0441 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c.  \u041d\u043e \u043f\u0440\u0435\u0436\u0434\u0435 \u0441\u0442\u043e\u0438\u0442 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0435\u0439 \u043c\u0435\u0434\u0438\u0430\u0433\u0440\u0443\u043f\u043f:</p> <ul> <li>\u041a \u043d\u0438\u043c \u043d\u0435\u043b\u044c\u0437\u044f \u043f\u0440\u0438\u0446\u0435\u043f\u0438\u0442\u044c \u0438\u043d\u043b\u0430\u0439\u043d-\u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443 \u0438\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u043f\u043b\u0430\u0439-\u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043d\u0438\u043c\u0438. \u041d\u0438\u043a\u0430\u043a. \u0412\u043e\u043e\u0431\u0449\u0435 \u043d\u0438\u043a\u0430\u043a.</li> <li>\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u0430 \u0432 \u0430\u043b\u044c\u0431\u043e\u043c\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u0432\u043e\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u044c (caption). \u0415\u0441\u043b\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u044c \u0435\u0441\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0443 \u043e\u0434\u043d\u043e\u0433\u043e \u043c\u0435\u0434\u0438\u0430,  \u0442\u043e \u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u043a\u0430\u043a \u043e\u0431\u0449\u0430\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u044c \u043a\u043e \u0432\u0441\u0435\u043c\u0443 \u0430\u043b\u044c\u0431\u043e\u043c\u0443.</li> <li>\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u043f\u0435\u0440\u0435\u043c\u0435\u0448\u043a\u0443 \u0441 \u0432\u0438\u0434\u0435\u043e \u0432 \u043e\u0434\u043d\u043e\u043c \u0430\u043b\u044c\u0431\u043e\u043c\u0435, \u0444\u0430\u0439\u043b\u044b (Document) \u0438 \u043c\u0443\u0437\u044b\u043a\u0443 (Audio) \u043d\u0435\u043b\u044c\u0437\u044f \u043d\u0438 \u0441 \u0447\u0435\u043c  \u0441\u043c\u0435\u0448\u0438\u0432\u0430\u0442\u044c, \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u043c\u0435\u0434\u0438\u0430 \u0442\u043e\u0433\u043e \u0436\u0435 \u0442\u0438\u043f\u0430.</li> <li>\u0412 \u0430\u043b\u044c\u0431\u043e\u043c\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 10 (\u0434\u0435\u0441\u044f\u0442\u0438) \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u043e\u0432.</li> </ul> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c, \u043a\u0430\u043a \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432 aiogram:</p> <pre><code>from aiogram.filters import Command\nfrom aiogram.types import FSInputFile, Message\nfrom aiogram.utils.media_group import MediaGroupBuilder\n\n@dp.message(Command(\"album\"))\nasync def cmd_album(message: Message):\n    album_builder = MediaGroupBuilder(\n        caption=\"\u041e\u0431\u0449\u0430\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u044c \u0434\u043b\u044f \u0431\u0443\u0434\u0443\u0449\u0435\u0433\u043e \u0430\u043b\u044c\u0431\u043e\u043c\u0430\"\n    )\n    album_builder.add(\n        type=\"photo\",\n        media=FSInputFile(\"image_from_pc.jpg\")\n        # caption=\"\u041f\u043e\u0434\u043f\u0438\u0441\u044c \u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u043c\u0435\u0434\u0438\u0430\"\n\n    )\n    # \u0415\u0441\u043b\u0438 \u043c\u044b \u0441\u0440\u0430\u0437\u0443 \u0437\u043d\u0430\u0435\u043c \u0442\u0438\u043f, \u0442\u043e \u0432\u043c\u0435\u0441\u0442\u043e \u043e\u0431\u0449\u0435\u0433\u043e add\n    # \u043c\u043e\u0436\u043d\u043e \u0441\u0440\u0430\u0437\u0443 \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c add_&lt;\u0442\u0438\u043f&gt;\n    album_builder.add_photo(\n        # \u0414\u043b\u044f \u0441\u0441\u044b\u043b\u043e\u043a \u0438\u043b\u0438 file_id \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0430\u0437\u0443 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\n        media=\"https://picsum.photos/seed/groosha/400/300\"\n    )\n    album_builder.add_photo(\n        media=\"&lt;\u0432\u0430\u0448 file_id&gt;\"\n    )\n    await message.answer_media_group(\n        # \u041d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u0432\u044b\u0437\u0432\u0430\u0442\u044c build()\n        media=album_builder.build()\n    )\n</code></pre> <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: </p> <p></p> <p>\u0410 \u0432\u043e\u0442 \u0441\u043e \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435\u043c \u0430\u043b\u044c\u0431\u043e\u043c\u043e\u0432 \u0432\u0441\u0451 \u0441\u0438\u043b\u044c\u043d\u043e \u0445\u0443\u0436\u0435... \u041a\u0430\u043a \u0443\u0436\u0435 \u0431\u044b\u043b\u043e \u0441\u043a\u0430\u0437\u0430\u043d\u043e \u0432\u044b\u0448\u0435, \u0430\u043b\u044c\u0431\u043e\u043c\u044b \u2014 \u044d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435  \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0430 \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u0431\u043e\u0442\u0443 \u043e\u043d\u0438 \u043f\u0440\u0438\u043b\u0435\u0442\u0430\u044e\u0442 \u0442\u043e\u0436\u0435 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0430\u043f\u0434\u0435\u0439\u0442\u0430\u0445. \u0412\u0440\u044f\u0434 \u043b\u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 100% \u043d\u0430\u0434\u0451\u0436\u043d\u044b\u0439  \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u0432\u0435\u0441\u044c \u0430\u043b\u044c\u0431\u043e\u043c \u043e\u0434\u043d\u0438\u043c \u043a\u0443\u0441\u043a\u043e\u043c, \u043d\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043f\u044b\u0442\u0430\u0442\u044c\u0441\u044f \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e \u0441 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u043f\u043e\u0442\u0435\u0440\u044f\u043c\u0438. \u041e\u0431\u044b\u0447\u043d\u043e \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442\u0441\u044f  \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438, \u043c\u043e\u044e \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0443\u044e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u043f\u0440\u0438\u0451\u043c\u0430 \u043c\u0435\u0434\u0438\u0430\u0433\u0440\u0443\u043f\u043f \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438  \u043f\u043e \u044d\u0442\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0435.</p>"},{"location":"messages/#service","title":"\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0435 (\u0441\u043b\u0443\u0436\u0435\u0431\u043d\u044b\u0435) \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f","text":"<p>\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 Telegram \u0434\u0435\u043b\u044f\u0442\u0441\u044f \u043d\u0430 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0435, \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u044b \u0438 \u0441\u043b\u0443\u0436\u0435\u0431\u043d\u044b\u0435 (\u043e\u043d\u0438 \u0436\u0435 \u2014 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0435).  \u041d\u0430\u0441\u0442\u0430\u043b\u043e \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u0442\u044c \u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445.</p> <p></p> <p>\u041d\u0435\u0441\u043c\u043e\u0442\u0440\u044f \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u043e\u043d\u0438 \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u043d\u0435\u043e\u0431\u044b\u0447\u043d\u043e \u0438 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u043d\u0438\u043c\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e, \u044d\u0442\u043e \u0432\u0441\u0451 \u0435\u0449\u0451  \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0443 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0435\u0441\u0442\u044c \u0441\u0432\u043e\u0438 \u0430\u0439\u0434\u0438\u0448\u043d\u0438\u043a\u0438 \u0438 \u0434\u0430\u0436\u0435 \u0432\u043b\u0430\u0434\u0435\u043b\u0435\u0446. \u0421\u0442\u043e\u0438\u0442 \u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c, \u0447\u0442\u043e \u0441\u043f\u0435\u043a\u0442\u0440 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f  \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0441 \u0433\u043e\u0434\u0430\u043c\u0438 \u043c\u0435\u043d\u044f\u043b\u0441\u044f \u0438 \u0441\u0435\u0439\u0447\u0430\u0441, \u0441\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e, \u0432\u0430\u0448 \u0431\u043e\u0442 \u0441 \u043d\u0438\u043c\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442,  \u043b\u0438\u0431\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0443\u0434\u0430\u043b\u044f\u0442\u044c.</p> <p>\u041d\u0435 \u0431\u0443\u0434\u0435\u043c \u0441\u0438\u043b\u044c\u043d\u043e \u0443\u0433\u043b\u0443\u0431\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u0434\u0435\u0442\u0430\u043b\u0438 \u0438 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043e\u0434\u0438\u043d \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440: \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430  \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432\u043e\u0448\u0435\u0434\u0448\u0435\u043c\u0443 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0443. \u0423 \u0442\u0430\u043a\u043e\u0433\u043e \u0441\u043b\u0443\u0436\u0435\u0431\u043d\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0435\u0442 content_type  \u0440\u0430\u0432\u043d\u044b\u0439 \"new_chat_members\", \u043d\u043e \u0432\u043e\u043e\u0431\u0449\u0435 \u044d\u0442\u043e \u043e\u0431\u044a\u0435\u043a\u0442 Message, \u0443 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043e\u0434\u043d\u043e\u0438\u043c\u0451\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435. </p> <pre><code>@dp.message(F.new_chat_members)\nasync def somebody_added(message: Message):\n    for user in message.new_chat_members:\n        # \u043f\u0440\u043e\u043f\u0435\u0440\u0442\u0438 full_name \u0431\u0435\u0440\u0451\u0442 \u0441\u0440\u0430\u0437\u0443 \u0438\u043c\u044f \u0418 \u0444\u0430\u043c\u0438\u043b\u0438\u044e \n        # (\u043d\u0430 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u0435 \u0432\u044b\u0448\u0435 \u0443 \u044e\u0437\u0435\u0440\u043e\u0432 \u043d\u0435\u0442 \u0444\u0430\u043c\u0438\u043b\u0438\u0438)\n        await message.reply(f\"\u041f\u0440\u0438\u0432\u0435\u0442, {user.full_name}\")\n</code></pre> <p></p> <p>\u0412\u0430\u0436\u043d\u043e \u043f\u043e\u043c\u043d\u0438\u0442\u044c, \u0447\u0442\u043e <code>message.new_chat_members</code> \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043f\u0438\u0441\u043a\u043e\u043c, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043e\u0434\u0438\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442  \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0440\u0430\u0437\u0443 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432. \u0422\u0430\u043a\u0436\u0435 \u043d\u0435 \u043d\u0430\u0434\u043e \u043f\u0443\u0442\u0430\u0442\u044c \u043f\u043e\u043b\u044f <code>message.from_user</code> \u0438  <code>message.new_chat_members</code>. \u041f\u0435\u0440\u0432\u043e\u0435 \u2014 \u044d\u0442\u043e \u0441\u0443\u0431\u044a\u0435\u043a\u0442, \u0442.\u0435. \u0442\u043e\u0442, \u043a\u0442\u043e \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u043b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435. \u0412\u0442\u043e\u0440\u043e\u0435 \u2014  \u044d\u0442\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f. \u0422.\u0435. \u0435\u0441\u043b\u0438 \u0432\u044b \u0432\u0438\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0432\u0438\u0434\u0430 \u00ab\u0410\u043d\u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0430 \u0411\u043e\u0440\u0438\u0441\u0430 \u0438 \u0412\u0438\u043a\u0442\u043e\u0440\u0430\u00bb, \u0442\u043e  <code>message.from_user</code> \u2014 \u044d\u0442\u043e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u0410\u043d\u043d\u0435, \u0430 \u0441\u043f\u0438\u0441\u043e\u043a <code>message.new_chat_members</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442  \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0411\u043e\u0440\u0438\u0441\u0435 \u0441 \u0412\u0438\u043a\u0442\u043e\u0440\u043e\u043c.</p> <p>\u041d\u0435 \u0441\u0442\u043e\u0438\u0442 \u0446\u0435\u043b\u0438\u043a\u043e\u043c \u043f\u043e\u043b\u0430\u0433\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f!</p> <p>\u0423 \u0441\u043b\u0443\u0436\u0435\u0431\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 (new_chat_members) \u0438 \u0432\u044b\u0445\u043e\u0434\u0435 (left_chat_member) \u0435\u0441\u0442\u044c \u043e\u0434\u043d\u0430 \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u0430\u044f \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c: \u043e\u043d\u0438 \u043d\u0435\u043d\u0430\u0434\u0451\u0436\u043d\u044b, \u0442.\u0435. \u043e\u043d\u0438 \u043c\u043e\u0433\u0443\u0442 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0432\u043e\u043e\u0431\u0449\u0435. \u041a \u043f\u0440\u0438\u043c\u0435\u0440\u0443, \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e new_chat_members \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u0451\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u0438 ~10k \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435,  \u0430 left_chat_member \u0443\u0436\u0435 \u043f\u0440\u0438 50 (\u043d\u043e \u043f\u0440\u0438 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0438 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u044b \u044f \u0441\u0442\u043e\u043b\u043a\u043d\u0443\u043b\u0441\u044f \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u0432 \u043e\u0434\u043d\u043e\u0439  \u0438\u0437 \u0433\u0440\u0443\u043f\u043f left_chat_member \u043d\u0435 \u043f\u043e\u044f\u0432\u0438\u043b\u0441\u044f \u0438 \u043f\u0440\u0438 9 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430\u0445. \u0410 \u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u043b\u0447\u0430\u0441\u0430 \u0442\u0430\u043c \u0436\u0435 \u043f\u043e\u044f\u0432\u0438\u043b\u0441\u044f  \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430).</p> <p>\u0421 \u0432\u044b\u0445\u043e\u0434\u043e\u043c Bot API 5.0 \u0443 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u043f\u043e\u044f\u0432\u0438\u043b\u0441\u044f \u0433\u043e\u0440\u0430\u0437\u0434\u043e \u0431\u043e\u043b\u0435\u0435 \u043d\u0430\u0434\u0451\u0436\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0445\u043e\u0434\u044b/\u0432\u044b\u0445\u043e\u0434\u044b  \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 \u043b\u044e\u0431\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u043a\u0430\u043d\u0430\u043b\u0430\u0445. \u041d\u043e \u043e\u0431 \u044d\u0442\u043e\u043c \u043f\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u043c  \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0440\u0430\u0437.</p>"},{"location":"messages/#bonus","title":"\u0411\u043e\u043d\u0443\u0441: \u043f\u0440\u044f\u0447\u0435\u043c \u0441\u0441\u044b\u043b\u043a\u0443 \u0432 \u0442\u0435\u043a\u0441\u0442\u0435","text":"<p>\u0411\u044b\u0432\u0430\u044e\u0442 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438, \u043a\u043e\u0433\u0434\u0430 \u0445\u043e\u0447\u0435\u0442\u0441\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u043e\u0439, \u043d\u043e \u043b\u0438\u043c\u0438\u0442 \u043d\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u043a \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u0430\u043c \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442  \u0432\u0441\u0435\u0433\u043e 1024 \u0441\u0438\u043c\u0432\u043e\u043b\u0430 \u043f\u0440\u043e\u0442\u0438\u0432 4096 \u0443 \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e, \u0430 \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0432\u043d\u0438\u0437\u0443 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043c\u0435\u0434\u0438\u0430 \u2014 \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043d\u0435\u043a\u0440\u0430\u0441\u0438\u0432\u043e. \u0414\u043b\u044f \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0439 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0435\u0449\u0451 \u043c\u043d\u043e\u0433\u043e \u043b\u0435\u0442 \u043d\u0430\u0437\u0430\u0434 \u043f\u0440\u0438\u0434\u0443\u043c\u0430\u043b\u0438 \u043f\u043e\u0434\u0445\u043e\u0434 \u0441\u043e \u00ab\u0441\u043a\u0440\u044b\u0442\u044b\u043c\u0438 \u0441\u0441\u044b\u043b\u043a\u0430\u043c\u0438\u00bb \u0432 HTML-\u0440\u0430\u0437\u043c\u0435\u0442\u043a\u0435. \u0421\u0443\u0442\u044c \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e  \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u0432 \u043f\u0440\u043e\u0431\u0435\u043b \u043d\u0443\u043b\u0435\u0432\u043e\u0439 \u0448\u0438\u0440\u0438\u043d\u044b \u0438 \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c  \u0432\u0441\u044e \u044d\u0442\u0443 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u0432 \u043d\u0430\u0447\u0430\u043b\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f. \u0414\u043b\u044f \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044f \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438 \u043d\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u043b\u0438\u0448\u043d\u0435\u0433\u043e, \u0430 \u0441\u0435\u0440\u0432\u0435\u0440 Telegram \u0432\u0441\u0451 \u0432\u0438\u0434\u0438\u0442 \u0438 \u0447\u0435\u0441\u0442\u043d\u043e  \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 aiogram \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u0430\u0436\u0435 \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0432\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 <code>hide_link()</code>: </p><pre><code># \u043d\u043e\u0432\u044b\u0439 \u0438\u043c\u043f\u043e\u0440\u0442!\nfrom aiogram.utils.markdown import hide_link\n\n@dp.message(Command(\"hidden_link\"))\nasync def cmd_hidden_link(message: Message):\n    await message.answer(\n        f\"{hide_link('https://telegra.ph/file/562a512448876923e28c3.png')}\"\n        f\"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f Telegram: *\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442*\\n\"\n        f\"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438: *\u043d\u0435 \u0447\u0438\u0442\u0430\u044e\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e*\\n\"\n        f\"\u0413\u0440\u0443\u0448\u0430:\"\n    )\n</code></pre> <p></p> <p>\u0410 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 LinkPreviewOptions (\u0441\u043c. \u0432\u044b\u0448\u0435) \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b \u0441\u0432\u0435\u0440\u0445\u0443 \u0441 \u0434\u043b\u0438\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u044c\u044e \u0432 4096 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u043d\u0438\u0436\u0435.</p> <p>\u041d\u0430 \u044d\u0442\u043e\u043c \u0432\u0441\u0451. \u0414\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0433\u043b\u0430\u0432! \u0421\u0442\u0430\u0432\u044c\u0442\u0435 \u043b\u0430\u0439\u043a\u0438, \u043f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0439\u0442\u0435\u0441\u044c, \u043f\u0440\u043e\u0436\u0438\u043c\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u043e\u043a\u043e\u043b\u044c\u0447\u0438\u043a</p>"},{"location":"payments/","title":"\u041f\u043b\u0430\u0442\u0435\u0436\u0438 \u0432 Telegram","text":""},{"location":"payments/#payments","title":"\u041f\u043b\u0430\u0442\u0435\u0436\u0438 \u0432 Telegram","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f aiogram: 3.7.0</p> <p>\u0418\u0437 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u044b \u0432\u044b \u0443\u0437\u043d\u0430\u0435\u0442\u0435, \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0432 \u0441\u0432\u043e\u0438\u0445 Telegram-\u0431\u043e\u0442\u0430\u0445 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u0432\u0430\u043b\u044e\u0442\u044b  Telegram Stars. </p>"},{"location":"payments/#pay-with-stars","title":"\u041f\u043b\u0430\u0442\u0435\u0436\u0438 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 Stars","text":"<p>\u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0438\u044e\u043d\u044f 2024 \u0433\u043e\u0434\u0430, \u0432\u0441\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0438 \u0437\u0430 \u0446\u0438\u0444\u0440\u043e\u0432\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0438 \u0443\u0441\u043b\u0443\u0433\u0438 \u0432 Telegram \u0434\u043e\u043b\u0436\u043d\u044b \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043d\u043e\u0432\u043e\u0439  \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u0432\u0430\u043b\u044e\u0442\u044b Telegram Stars. \u041c\u044b \u043d\u0435 \u0431\u0443\u0434\u0435\u043c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0438 \u00ab\u0417\u0432\u0451\u0437\u0434\u043e\u0447\u0435\u043a\u00bb, \u0442\u0435\u043c \u0431\u043e\u043b\u0435\u0435, \u0447\u0442\u043e \u0434\u0435\u0442\u0430\u043b\u0438 \u043c\u043e\u0433\u0443\u0442  \u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u0441\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c. \u041d\u043e\u0432\u043e\u0432\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0441\u043f\u043e\u0440\u043d\u043e\u0435, \u043d\u043e \u0441\u0443\u0434\u044f \u043f\u043e \u0432\u0441\u0435\u043c\u0443, \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c \u0431\u043e\u0442\u043e\u0432 \u043f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u0441 \u044d\u0442\u0438\u043c \u043a\u0430\u043a-\u0442\u043e \u0436\u0438\u0442\u044c  \u0434\u0430\u043b\u044c\u0448\u0435, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0441\u0442\u043e\u0438\u0442 \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u0442\u044c\u0441\u044f \u0432 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438.</p>"},{"location":"payments/#plan","title":"\u041f\u043b\u0430\u043d \u0440\u0430\u0431\u043e\u0442","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0433\u043b\u044f\u0434\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0431\u043e\u0442\u0430 \u0434\u043b\u044f \u043f\u0440\u0438\u0451\u043c\u0430 \u0434\u043e\u0431\u0440\u043e\u0432\u043e\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u0436\u0435\u0440\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u0439 (\u0434\u043e\u043d\u0430\u0442\u043e\u0432). \u0414\u043e\u043b\u0436\u043d\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u0435\u0441\u0435\u0442\u044b (<code>/\u2060donate_1</code>, <code>/\u2060donate_25</code>, <code>/\u2060donate_50</code>),  \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u0432\u043e\u0434 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0437\u0432\u0451\u0437\u0434\u043e\u0447\u0435\u043a (<code>/\u2060donate 777</code>, \u0437\u0434\u0435\u0441\u044c \u0447\u0438\u0441\u043b\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442\u0441\u044f \u043a\u0430\u043a \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b).  \u0422\u0430\u043a\u0436\u0435 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/\u2060refund</code>, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0433 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u044b\u0435 Stars \u043d\u0430 \u0441\u0432\u043e\u0439 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c-\u0430\u043a\u043a\u0430\u0443\u043d\u0442.  \u041f\u043e \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044e Telegram,  \u0432\u0441\u0435 \u0431\u043e\u0442\u044b, \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0435 \u043e\u043f\u043b\u0430\u0442\u0443 \u0437\u0430 \u0446\u0438\u0444\u0440\u043e\u0432\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0438 \u0443\u0441\u043b\u0443\u0433\u0438, \u043e\u0431\u044f\u0437\u0430\u043d\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/\u2060paysupport</code>, \u043d\u043e \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443  \u043d\u0430 \u044d\u0442\u043e\u0442 \u0441\u0447\u0451\u0442 \u043d\u0435\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0440\u0430\u0437\u044a\u044f\u0441\u043d\u0435\u043d\u0438\u0439, \u0442\u043e \u0432 \u043d\u0435\u0439 \u0431\u0443\u0434\u0435\u043c \u043b\u0438\u0448\u043d\u0438\u0439 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0435 <code>/\u2060refund</code>.</p>"},{"location":"payments/#technologies","title":"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438","text":"<p>\u041f\u0440\u0435\u0436\u0434\u0435 \u0432\u0441\u0435\u0433\u043e, aiogram, \u043f\u0440\u0438\u0447\u0451\u043c \u0432\u0435\u0440\u0441\u0438\u0438 \u043d\u0435 \u043d\u0438\u0436\u0435 3.7.0. \u041d\u0435\u0441\u043c\u043e\u0442\u0440\u044f \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043c\u0435\u0442\u043e\u0434\u0430  sendInvoice \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0443\u0436\u0435 \u0434\u0430\u0432\u043d\u043e, \u043c\u0435\u0442\u043e\u0434  refundStarPayment \u0431\u044b\u043b \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0442\u043e\u043b\u044c\u043a\u043e \u0432 Bot API 7.4, \u0447\u0442\u043e  \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432\u0435\u0440\u0441\u0438\u0438 3.7 \u0443 aiogram.</p> <p>\u0414\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u043e\u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 structlog.  \u0415\u0451 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0432\u0438\u0434\u043d\u043e \u0432 \u0441\u043d\u0438\u043f\u043f\u0435\u0442\u0430\u0445 \u0432 \u044d\u0442\u043e\u043c \u0442\u0435\u043a\u0441\u0442\u0435, \u043d\u043e \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0445 \u0442\u0435\u043a\u0441\u0442\u0430\u0445 \u043a \u0433\u043b\u0430\u0432\u0435  \u043e\u043d\u0430 \u0435\u0441\u0442\u044c.</p> <p>\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u043a\u0441\u0442\u044b, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u0431\u043e\u0442\u043e\u043c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 Project Fluent \u043e\u0442 Mozilla.  \u041f\u043e\u043c\u0438\u043c\u043e \u0441\u043d\u0438\u043f\u043f\u0435\u0442\u0430 \u0441 Python-\u043a\u043e\u0434\u043e\u043c \u0432\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u0432\u0438\u0434\u0435\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438. \u0414\u0430\u0431\u044b \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0431\u0435 \u0437\u0430\u0434\u0430\u0447\u0443,  \u0430 \u0432\u0430\u043c \u043f\u043e\u043c\u043e\u0447\u044c \u0441\u0444\u043e\u043a\u0443\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043d\u043e\u0432\u043e\u043c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0435, \u0443\u0441\u043b\u043e\u0432\u0438\u043c\u0441\u044f, \u0447\u0442\u043e \u044f\u0437\u044b\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0440\u043e\u043b\u0438 \u043d\u0435 \u0438\u0433\u0440\u0430\u0435\u0442; \u0431\u043e\u0442 \u0432\u0441\u0435\u0433\u0434\u0430 \u0431\u0443\u0434\u0435\u0442  \u043e\u0442\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0438 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 \u0438\u0437 \u043e\u0434\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430.</p> <p>\u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 Telegram-\u0431\u043e\u0442\u043e\u0432 \u043d\u0430 \u0440\u0430\u0437\u043d\u044b\u0435 \u044f\u0437\u044b\u043a\u0438 \u0431\u0435\u0437 \u0432\u044b\u0448\u0435\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0441\u0430\u043c\u043e\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439,  \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u0435\u043c \u0432\u0430\u0441 \u043d\u0430 \u043d\u0430\u0448 \u043f\u043b\u0430\u0442\u043d\u044b\u0439 \u043a\u0443\u0440\u0441  \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 Stepik.</p>"},{"location":"payments/#command-start","title":"\u041f\u0438\u0448\u0435\u043c \u043a\u043e\u0434. \u041a\u043e\u043c\u0430\u043d\u0434\u0430 /start","text":"<p>\u041f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0435 <code>/\u2060start</code> \u0431\u043e\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u044b\u0434\u0430\u0432\u0430\u0442\u044c \u0432\u043e\u0442 \u0442\u0430\u043a\u043e\u0439 \u043a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0442\u0435\u043a\u0441\u0442</p> <pre><code>cmd-start =\n    \u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u0440\u0435\u0448\u0438\u043b\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0431\u043e\u0442\u043e\u043c. \n    \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b:\n\n    \u2022 /donate_1: \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c 1 \u0437\u0432\u0435\u0437\u0434\u0443.\n    \u2022 /donate_25: \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c 25 \u0437\u0432\u0451\u0437\u0434.\n    \u2022 /donate_50: \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c 50 \u0437\u0432\u0451\u0437\u0434.\n    \u2022 /donate &lt;\u0447\u0438\u0441\u043b\u043e&gt;: \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c &lt;\u0447\u0438\u0441\u043b\u043e&gt; \u0437\u0432\u0451\u0437\u0434.\n    \u2022 /paysupport: \u043f\u043e\u043c\u043e\u0449\u044c \u0441 \u043f\u043e\u043a\u0443\u043f\u043a\u0430\u043c\u0438.\n    \u2022 /refund: \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 (\u0440\u0435\u0444\u0430\u043d\u0434).\n</code></pre> <p>\u041a\u043e\u0434:</p> <pre><code>@router.message(CommandStart())\nasync def cmd_start(\n    message: Message,\n    l10n: FluentLocalization,\n):\n    await message.answer(\n        l10n.format_value(\"cmd-start\"),\n        parse_mode=None,\n    )\n</code></pre> <p>\u0423 \u044d\u0442\u043e\u0433\u043e \u0431\u043e\u0442\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432\u043a\u043b\u044e\u0447\u0435\u043d \u0440\u0435\u0436\u0438\u043c \u0440\u0430\u0437\u043c\u0435\u0442\u043a\u0438 HTML, \u043d\u043e \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441 \u044d\u0442\u0438\u043c \u0440\u0435\u0436\u0438\u043c\u043e\u043c, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443  \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u0434\u0441\u0442\u0440\u043e\u043a\u0430 <code>&lt;\u2060\u0447\u0438\u0441\u043b\u043e\u2060&gt;</code>. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 <code>parse_mode</code> \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 <code>None</code>. \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>l10n</code> \u2013  \u044d\u0442\u043e \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438, \u043f\u043e\u0434\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u044e\u0449\u0430\u044f \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u043e\u0431\u044a\u0435\u043a\u0442 <code>FluentLocalization</code>. \u0412 \u043b\u044e\u0431\u043e\u0439 \u043d\u0435\u043f\u043e\u043d\u044f\u0442\u043d\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435  \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438 \u043a \u0433\u043b\u0430\u0432\u0435.</p>"},{"location":"payments/#commands-donate","title":"\u041a\u043e\u043c\u0430\u043d\u0434\u044b /donate","text":"<p>\u0414\u0430\u043b\u0435\u0435 \u043d\u0443\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/\u2060donate</code> \u0441 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u043c \u0432\u044b\u0431\u043e\u0440\u043e\u043c \u0441\u0443\u043c\u043c\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0433\u043e\u0442\u043e\u0432\u044b\u0445 \u043f\u0440\u0435\u0441\u0435\u0442\u043e\u0432.  \u041f\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044e \u043d\u0430 \u0438\u044e\u043d\u044c 2024 \u0433\u043e\u0434\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0437\u0432\u0451\u0437\u0434 \u0434\u043b\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u2013 2500, \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438 \u0438\u043d\u0432\u043e\u0439\u0441\u0430 \u043d\u0430 \u0431\u00f3\u043b\u044c\u0448\u0443\u044e \u0441\u0443\u043c\u043c\u0443  Telegram-\u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442 \u00ab\u043b\u043e\u043c\u0430\u0442\u044c\u0441\u044f\u00bb \u0438 \u043d\u0435 \u0434\u0430\u044e\u0442 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0441\u0442\u0438 \u043d\u043e\u0432\u044b\u0435 \u0437\u0432\u0451\u0437\u0434\u044b \u043f\u0440\u044f\u043c\u043e \u043f\u0435\u0440\u0435\u0434 \u043f\u043e\u043a\u0443\u043f\u043a\u043e\u0439. \u0422\u0430\u043a \u0447\u0442\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u043c\u0441\u044f  \u0441\u0443\u043c\u043c\u043e\u0439 \u0432 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0435 [1;2500] \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e.</p> <p>\u0420\u0430\u0437\u043d\u0438\u0446\u0430 \u043c\u0435\u0436\u0434\u0443 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439-\u043f\u0440\u0435\u0441\u0435\u0442\u043e\u043c \u0438 \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f; \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0432\u0441\u0451 \u0432 \u043e\u0434\u0438\u043d \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a. \u041d\u0430\u0447\u043d\u0451\u043c \u0435\u0433\u043e \u043f\u0438\u0441\u0430\u0442\u044c:  \u043f\u043e\u043b\u0443\u0447\u0438\u043c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0438 \u0440\u0430\u0441\u043f\u0430\u0440\u0441\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435. \u0414\u043b\u044f \u043f\u0440\u0435\u0441\u0435\u0442\u043e\u0432 \u043d\u0430\u0434\u043e \u0440\u0430\u0437\u0431\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0441\u0430\u043c\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043f\u043e \u043f\u043e\u0434\u0447\u0451\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u044e \u0438 \u0432\u044b\u0442\u0430\u0449\u0438\u0442\u044c  \u043f\u0440\u0430\u0432\u0443\u044e \u043f\u043e\u043b\u043e\u0432\u0438\u043d\u0443 \u043a\u0430\u043a \u0447\u0438\u0441\u043b\u043e, \u0430 \u0434\u043b\u044f \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0430\u043a\u043a\u0443\u0440\u0430\u0442\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u043c, \u0447\u0442\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u0451:</p> <pre><code>@router.message(Command(\"donate_1\"))\n@router.message(Command(\"donate_25\"))\n@router.message(Command(\"donate_50\"))\n@router.message(Command(\"donate\"))\nasync def cmd_donate(\n    message: Message,\n    command: CommandObject,\n    l10n: FluentLocalization,\n):\n    # \u0415\u0441\u043b\u0438 \u044d\u0442\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0430 /donate \u0427\u0418\u0421\u041b\u041e,\n    # \u0442\u043e\u0433\u0434\u0430 \u0432\u044b\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0435\u043c \u0447\u0438\u0441\u043b\u043e \u0438\u0437 \u0442\u0435\u043a\u0441\u0442\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u044b\n    if command.command != \"donate\":\n        amount = int(command.command.split(\"_\")[1])\n    # \u0412 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u044b\u0442\u0430\u0435\u043c\u0441\u044f \u043f\u0430\u0440\u0441\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0432\u0432\u043e\u0434\n    else:\n        # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u0447\u0438\u0441\u043b\u043e \u0438 \u043d\u0430 \u0435\u0433\u043e \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\n        if (\n            command.args is None\n            or not command.args.isdigit()\n            or not 1 &lt;= int(command.args) &lt;= 2500\n        ):\n            await message.answer(\n                l10n.format_value(\"custom-donate-input-error\")\n            )\n            # \u0417\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443\n            return\n        amount = int(command.args)\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c, \u043a\u043e\u0433\u0434\u0430 \u0447\u0438\u0441\u043b\u043e \u0437\u0432\u0451\u0437\u0434 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e \u0438 \u043f\u0440\u043e\u0432\u0430\u043b\u0438\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u043e, \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0438\u043d\u0432\u043e\u0439\u0441, \u0442.\u0435. \u0441\u0447\u0451\u0442 \u043d\u0430 \u043e\u043f\u043b\u0430\u0442\u0443.  \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441 Telegram Stars \u044d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:</p> <pre><code>    ### \u044d\u0442\u043e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430 \u0438\u0437 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u0441\u043d\u0438\u043f\u043f\u0435\u0442\u0430! ###\n\n    # \u0414\u043b\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u0432 Telegram Stars \u0441\u043f\u0438\u0441\u043e\u043a \u0446\u0435\u043d\n    # \u041e\u0411\u042f\u0417\u0410\u041d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0420\u041e\u0412\u041d\u041e \u0438\u0437 1 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\n    prices = [LabeledPrice(label=\"XTR\", amount=amount)]\n    await message.answer_invoice(\n        title=l10n.format_value(\"invoice-title\"),\n        description=l10n.format_value(\n            \"invoice-description\",\n            {\"starsCount\": amount}\n        ),\n        prices=prices,\n        # provider_token \u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c\n        provider_token=\"\",\n        # \u0412 \u043f\u0435\u0439\u043b\u043e\u0430\u0439\u0434 \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0447\u0442\u043e \u0443\u0433\u043e\u0434\u043d\u043e,\n        # \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0430\u0439\u0434\u0438 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u0438\u043c\u0435\u043d\u043d\u043e \u043f\u043e\u043a\u0443\u043f\u0430\u0435\u0442\u0441\u044f\n        payload=f\"{amount}_stars\",\n        # XTR - \u044d\u0442\u043e \u043a\u043e\u0434 \u0432\u0430\u043b\u044e\u0442\u044b Telegram Stars\n        currency=\"XTR\"\n    )\n</code></pre> <p></p> <p>\u041a\u043d\u043e\u043f\u043a\u0430 \"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c\" \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u0441\u0443\u043c\u043c\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c\u043e\u043c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438, \u0435\u0451 \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e.  \u041d\u043e \u043f\u0440\u0438 \u0436\u0435\u043b\u0430\u043d\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0443\u044e \u0438\u043d\u043b\u0430\u0439\u043d-\u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443 \u0438 \u043f\u0440\u0438\u0446\u0435\u043f\u0438\u0442\u044c \u0435\u0451 \u043a \u0438\u043d\u0432\u043e\u0439\u0441\u0443. \u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435: \u043f\u0435\u0440\u0432\u043e\u0439 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c  \u043a\u043d\u043e\u043f\u043a\u0430 \u0441 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u043c <code>pay=True</code>. \u0415\u0441\u043b\u0438 \u0432 \u0442\u0435\u043a\u0441\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043c\u043e\u0434\u0437\u0438 \u2b50 \u0438\u043b\u0438 \u043f\u043e\u0434\u0441\u0442\u0440\u043e\u043a\u0443 XTR, \u0442\u043e \u044d\u0442\u043e\u0442 \u0442\u0435\u043a\u0441\u0442 \u0431\u0443\u0434\u0435\u0442  \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u043c\u0435\u043d\u0451\u043d \u043d\u0430 \u0438\u043a\u043e\u043d\u043a\u0443 Telegram Star:</p> <pre><code>    builder = InlineKeyboardBuilder()\n    builder.button(\n        text=f\"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c {amount} XTR\",\n        pay=True\n    )\n    builder.button(\n        text=\"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0443\",\n        callback_data=\"cancel\"\n    )\n    builder.adjust(1)\n\n    prices = [LabeledPrice(label=\"XTR\", amount=amount)]\n    await message.answer_invoice(\n        title=l10n.format_value(\"invoice-title\"),\n        description=l10n.format_value(\n            \"invoice-description\",\n            {\"starsCount\": amount}\n        ),\n        prices=prices,\n        provider_token=\"\",\n        payload=f\"{amount}_stars\",\n        currency=\"XTR\",\n        # \u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0443\n        reply_markup=builder.as_markup()\n    )\n</code></pre> <p></p> <p>\u041a \u0441\u043b\u043e\u0432\u0443, \u0438\u043d\u0432\u043e\u0439\u0441 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0438 \u0432 \u0432\u0438\u0434\u0435 \u043a\u043b\u0438\u043a\u0430\u0431\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0438 \u0432 \u0442\u0435\u043a\u0441\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f:</p> <pre><code>@router.message(Command(\"donate_link\"))\nasync def cmd_link(\n    message: Message,\n    bot: Bot,\n    l10n: FluentLocalization,\n):\n    # \u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0438\u043d\u0432\u043e\u0439\u0441 \u0432 1 \u0437\u0432\u0435\u0437\u0434\u0443\n    # \u0412 \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u044d\u0442\u043e\u0442 API-\u0432\u044b\u0437\u043e\u0432, Telegram \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \n    # \u0441\u0440\u0430\u0437\u0443 \u0441\u0441\u044b\u043b\u043a\u0443.\n    invoice_link = await bot.create_invoice_link(\n        title=l10n.format_value(\"invoice-title\"),\n        description=l10n.format_value(\n            \"invoice-description\",\n            {\"starsCount\": 1}\n        ),\n        prices=[LabeledPrice(label=\"XTR\", amount=1)],\n        provider_token=\"\",\n        payload=\"demo\",\n        currency=\"XTR\"\n    )\n    await message.answer(\n        l10n.format_value(\n            \"invoice-link-text\",\n            {\"link\": invoice_link}\n        )\n    )\n</code></pre> <p>\u041d\u043e\u0432\u044b\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u0432 \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438:</p> <pre><code>invoice-title = \u0414\u043e\u0431\u0440\u043e\u0432\u043e\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0436\u0435\u0440\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u0435\ninvoice-description =\n    {$starsCount -&gt;\n        [one] {$starsCount} \u0437\u0432\u0435\u0437\u0434\u0430\n        [few] {$starsCount} \u0437\u0432\u0435\u0437\u0434\u044b\n       *[other] {$starsCount} \u0437\u0432\u0451\u0437\u0434\n}\n\ncustom-donate-input-error = \n    \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 &lt;code&gt;/donate \u0427\u0418\u0421\u041b\u041e&lt;/code&gt;, \n    \u0433\u0434\u0435 \u0427\u0418\u0421\u041b\u041e \u043e\u0442 1 \u0434\u043e 2500 \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e.\n\ninvoice-link-text =\n    \u0412\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c &lt;a href=\"{$link}\"&gt;\u044d\u0442\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u043e\u0439&lt;/a&gt; \u0434\u043b\u044f \u0434\u043e\u043d\u0430\u0442\u0430 \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435 1 \u0437\u0432\u0435\u0437\u0434\u044b.\n</code></pre>"},{"location":"payments/#pre-checkout","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u0435\u0440\u0435\u0434 \u043e\u043f\u043b\u0430\u0442\u043e\u0439","text":"<p>\u0415\u0441\u043b\u0438 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0417\u0432\u0451\u0437\u0434 \u043d\u0430 \u0441\u0447\u0435\u0442\u0443, \u0442\u043e Bot API \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u0435\u0442 \u0431\u043e\u0442\u0443 \u0430\u043f\u0434\u0435\u0439\u0442 \u0442\u0438\u043f\u0430  PreCheckoutQuery. \u0423 \u0431\u043e\u0442\u0430 \u0435\u0441\u0442\u044c \u0440\u043e\u0432\u043d\u043e 10 \u0441\u0435\u043a\u0443\u043d\u0434, \u0447\u0442\u043e\u0431\u044b \u0435\u0449\u0451 \u0440\u0430\u0437  \u0432\u0441\u0451 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0438 \u043b\u0438\u0431\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0443, \u043b\u0438\u0431\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0435\u0451. \u0417\u0430\u0447\u0435\u043c \u043e\u0442\u043c\u0435\u043d\u044f\u0442\u044c? \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u043e\u043f\u044b\u0442\u0430\u043b\u0441\u044f \u043a\u0443\u043f\u0438\u0442\u044c \u043e\u0434\u0438\u043d  \u0438 \u0442\u043e\u0442 \u0436\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0434\u0432\u0430\u0436\u0434\u044b. \u0418\u043b\u0438 \u043e\u043d \u0437\u0430\u0431\u0430\u043d\u0435\u043d \u0432 \u0431\u043e\u0442\u0435 \u0438 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u044c. \u0427\u0442\u043e \u0443\u0433\u043e\u0434\u043d\u043e.  \u0415\u0441\u043b\u0438 \u0441\u0442\u043e\u0438\u0442 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u043a\u0443\u043f\u043a\u0443, \u0442\u043e \u0431\u043e\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 PreCheckoutQuery \u0441 <code>ok=False</code> \u0438 \u043f\u043e\u043d\u044f\u0442\u043d\u044b\u043c \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u043e\u0448\u0438\u0431\u043a\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: </p> <pre><code># \u0422\u0435\u043a\u0441\u0442 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 FTL-\u0444\u0430\u0439\u043b\u0435:\npre-checkout-failed-reason = \u041d\u0435\u0442 \u0431\u043e\u043b\u044c\u0448\u0435 \u043c\u0435\u0441\u0442\u0430 \u0434\u043b\u044f \u0434\u0435\u043d\u0435\u0433 \ud83d\ude2d\n\n# \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043d\u0430 Python:\n@router.pre_checkout_query()\nasync def on_pre_checkout_query(\n    pre_checkout_query: PreCheckoutQuery,\n    l10n: FluentLocalization,\n):\n    await pre_checkout_query.answer(\n        ok=False,\n        error_message=l10n.format_value(\"pre-checkout-failed-reason\")\n    )\n</code></pre> <p>\u0412 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u043e\u0442 \u0443\u0432\u0438\u0434\u0438\u0442 \u0447\u0442\u043e-\u0442\u043e \u0442\u0430\u043a\u043e\u0435:</p> <p></p> <p>\u041d\u043e \u0447\u0430\u0449\u0435 \u0432\u0441\u0435\u0433\u043e \u0432\u0441\u0451 \u0431\u0443\u0434\u0435\u0442 \u0445\u043e\u0440\u043e\u0448\u043e \u0438 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u043e\u043f\u043b\u0430\u0442\u0443:</p> <pre><code>@router.pre_checkout_query()\nasync def on_pre_checkout_query(\n    pre_checkout_query: PreCheckoutQuery,\n):\n    await pre_checkout_query.answer(ok=True)\n</code></pre>"},{"location":"payments/#after-payment","title":"\u041f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0431\u043e\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0430\u043f\u0434\u0435\u0439\u0442 \u0442\u0438\u043f\u0430 Message \u0441 \u043d\u0435\u043f\u0443\u0441\u0442\u044b\u043c \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u043c <code>successful_payment</code>, \u0432 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u043c \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e  \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u044b\u0441\u043a\u0430\u0442\u044c \u0430\u0439\u0434\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438, \u043f\u044d\u0439\u043b\u043e\u0430\u0434 (\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0441\u0430\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0438\u043d\u0432\u043e\u0439\u0441\u0430) \u0438  \u043f\u0440\u043e\u0447\u0438\u0435 \u0448\u0442\u0443\u043a\u0438. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043f\u043e\u043a\u0443\u043f\u043a\u043e\u0439, \u0434\u043e\u0431\u0430\u0432\u0438\u0432 \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c \u044d\u0444\u0444\u0435\u043a\u0442 \u043e\u0433\u043e\u043d\u044c\u043a\u0430, \u043f\u0440\u0438\u0441\u043b\u0430\u0442\u044c ID  \u0434\u043b\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0440\u0435\u0444\u0430\u043d\u0434\u0430 (\u0435\u0441\u043b\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043c\u043e), \u043b\u0438\u0431\u043e \u0441\u0440\u0430\u0437\u0443 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0417\u0432\u0435\u0437\u0434\u0443 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441 \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u043c\u0438 \u0431\u043e\u0442\u0430\u043c\u0438. </p> <pre><code>@router.message(F.successful_payment)\nasync def on_successful_payment(\n    message: Message,\n    l10n: FluentLocalization,\n):\n    await message.answer(\n        l10n.format_value(\n            \"payment-successful\",\n            {\"id\": message.successful_payment.telegram_payment_charge_id}\n        ),\n        # \u042d\u0442\u043e \u044d\u0444\u0444\u0435\u043a\u0442 \"\u043e\u0433\u043e\u043d\u044c\" \u0438\u0437 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0445 \u0440\u0435\u0430\u043a\u0446\u0438\u0439\n        message_effect_id=\"5104841245755180586\",\n    )\n</code></pre> <p>\u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u043b\u043e\u043a\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e:</p> <pre><code>payment-successful =\n    &lt;b&gt;\u041e\u0433\u0440\u043e\u043c\u043d\u043e\u0435 \u0441\u043f\u0430\u0441\u0438\u0431\u043e!&lt;/b&gt;\n\n    \u0412\u0430\u0448 \u0430\u0439\u0434\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438:\n    &lt;code&gt;{$id}&lt;/code&gt;\n\n    \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0435\u0433\u043e, \u0435\u0441\u043b\u0438 \u0432\u0434\u0440\u0443\u0433 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0435\u0444\u0430\u043d\u0434 \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c \ud83d\ude22\n</code></pre> <p></p>"},{"location":"payments/#refunds","title":"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b \u043f\u043e\u043a\u0443\u043f\u043e\u043a","text":"<p>\u0421\u0442\u0440\u043e\u0433\u043e \u0433\u043e\u0432\u043e\u0440\u044f, \u043f\u0435\u0440\u0435\u0434 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u043e\u0442\u043e\u043c \u044e\u0437\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 (Terms of Service).  \u0412 \u0447\u0430\u0441\u0442\u043d\u043e\u0441\u0442\u0438, \u0442\u0430\u043c \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0451\u0442\u043a\u043e \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u043d\u043e, \u0437\u0430 \u0447\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430, \u0430 \u0437\u0430 \u0447\u0442\u043e \u043d\u0435\u043b\u044c\u0437\u044f. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435  \u0441\u0440\u0430\u0437\u0443 \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u044c, \u0447\u0442\u043e \u0437\u0430 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0439 \u0442\u043e\u0432\u0430\u0440 \u0440\u0435\u0444\u0430\u043d\u0434\u043e\u0432 (\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432) \u043d\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e, \u0438\u043b\u0438 \u0447\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f  \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0439 \u0443\u0441\u043b\u0443\u0433\u0438 \u0438\u043b\u0438 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0445 \u0434\u043d\u0435\u0439. \u041e\u0431 \u044d\u0442\u043e\u043c \u0440\u0435\u0448\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u043c, \u0432 \u043d\u0430\u0448\u0435\u043c  \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0431\u043e\u0442\u0435 \u043c\u044b \u0434\u0430\u0434\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0437\u0430 \u043b\u044e\u0431\u0443\u044e \u043f\u043e\u043a\u0443\u043f\u043a\u0443. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u043a\u043e\u043c\u0430\u043d\u0434\u0443  <code>/\u2060refund</code>, \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u043c \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0430\u0439\u0434\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438. \u041c\u0435\u0442\u043e\u0434  refundStarPayment \u043c\u043e\u0436\u0435\u0442 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438, \u0432 \u0447\u0430\u0441\u0442\u043d\u043e\u0441\u0442\u0438, \u043e \u0442\u043e\u043c,  \u0447\u0442\u043e ID \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0438\u043b\u0438 \u0447\u0442\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0437\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0443 \u0432 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0431\u044b\u043b\u0438 \u0443\u0436\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u044b.  \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u044d\u0442\u0438 \u0441\u043b\u0443\u0447\u0430\u0438 \u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c \u0440\u0435\u0444\u0430\u043d\u0434\u044b:</p> <pre><code>@router.message(Command(\"refund\"))\nasync def cmd_refund(\n    message: Message,\n    bot: Bot,\n    command: CommandObject,\n    l10n: FluentLocalization,\n):\n    transaction_id = command.args\n    if transaction_id is None:\n        await message.answer(\n            l10n.format_value(\"refund-no-code-provided\")\n        )\n        return\n    try:\n        await bot.refund_star_payment(\n            user_id=message.from_user.id,\n            telegram_payment_charge_id=transaction_id\n        )\n        await message.answer(\n            l10n.format_value(\"refund-successful\")\n        )\n    except TelegramBadRequest as error:\n        if \"CHARGE_NOT_FOUND\" in error.message:\n            text = l10n.format_value(\"refund-code-not-found\")\n        elif \"CHARGE_ALREADY_REFUNDED\" in error.message:\n            text = l10n.format_value(\"refund-already-refunded\")\n        else:\n            # \u041f\u0440\u0438 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u2013 \u0442\u0430\u043a\u043e\u0439 \u0436\u0435 \u0442\u0435\u043a\u0441\u0442,\n            # \u043a\u0430\u043a \u0438 \u0432 \u043f\u0435\u0440\u0432\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435\n            text = l10n.format_value(\"refund-code-not-found\")\n        await message.answer(text)\n        return\n</code></pre> <p>\u0420\u044f\u0434\u043e\u043c \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043a\u043e\u043c\u0430\u043d\u0434\u044b <code>/\u2060paysupport</code>, \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u043d\u0430 <code>/\u2060refund</code>:</p> <pre><code>@router.message(Command(\"paysupport\"))\nasync def cmd_paysupport(\n    message: Message,\n    l10n: FluentLocalization\n):\n    await message.answer(l10n.format_value(\"cmd-paysupport\"))\n</code></pre> <p>\u0422\u0435\u043a\u0441\u0442\u043e\u0432 \u043f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u044d\u0442\u043e\u0442 \u0440\u0430\u0437 \u043f\u043e\u0431\u043e\u043b\u044c\u0448\u0435: </p> <pre><code>refund-successful =\n    \u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0451\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e. \u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u0437\u0432\u0451\u0437\u0434\u044b \u0443\u0436\u0435 \u0432\u0435\u0440\u043d\u0443\u043b\u0438\u0441\u044c \u043d\u0430 \u0432\u0430\u0448 \u0441\u0447\u0451\u0442 \u0432 Telegram.\n\nrefund-no-code-provided =\n    \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 &lt;code&gt;/refund \u041a\u041e\u0414&lt;/code&gt;, \u0433\u0434\u0435 \u041a\u041e\u0414 \u2013 \u0430\u0439\u0434\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438.\n    \u0415\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0430, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \"\u0417\u0432\u0451\u0437\u0434\u044b\" \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 Telegram.\n\nrefund-code-not-found =\n    \u0422\u0430\u043a\u043e\u0439 \u043a\u043e\u0434 \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u043c\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.\n\nrefund-already-refunded =\n    \u0417\u0430 \u044d\u0442\u0443 \u043f\u043e\u043a\u0443\u043f\u043a\u0443 \u0443\u0436\u0435 \u0440\u0430\u043d\u0435\u0435 \u0431\u044b\u043b \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0451\u043d \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u0441\u0440\u0435\u0434\u0441\u0442\u0432.\n\ncmd-paysupport =\n    \u0415\u0441\u043b\u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430 \u0437\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0443, \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 /refund\n</code></pre> <p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442:</p> <p></p> <p>\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u0442\u0430 \u0432 \u0434\u0435\u043b\u0435</p> <p>\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u043e\u043f\u043b\u0430\u0442\u0443 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 Telegram Stars \u0432 \u0431\u043e\u0442\u0435 @GrooshaDonateBot.  \u0412\u0430\u043c \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f \u0417\u0432\u0451\u0437\u0434\u044b \u0434\u043b\u044f \u043b\u044e\u0431\u043e\u0439 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438, \u043d\u043e \u0435\u0441\u043b\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435\u0441\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 <code>/\u2060demo</code>, \u0442\u043e  \u043f\u043b\u0430\u0442\u0451\u0436 \u0432 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u0440\u0430\u0437\u043c\u0435\u0440\u0435 1 \u0437\u0432\u0435\u0437\u0434\u044b \u0441\u0440\u0430\u0437\u0443 \u0436\u0435 \u0432\u0435\u0440\u043d\u0451\u0442\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0430 \u0432\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u043a\u0443\u043f\u043a\u0438.</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c \u043e\u043f\u043b\u0430\u0442\u0443 \u0437\u0430 \u0446\u0438\u0444\u0440\u043e\u0432\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b \u0438 \u0443\u0441\u043b\u0443\u0433\u0438 \u0432 \u0441\u0432\u043e\u0438\u0445 \u0431\u043e\u0442\u0430\u0445 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 Telegram Stars, \u0443\u0440\u0430!</p>"},{"location":"quickstart/","title":"\u0417\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u043e \u0441 aiogram","text":""},{"location":"quickstart/#\u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u043e-\u0441-aiogram","title":"\u0417\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u043e \u0441 aiogram","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f aiogram: 3.7.0 \u041f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043d\u0430 \u0432\u0435\u0440\u0441\u0438\u0438 aiogram: 3.21.0 | 07.07.2025</p> <p>\u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u0435\u0442\u0430\u043b\u0438 \u0441\u043e\u0437\u043d\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u044b!</p> <p>\u0410\u0432\u0442\u043e\u0440 \u044d\u0442\u043e\u0439 \u043a\u043d\u0438\u0433\u0438 \u0443\u0431\u0435\u0436\u0434\u0451\u043d, \u0447\u0442\u043e \u043f\u043e\u043c\u0438\u043c\u043e \u0442\u0435\u043e\u0440\u0438\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0438 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430. \u0427\u0442\u043e\u0431\u044b \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u0438\u0435  \u043f\u0440\u0438\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u0433\u043e \u0434\u0430\u043b\u0435\u0435 \u043a\u043e\u0434\u0430, \u043f\u0440\u0438\u0448\u043b\u043e\u0441\u044c \u043f\u043e\u0439\u0442\u0438 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432, \u043f\u0440\u0438\u0433\u043e\u0434\u043d\u044b\u0445 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438  \u0438 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f.</p> <p>\u0422\u0430\u043a, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432\u043e \u0432\u0441\u0435\u0445 \u0438\u043b\u0438 \u043f\u043e\u0447\u0442\u0438 \u0432\u043e \u0432\u0441\u0435\u0445 \u0433\u043b\u0430\u0432\u0430\u0445 \u0442\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u044f\u043c\u043e \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0445 \u0442\u0435\u043a\u0441\u0442\u0430\u0445.  \u042d\u0442\u043e \u043f\u043b\u043e\u0445\u043e\u0439 \u043f\u043e\u0434\u0445\u043e\u0434, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u043a \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u044e \u0442\u043e\u043a\u0435\u043d\u0430, \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u0431\u0443\u0434\u0435\u0442\u0435 \u0435\u0433\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u043b\u0438\u0432\u043a\u043e\u0439  \u043a\u043e\u0434\u0430 \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, GitHub).</p> <p>\u0418\u043b\u0438 \u0438\u043d\u043e\u0433\u0434\u0430 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b, \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432  \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438 (\u0441\u043b\u043e\u0432\u0430\u0440\u0438, \u0441\u043f\u0438\u0441\u043a\u0438...). \u0412 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0442\u0430\u043a\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u043d\u0435\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430  \u0431\u043e\u0442\u0430 \u043f\u0440\u0438\u0432\u0435\u0434\u0451\u0442 \u0431\u0435\u0437\u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043d\u043e\u0439 \u043f\u043e\u0442\u0435\u0440\u0435 \u0434\u0430\u043d\u043d\u044b\u0445.</p> <p>\u0422\u0430\u043a\u0436\u0435 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c\u043e\u043c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432 \u043e\u0442 Telegram \u0432\u044b\u0431\u0440\u0430\u043d \u043f\u043e\u043b\u043b\u0438\u043d\u0433, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043e\u043d \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442  \u0432 \u043f\u043e\u0434\u0430\u0432\u043b\u044f\u044e\u0449\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0439 \u0438 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u0441\u0435\u043c \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430\u043c. </p> <p>\u0412\u0430\u0436\u043d\u043e \u043f\u043e\u043c\u043d\u0438\u0442\u044c, \u0447\u0442\u043e \u0430\u0432\u0442\u043e\u0440 \u0441\u0442\u0430\u0432\u0438\u0442 \u043f\u0435\u0440\u0435\u0434 \u0441\u043e\u0431\u043e\u0439 \u0446\u0435\u043b\u044c \u043e\u0431\u044a\u044f\u0441\u043d\u0438\u0442\u044c \u0438\u043c\u0435\u043d\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 Telegram Bot API \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438  aiogram, \u0430 \u043d\u0435 \u0432\u043e\u043e\u0431\u0449\u0435 \u0432\u0435\u0441\u044c Computer Science \u0432\u043e \u0432\u0441\u0451\u043c \u0435\u0433\u043e \u043c\u043d\u043e\u0433\u043e\u043e\u0431\u0440\u0430\u0437\u0438\u0438.</p>"},{"location":"quickstart/#glossary","title":"\u0422\u0435\u0440\u043c\u0438\u043d\u043e\u043b\u043e\u0433\u0438\u044f","text":"<p>\u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u0433\u043e\u0432\u0430\u0440\u0438\u0432\u0430\u0442\u044c \u0432 \u043e\u0434\u043d\u0438\u0445 \u0438 \u0442\u0435\u0445 \u0436\u0435 \u043f\u043e\u043d\u044f\u0442\u0438\u044f\u0445, \u0432\u0432\u0435\u0434\u0451\u043c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0435\u0440\u043c\u0438\u043d\u044b, \u0434\u0430\u0431\u044b \u0432 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c \u043d\u0435 \u043f\u0443\u0442\u0430\u0442\u044c\u0441\u044f:</p> <ul> <li>\u041b\u0421 \u2014 \u043b\u0438\u0447\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u0432 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0435 \u0431\u043e\u0442\u0430 \u044d\u0442\u043e \u0434\u0438\u0430\u043b\u043e\u0433 \u043e\u0434\u0438\u043d-\u043d\u0430-\u043e\u0434\u0438\u043d \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c, \u0430 \u043d\u0435 \u0433\u0440\u0443\u043f\u043f\u0430/\u043a\u0430\u043d\u0430\u043b.</li> <li>\u0427\u0430\u0442 \u2014 \u043e\u0431\u0449\u0435\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u041b\u0421, \u0433\u0440\u0443\u043f\u043f, \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f \u0438 \u043a\u0430\u043d\u0430\u043b\u043e\u0432.</li> <li>\u0410\u043f\u0434\u0435\u0439\u0442 \u2014 \u043b\u044e\u0431\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0438\u0437 \u044d\u0442\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430:  \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u043a\u043e\u043b\u0431\u044d\u043a, \u0438\u043d\u043b\u0430\u0439\u043d-\u0437\u0430\u043f\u0440\u043e\u0441, \u043f\u043b\u0430\u0442\u0451\u0436, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 \u0438 \u0442.\u0434. </li> <li>\u0425\u044d\u043d\u0434\u043b\u0435\u0440 \u2014 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u043e\u0442 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0430/\u0440\u043e\u0443\u0442\u0435\u0440\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0439 \u0430\u043f\u0434\u0435\u0439\u0442  \u0438 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0435\u0433\u043e.</li> <li>\u0414\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u2014 \u043e\u0431\u044a\u0435\u043a\u0442, \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0439\u0441\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435\u043c \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432 \u043e\u0442 Telegram \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0432\u044b\u0431\u043e\u0440\u043e\u043c \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430  \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u043e\u0433\u043e \u0430\u043f\u0434\u0435\u0439\u0442\u0430.</li> <li>\u0420\u043e\u0443\u0442\u0435\u0440 \u2014 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0443, \u043d\u043e \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0437\u0430 \u043f\u043e\u0434\u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432.  \u041c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c, \u0447\u0442\u043e \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u2014 \u044d\u0442\u043e \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u0440\u043e\u0443\u0442\u0435\u0440.</li> <li>\u0424\u0438\u043b\u044c\u0442\u0440 \u2014 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043e\u0431\u044b\u0447\u043d\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 True \u0438\u043b\u0438 False \u0438 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0442\u043e, \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0437\u0432\u0430\u043d \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u0438\u043b\u0438 \u043d\u0435\u0442.</li> <li>\u041c\u0438\u0434\u043b\u0432\u0430\u0440\u044c \u2014 \u043f\u0440\u043e\u0441\u043b\u043e\u0439\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043a\u043b\u0438\u043d\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432. </li> </ul>"},{"location":"quickstart/#installation","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<p>\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0434\u043b\u044f \u0431\u043e\u0442\u0430, \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0443\u0435\u043c \u0442\u0430\u043c virtual environment (\u0434\u0430\u043b\u0435\u0435 venv) \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 aiogram. \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u043c, \u0447\u0442\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d Python \u0432\u0435\u0440\u0441\u0438\u0438 3.11 \u0438\u043b\u0438 \u0432\u044b\u0448\u0435 (\u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u043d\u0430\u0435\u0442\u0435, \u0447\u0442\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d 3.11 \u0438 \u0432\u044b\u0448\u0435, \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0440\u0430\u0437\u0434\u0435\u043b):</p> <p>\u0412\u0430\u0436\u043d\u043e \u043e \u0432\u0435\u0440\u0441\u0438\u044f\u0445 Python</p> <p>\u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 aiogram 3.14+, \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f Python \u2014 3.9. Python 3.9 \u0434\u043e\u0441\u0442\u0438\u0433\u0430\u0435\u0442 End of Life (EOL) \u0438 \u0441\u043a\u043e\u0440\u043e \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c\u0441\u044f Aiogram. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Python 3.12 \u0438\u043b\u0438 \u043d\u043e\u0432\u0435\u0435 \u0434\u043b\u044f \u043b\u0443\u0447\u0448\u0435\u0439 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.</p> <pre><code>[groosha@main lesson_01]$ python3.12\nPython 3.12.11 (main, July 06 2025, 16:35:07) \n[GCC 11.1.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; exit()\n[groosha@main lesson_01]$ \n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0444\u0430\u0439\u043b <code>requirements.txt</code>, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0443\u043a\u0430\u0436\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0443\u044e \u043d\u0430\u043c\u0438 \u0432\u0435\u0440\u0441\u0438\u044e aiogram. \u0422\u0430\u043a\u0436\u0435 \u043d\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f  \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 pydantic-settings \u0434\u043b\u044f \u0444\u0430\u0439\u043b\u043e\u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438.</p> <p>\u041e \u0432\u0435\u0440\u0441\u0438\u044f\u0445 aiogram</p> <p>\u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f aiogram 3.x, \u043f\u0435\u0440\u0435\u0434 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u0440\u0430\u0431\u043e\u0442\u044b \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u0437\u0430\u0433\u043b\u044f\u043d\u0443\u0442\u044c \u0432  \u043a\u0430\u043d\u0430\u043b \u0440\u0435\u043b\u0438\u0437\u043e\u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0431\u043e\u043b\u0435\u0435 \u043d\u043e\u0432\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438. \u041f\u043e\u0434\u043e\u0439\u0434\u0451\u0442 \u043b\u044e\u0431\u0430\u044f  \u0431\u043e\u043b\u0435\u0435 \u043d\u043e\u0432\u0430\u044f, \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0430\u044f\u0441\u044f \u0441 \u0446\u0438\u0444\u0440\u044b 3, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 aiogram 2.x \u0431\u043e\u043b\u0435\u0435 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0438 \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u043c.</p> <pre><code>[groosha@main 01_quickstart]$ python3.12 -m venv venv\n[groosha@main 01_quickstart]$ echo \"aiogram&lt;4.0\" &gt; requirements.txt\n[groosha@main 01_quickstart]$ echo \"pydantic-settings\" &gt;&gt; requirements.txt\n[groosha@main 01_quickstart]$ source venv/bin/activate\n(venv) [groosha@main 01_quickstart]$ pip install -r requirements.txt \n# ...\u0437\u0434\u0435\u0441\u044c \u043a\u0443\u0447\u0430 \u0441\u0442\u0440\u043e\u043a \u043f\u0440\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0443...\nSuccessfully installed ...\u0442\u0443\u0442 \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a...\n[groosha@main 01_quickstart]$\n</code></pre> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \"venv\" \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435. \u041e\u043d \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442, \u0447\u0442\u043e \u043c\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u043c\u0441\u044f \u0432 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u043c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0438 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \"venv\". \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u043c, \u0447\u0442\u043e \u0432\u043d\u0443\u0442\u0440\u0438 venv \u0432\u044b\u0437\u043e\u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u044b <code>python</code> \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u0432\u0441\u0451 \u0442\u043e\u0442 \u0436\u0435 Python 3.12: </p><pre><code>(venv) [groosha@main 01_quickstart]$ python\nPython 3.12.11 (main, July 06 2025, 16:35:07) \n[GCC 11.1.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; exit()\n(venv) [groosha@main 01_quickstart]$ deactivate \n[groosha@main 01_quickstart]$ \n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 <code>deactivate</code> \u043c\u044b \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 venv, \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u043d\u0430\u043c \u043d\u0435 \u043c\u0435\u0448\u0430\u043b. </p> <p>\u0415\u0441\u043b\u0438 \u0434\u043b\u044f \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0431\u043e\u0442\u043e\u0432 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 PyCharm, \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u0442\u0430\u043a\u0436\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0439 \u043f\u043b\u0430\u0433\u0438\u043d  Pydantic \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0430\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u0434\u0430  \u0432 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u0445.</p>"},{"location":"quickstart/#hello-world","title":"\u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u043e\u0442","text":"<p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0444\u0430\u0439\u043b <code>bot.py</code> \u0441 \u0431\u0430\u0437\u043e\u0432\u044b\u043c \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u043c \u0431\u043e\u0442\u0430 \u043d\u0430 aiogram: </p>bot.py<pre><code>import asyncio\nimport logging\nfrom aiogram import Bot, Dispatcher, types\nfrom aiogram.filters.command import Command\n\n# \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0430\u0436\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\nlogging.basicConfig(level=logging.INFO)\n# \u041e\u0431\u044a\u0435\u043a\u0442 \u0431\u043e\u0442\u0430\nbot = Bot(token=\"0000000000:AaBbCcDdEeFfGgHhIiJjKkLlMmNn\")\n# \u0414\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\ndp = Dispatcher()\n\n# \u0425\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /start\n@dp.message(Command(\"start\"))\nasync def cmd_start(message: types.Message):\n    await message.answer(\"\u041f\u0440\u0438\u0432\u0435\u0442!\")\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u043e\u043b\u043b\u0438\u043d\u0433\u0430 \u043d\u043e\u0432\u044b\u0445 \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432\nasync def main():\n    await dp.start_polling(bot)\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u041f\u0435\u0440\u0432\u043e\u0435, \u043d\u0430 \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435: aiogram \u2014 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u0430\u0448\u0438 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u0442\u043e\u0436\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u043c\u0438,  \u0430 \u043f\u0435\u0440\u0435\u0434 \u0432\u044b\u0437\u043e\u0432\u0430\u043c\u0438 \u043c\u0435\u0442\u043e\u0434\u043e\u0432 API \u043d\u0443\u0436\u043d\u043e \u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e await, \u0442.\u043a. \u044d\u0442\u0438 \u0432\u044b\u0437\u043e\u0432\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442 \u043a\u043e\u0440\u0443\u0442\u0438\u043d\u044b.</p> <p>\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 Python</p> <p>\u041d\u0435 \u0441\u0442\u043e\u0438\u0442 \u043f\u0440\u0435\u043d\u0435\u0431\u0440\u0435\u0433\u0430\u0442\u044c \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0435\u0439! \u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u044b\u0439 \u0442\u0443\u0442\u043e\u0440\u0438\u0430\u043b \u043f\u043e asyncio \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 Python.</p> <p>\u0415\u0441\u043b\u0438 \u0432\u044b \u0432 \u043f\u0440\u043e\u0448\u043b\u043e\u043c \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438 \u0441 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u0434\u0440\u0443\u0433\u043e\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u043e\u0439 \u0434\u043b\u044f Telegram, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, pyTelegramBotAPI, \u0442\u043e \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044f \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432 (\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439) \u0432\u0430\u043c \u0441\u0440\u0430\u0437\u0443 \u0441\u0442\u0430\u043d\u0435\u0442 \u043f\u043e\u043d\u044f\u0442\u043d\u0430, \u0440\u0430\u0437\u043d\u0438\u0446\u0430 \u043b\u0438\u0448\u044c \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0432 aiogram \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u043c\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440. \u0414\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438-\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438, \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u044f \u043f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0449\u0438\u0445 \u0438\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u044b.  \u041f\u043e\u0441\u043b\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0433\u043e \u0430\u043f\u0434\u0435\u0439\u0442\u0430 (\u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043e\u0442 Telegram), \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u0432\u044b\u0431\u0435\u0440\u0435\u0442 \u043d\u0443\u0436\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u043f\u043e \u0432\u0441\u0435\u043c  \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u043c, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u00ab\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439, \u044f\u0432\u043b\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\u0438, \u0432 \u0447\u0430\u0442\u0435 \u0441 ID \u0438\u043a\u0441 \u0438 \u0441 \u0434\u043b\u0438\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0438\u0433\u0440\u0435\u043a\u00bb. \u0415\u0441\u043b\u0438 \u0434\u0432\u0435  \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0438\u043c\u0435\u044e\u0442 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0435 \u043f\u043e \u043b\u043e\u0433\u0438\u043a\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b, \u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0437\u0432\u0430\u043d\u0430 \u0442\u0430, \u0447\u0442\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0440\u0430\u043d\u044c\u0448\u0435.</p> <p>\u0427\u0442\u043e\u0431\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u043a\u0430\u043a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439, \u043d\u0443\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043e\u0434\u043d\u043e \u0438\u0437 \u0434\u0432\u0443\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439: 1. \u041d\u0430\u0432\u0435\u0441\u0438\u0442\u044c \u043d\u0430 \u043d\u0435\u0451 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u043a\u0430\u043a \u0432 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0432\u044b\u0448\u0435.  \u0421 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u0442\u0438\u043f\u0430\u043c\u0438 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u043e\u0432 \u043c\u044b \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u043c\u0441\u044f \u043f\u043e\u0437\u0434\u043d\u0435\u0435. 2. \u041d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0443 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0430 \u0438\u043b\u0438 \u0440\u043e\u0443\u0442\u0435\u0440\u0430.</p> <p>\u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u0434:  </p><pre><code># \u0425\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /test1\n@dp.message(Command(\"test1\"))\nasync def cmd_test1(message: types.Message):\n    await message.reply(\"\u0422\u0435\u0441\u0442 1\")\n\n# \u0425\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /test2\nasync def cmd_test2(message: types.Message):\n    await message.reply(\"\u0422\u0435\u0441\u0442 2\")\n</code></pre> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c \u0441 \u043d\u0438\u043c \u0431\u043e\u0442\u0430: </p> <p>\u0425\u044d\u043d\u0434\u043b\u0435\u0440 <code>cmd_test2</code> \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u0442.\u043a. \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u043e \u043d\u0451\u043c \u043d\u0435 \u0437\u043d\u0430\u0435\u0442. \u0418\u0441\u043f\u0440\u0430\u0432\u0438\u043c \u044d\u0442\u0443 \u043e\u0448\u0438\u0431\u043a\u0443  \u0438 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044e: </p><pre><code># \u0425\u044d\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /test2\nasync def cmd_test2(message: types.Message):\n    await message.reply(\"\u0422\u0435\u0441\u0442 2\")\n\n# \u0413\u0434\u0435-\u0442\u043e \u0432 \u0434\u0440\u0443\u0433\u043e\u043c \u043c\u0435\u0441\u0442\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 main():\ndp.message.register(cmd_test2, Command(\"test2\"))\n</code></pre> <p>\u0421\u043d\u043e\u0432\u0430 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c \u0431\u043e\u0442\u0430: </p>"},{"location":"quickstart/#sugar","title":"\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0441\u0430\u0445\u0430\u0440","text":"<p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u0434 \u0447\u0438\u0449\u0435 \u0438 \u0447\u0438\u0442\u0430\u0431\u0435\u043b\u044c\u043d\u0435\u0435, aiogram \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 Telegram. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432\u043c\u0435\u0441\u0442\u043e <code>bot.send_message(...)</code> \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c <code>message.answer(...)</code> \u0438\u043b\u0438 <code>message.reply(...)</code>. \u0412 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 \u0434\u0432\u0443\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445 \u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c <code>chat_id</code>, \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u043e\u043d \u0442\u0430\u043a\u043e\u0439 \u0436\u0435, \u043a\u0430\u043a \u0438 \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0438. \u0420\u0430\u0437\u043d\u0438\u0446\u0430 \u043c\u0435\u0436\u0434\u0443 <code>answer</code> \u0438 <code>reply</code> \u043f\u0440\u043e\u0441\u0442\u0430\u044f: \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0432 \u0442\u043e\u0442 \u0436\u0435 \u0447\u0430\u0442, \u0432\u0442\u043e\u0440\u043e\u0439 \u0434\u0435\u043b\u0430\u0435\u0442 \"\u043e\u0442\u0432\u0435\u0442\" \u043d\u0430  \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u0437 <code>message</code>: </p><pre><code>@dp.message(Command(\"answer\"))\nasync def cmd_answer(message: types.Message):\n    await message.answer(\"\u042d\u0442\u043e \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043e\u0442\u0432\u0435\u0442\")\n\n\n@dp.message(Command(\"reply\"))\nasync def cmd_reply(message: types.Message):\n    await message.reply('\u042d\u0442\u043e \u043e\u0442\u0432\u0435\u0442 \u0441 \"\u043e\u0442\u0432\u0435\u0442\u043e\u043c\"')\n</code></pre> <p>\u0411\u043e\u043b\u0435\u0435 \u0442\u043e\u0433\u043e, \u0434\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0430 \u0442\u0438\u043f\u043e\u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0435\u0441\u0442\u044c \u0432\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b \u0432\u0438\u0434\u0430  \"answer_{type}\" \u0438\u043b\u0438 \"reply_{type}\", \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: </p><pre><code>@dp.message(Command(\"dice\"))\nasync def cmd_dice(message: types.Message):\n    await message.answer_dice(emoji=\"\ud83c\udfb2\")\n</code></pre> <p>\u0447\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442 'message: types.Message' ?</p> <p>Python \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u043c \u044f\u0437\u044b\u043a\u043e\u043c \u0441 \u0441\u0438\u043b\u044c\u043d\u043e\u0439, \u043d\u043e \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u0435\u0439, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0438\u043f\u043e\u0432, \u043a\u0430\u043a, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432 C++ \u0438\u043b\u0438 Java, \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442. \u041e\u0434\u043d\u0430\u043a\u043e \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u0440\u0441\u0438\u0438 3.5  \u0432 \u044f\u0437\u044b\u043a\u0435 \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043e\u043a \u0442\u0438\u043f\u043e\u0432, \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0447\u0435\u043a\u0435\u0440\u044b \u0438 IDE \u0432\u0440\u043e\u0434\u0435 PyCharm \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u044e\u0442 \u0442\u0438\u043f\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0438 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442\u0443, \u0435\u0441\u043b\u0438 \u043e\u043d \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442 \u0447\u0442\u043e-\u0442\u043e \u043d\u0435 \u0442\u043e. \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 <code>types.Message</code> \u0441\u043e\u043e\u0431\u0449\u0430\u0435\u0442 PyCharm-\u0443, \u0447\u0442\u043e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f <code>message</code> \u0438\u043c\u0435\u0435\u0442 \u0442\u0438\u043f <code>Message</code>, \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439 \u0432 \u043c\u043e\u0434\u0443\u043b\u0435 <code>types</code> \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 aiogram (\u0441\u043c. \u0438\u043c\u043f\u043e\u0440\u0442\u044b \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u043a\u043e\u0434\u0430). \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u044d\u0442\u043e\u043c\u0443 IDE \u043c\u043e\u0436\u0435\u0442 \u043d\u0430 \u043b\u0435\u0442\u0443 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b \u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438.</p> <p>\u041f\u0440\u0438 \u0432\u044b\u0437\u043e\u0432\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b <code>/dice</code> \u0431\u043e\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442 \u0432 \u0442\u043e\u0442 \u0436\u0435 \u0447\u0430\u0442 \u0438\u0433\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u0443\u0431\u0438\u043a. \u0420\u0430\u0437\u0443\u043c\u0435\u0435\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0435\u0433\u043e \u043d\u0430\u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u0434\u0440\u0443\u0433\u043e\u0439 \u0447\u0430\u0442, \u0442\u043e \u043f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u043f\u043e \u0441\u0442\u0430\u0440\u0438\u043d\u043a\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c <code>await bot.send_dice(...)</code>. \u041d\u043e \u043e\u0431\u044a\u0435\u043a\u0442 <code>bot</code> (\u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043a\u043b\u0430\u0441\u0441\u0430 Bot) \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c  \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0432 \u043e\u0431\u043b\u0430\u0441\u0442\u0438 \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438. \u0412 aiogram 3.x \u043e\u0431\u044a\u0435\u043a\u0442 \u0431\u043e\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043f\u0440\u0438\u0448\u0451\u043b \u0430\u043f\u0434\u0435\u0439\u0442, \u043d\u0435\u044f\u0432\u043d\u043e  \u043f\u0440\u043e\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440 \u0438 \u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0441\u0442\u0430\u0442\u044c \u043a\u0430\u043a \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 <code>bot</code>. \u041f\u0440\u0435\u0434\u043f\u043e\u043b\u043e\u0436\u0438\u043c, \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0435 <code>/dice</code>  \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u0443\u0431\u0438\u043a \u043d\u0435 \u0432 \u0442\u043e\u0442 \u0436\u0435 \u0447\u0430\u0442, \u0430 \u0432 \u043a\u0430\u043d\u0430\u043b \u0441 ID -100123456789. \u041f\u0435\u0440\u0435\u043f\u0438\u0448\u0435\u043c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e:</p> <pre><code># \u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u043f\u0440\u043e \u0438\u043c\u043f\u043e\u0440\u0442\nfrom aiogram.enums.dice_emoji import DiceEmoji\n\n@dp.message(Command(\"dice\"))\nasync def cmd_dice(message: types.Message, bot: Bot):\n    await bot.send_dice(-100123456789, emoji=DiceEmoji.DICE)\n</code></pre>"},{"location":"quickstart/#pass-extras","title":"\u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0434\u043e\u043f. \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432","text":"<p>\u0418\u043d\u043e\u0433\u0434\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0431\u043e\u0442\u0430 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043e\u0434\u043d\u043e \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439.  \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043a\u0430\u043a\u0430\u044f-\u043d\u0438\u0431\u0443\u0434\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f, \u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438, \u0441\u043f\u0438\u0441\u043e\u043a \u0447\u0435\u0433\u043e-\u0442\u043e, \u043e\u0442\u043c\u0435\u0442\u043a\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0438 \u0447\u0442\u043e \u0443\u0433\u043e\u0434\u043d\u043e \u0435\u0449\u0451.  \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u044d\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u0430\u043a \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0435 (kwargs) \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0432 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440, \u043b\u0438\u0431\u043e \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u043a\u0430\u043a  \u0435\u0441\u043b\u0438 \u0431\u044b \u0432\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438 \u0441\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u0451\u043c.</p> <p>\u0422\u0430\u043a\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043b\u0443\u0447\u0448\u0435 \u0432\u0441\u0435\u0433\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0436\u0438\u0442\u044c \u0432 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u043c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0435 \u0438 \u043d\u0435 \u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f  \u0432 \u0445\u043e\u0434\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0431\u043e\u0442\u0430 (\u0442.\u0435. \u0431\u044b\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f). \u0415\u0441\u043b\u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u0441\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c, \u0442\u043e \u043f\u043e\u043c\u043d\u0438\u0442\u0435, \u0447\u0442\u043e  \u044d\u0442\u043e \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441 \u043c\u0443\u0442\u0430\u0431\u0435\u043b\u044c\u043d\u044b\u043c\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438.  \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u0445, \u043f\u0440\u043e\u0441\u0442\u043e \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u0445 \u043a\u0430\u043a \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b. \u0420\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435:</p> <pre><code># \u0413\u0434\u0435-\u0442\u043e \u0432 \u0434\u0440\u0443\u0433\u043e\u043c \u043c\u0435\u0441\u0442\u0435\n# \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432 \u0442\u043e\u0447\u043a\u0435 \u0432\u0445\u043e\u0434\u0430 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\nfrom datetime import datetime\n\n# bot = ...\ndp = Dispatcher()\ndp[\"started_at\"] = datetime.now().strftime(\"%Y-%m-%d %H:%M\")\nawait dp.start_polling(bot, mylist=[1, 2, 3])\n\n\n@dp.message(Command(\"add_to_list\"))\nasync def cmd_add_to_list(message: types.Message, mylist: list[int]):\n    mylist.append(7)\n    await message.answer(\"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0447\u0438\u0441\u043b\u043e 7\")\n\n\n@dp.message(Command(\"show_list\"))\nasync def cmd_show_list(message: types.Message, mylist: list[int]):\n    await message.answer(f\"\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a: {mylist}\")\n\n\n@dp.message(Command(\"info\"))\nasync def cmd_info(message: types.Message, started_at: str):\n    await message.answer(f\"\u0411\u043e\u0442 \u0437\u0430\u043f\u0443\u0449\u0435\u043d {started_at}\")\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e <code>started_at</code> \u0438 \u0441\u043f\u0438\u0441\u043e\u043a <code>mylist</code> \u043c\u043e\u0436\u043d\u043e \u0447\u0438\u0442\u0430\u0442\u044c \u0438 \u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u0445. \u0410 \u0435\u0441\u043b\u0438 \u0432\u0430\u043c \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0442\u044c  \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0430\u043f\u0434\u0435\u0439\u0442\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0431\u044a\u0435\u043a\u0442 \u0441\u0435\u0441\u0441\u0438\u0438 \u0421\u0423\u0411\u0414),  \u0442\u043e \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u044c\u0442\u0435\u0441\u044c \u0441 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u044f\u043c\u0438.</p> <p> </p>"},{"location":"quickstart/#configuration-files","title":"\u0424\u0430\u0439\u043b\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438","text":"<p>\u0427\u0442\u043e\u0431\u044b \u043d\u0435 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u043f\u0440\u044f\u043c\u043e \u0432 \u043a\u043e\u0434\u0435 (\u0432\u0434\u0440\u0443\u0433 \u0432\u044b \u0437\u0430\u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043b\u0438\u0442\u044c \u0441\u0432\u043e\u0435\u0433\u043e \u0431\u043e\u0442\u0430 \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439?) \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043d\u0435\u0441\u0442\u0438  \u043f\u043e\u0434\u043e\u0431\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b. \u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0445\u043e\u0440\u043e\u0448\u0435\u0435 \u0438 \u0430\u0434\u0435\u043a\u0432\u0430\u0442\u043d\u043e\u0435 \u043c\u043d\u0435\u043d\u0438\u0435,  \u0447\u0442\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0430 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f, \u043e\u0434\u043d\u0430\u043a\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u044d\u0442\u043e\u0439 \u043a\u043d\u0438\u0433\u0438 \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 <code>.env</code>,  \u0447\u0442\u043e\u0431\u044b \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0431\u0435 \u0436\u0438\u0437\u043d\u044c \u0438 \u0441\u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0442\u044c \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f\u043c \u0432\u0440\u0435\u043c\u044f \u043d\u0430 \u0440\u0430\u0437\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435 \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p> <p>\u0418\u0442\u0430\u043a, \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0440\u044f\u0434\u043e\u043c \u0441 <code>bot.py</code> \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u0444\u0430\u0439\u043b <code>config_reader.py</code> \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c</p> config_reader.py<pre><code>from pydantic_settings import BaseSettings, SettingsConfigDict\nfrom pydantic import SecretStr\n\n\nclass Settings(BaseSettings):\n    # \u0416\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u043c\u0435\u0441\u0442\u043e str \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c SecretStr \n    # \u0434\u043b\u044f \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u043e\u043a\u0435\u043d\u0430 \u0431\u043e\u0442\u0430\n    bot_token: SecretStr\n\n    # \u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441\u043e \u0432\u0442\u043e\u0440\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 pydantic, \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043a\u043b\u0430\u0441\u0441\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0437\u0430\u0434\u0430\u044e\u0442\u0441\u044f\n    # \u0447\u0435\u0440\u0435\u0437 model_config\n    # \u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0444\u0430\u0439\u043b\u0430 .env, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\n    # \u0441 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u043e\u0439 UTF-8\n    model_config = SettingsConfigDict(env_file='.env', env_file_encoding='utf-8')\n\n\n# \u041f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0444\u0430\u0439\u043b\u0430 \u0441\u0440\u0430\u0437\u0443 \u0441\u043e\u0437\u0434\u0430\u0441\u0442\u0441\u044f \n# \u0438 \u043f\u0440\u043e\u0432\u0430\u043b\u0438\u0434\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0430, \n# \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u043d\u043e \u0434\u0430\u043b\u0435\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437 \u0440\u0430\u0437\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\nconfig = Settings()\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c \u043d\u0430\u0448 <code>bot.py</code>:</p> bot.py<pre><code># \u0438\u043c\u043f\u043e\u0440\u0442\u044b\nfrom config_reader import config\n\n# \u0414\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0441 \u0442\u0438\u043f\u043e\u043c Secret* \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \n# \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434 get_secret_value(), \n# \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0432\u043c\u0435\u0441\u0442\u043e '*******'\nbot = Bot(token=config.bot_token.get_secret_value())\n</code></pre> <p>\u041d\u0430\u043a\u043e\u043d\u0435\u0446, \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0444\u0430\u0439\u043b <code>.env</code> (\u0441 \u0442\u043e\u0447\u043a\u043e\u0439 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435), \u0433\u0434\u0435 \u043e\u043f\u0438\u0448\u0435\u043c \u0442\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430:</p> .env<pre><code>BOT_TOKEN = 0000000000:AaBbCcDdEeFfGgHhIiJjKkLlMmNn\n</code></pre> <p>\u0415\u0441\u043b\u0438 \u0432\u0441\u0451 \u0441\u0434\u0435\u043b\u0430\u043d\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e, \u0442\u043e \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 python-dotenv \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u0438\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 <code>.env</code>, pydantic  \u0438\u0445 \u043f\u0440\u043e\u0432\u0430\u043b\u0438\u0434\u0438\u0440\u0443\u0435\u0442 \u0438 \u043e\u0431\u044a\u0435\u043a\u0442 \u0431\u043e\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0441\u0442\u0441\u044f \u0441 \u043d\u0443\u0436\u043d\u044b\u043c \u0442\u043e\u043a\u0435\u043d\u043e\u043c.</p> <p>\u041d\u0430 \u044d\u0442\u043e\u043c \u043c\u044b \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043c \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u043e \u0441 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u043e\u0439, \u0430 \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0433\u043b\u0430\u0432\u0430\u0445 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0434\u0440\u0443\u0433\u0438\u0435 \"\u0444\u0438\u0448\u043a\u0438\" aiogram \u0438 Telegram Bot API.</p>"},{"location":"routers/","title":"\u0420\u043e\u0443\u0442\u0435\u0440\u044b, \u043c\u043d\u043e\u0433\u043e\u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0441\u0442\u044c \u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0431\u043e\u0442\u0430","text":""},{"location":"routers/#\u0440\u043e\u0443\u0442\u0435\u0440\u044b-\u043c\u043d\u043e\u0433\u043e\u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0441\u0442\u044c-\u0438-\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430-\u0431\u043e\u0442\u0430","title":"\u0420\u043e\u0443\u0442\u0435\u0440\u044b, \u043c\u043d\u043e\u0433\u043e\u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0441\u0442\u044c \u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0431\u043e\u0442\u0430","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f aiogram: 3.7.0</p> <p>\u0412 \u044d\u0442\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u043f\u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u043c\u0441\u044f \u0441 \u043d\u043e\u0432\u043e\u0439 \u0444\u0438\u0447\u0435\u0439 aiogram 3.x \u2014 \u0440\u043e\u0443\u0442\u0435\u0440\u0430\u043c\u0438, \u043d\u0430\u0443\u0447\u0438\u043c\u0441\u044f \u0440\u0430\u0437\u0431\u0438\u0432\u0430\u0442\u044c \u043d\u0430\u0448 \u043a\u043e\u0434 \u043d\u0430 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435  \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u0431\u0430\u0437\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0431\u043e\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0433\u043b\u0430\u0432\u0430\u0445 \u0438 \u0432\u043e\u043e\u0431\u0449\u0435 \u043f\u043e \u0436\u0438\u0437\u043d\u0438.</p>"},{"location":"routers/#entrypoint","title":"\u0422\u043e\u0447\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435","text":"<p>\u0422\u0435\u0430\u0442\u0440 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 \u0432\u0435\u0448\u0430\u043b\u043a\u0438, \u0430 \u0431\u043e\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 \u0442\u043e\u0447\u043a\u0438 \u0432\u0445\u043e\u0434\u0430. \u041f\u0443\u0441\u0442\u044c \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0444\u0430\u0439\u043b <code>bot.py</code>. \u0412 \u043d\u0451\u043c \u043c\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u043c  \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>main()</code>, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c \u043f\u043e\u043b\u043b\u0438\u043d\u0433. \u041a\u0430\u043a\u0438\u0435  \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u043c\u0438? \u0412\u043e-\u043f\u0435\u0440\u0432\u044b\u0445, \u0440\u0430\u0437\u0443\u043c\u0435\u0435\u0442\u0441\u044f, \u0431\u043e\u0442. \u0418\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e, \u043d\u043e \u043e\u0431 \u044d\u0442\u043e\u043c  \u043a\u0430\u043a-\u043d\u0438\u0431\u0443\u0434\u044c \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0440\u0430\u0437. \u0412\u043e-\u0432\u0442\u043e\u0440\u044b\u0445, \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440. \u041e\u043d \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438\u0451\u043c\u043e\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043e\u0442 Telegram \u0438 \u0440\u0430\u0441\u043a\u0438\u0434\u044b\u0432\u0430\u043d\u0438\u0435\u043c \u0438\u0445  \u043f\u043e \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u043c \u0447\u0435\u0440\u0435\u0437 \u0444\u0438\u043b\u044c\u0442\u0440\u044b \u0438 \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0438.</p> bot.py<pre><code>import asyncio\nfrom aiogram import Bot, Dispatcher\n\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0431\u043e\u0442\u0430\nasync def main():\n    bot = Bot(token=\"TOKEN\")\n    dp = Dispatcher()\n\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0431\u043e\u0442\u0430 \u0438 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432\u0441\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435\n    # \u0414\u0430, \u044d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u043f\u043e\u043b\u043b\u0438\u043d\u0433\n    await bot.delete_webhook(drop_pending_updates=True)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u041d\u043e \u0447\u0442\u043e\u0431\u044b \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u044d\u0442\u043e\u0433\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e, \u043d\u0443\u0436\u043d\u044b \u0435\u0449\u0451 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b. \u041c\u044b \u0445\u043e\u0442\u0438\u043c \u0438\u0445 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u044c  \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0444\u0430\u0439\u043b\u0430\u0445, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0443\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u043f\u043e\u0440\u0442\u044f\u043d\u043a\u0438 \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0442\u044b\u0441\u044f\u0447 \u0441\u0442\u0440\u043e\u043a. \u0412 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0445 \u0433\u043b\u0430\u0432\u0430\u0445 \u0432\u0441\u0435  \u043d\u0430\u0448\u0438 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u043f\u0440\u0438\u0446\u0435\u043f\u043b\u044f\u043b\u0438\u0441\u044c \u043a \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0443, \u043d\u043e \u0441\u0435\u0439\u0447\u0430\u0441 \u043e\u043d \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0438 \u043c\u044b \u0442\u043e\u0447\u043d\u043e \u043d\u0435 \u0445\u043e\u0442\u0438\u043c  \u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0433\u043e \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c. \u0427\u0442\u043e \u0436\u0435 \u0434\u0435\u043b\u0430\u0442\u044c? \u0418 \u0442\u0443\u0442 \u043d\u0430 \u043f\u043e\u043c\u043e\u0449\u044c \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442...</p>"},{"location":"routers/#routers","title":"\u0420\u043e\u0443\u0442\u0435\u0440\u044b","text":"<p>\u041e\u0431\u0440\u0430\u0442\u0438\u043c\u0441\u044f \u043a \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438  aiogram 3.x \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435: </p> <p></p> <p>\u0427\u0442\u043e \u043c\u044b \u0432\u0438\u0434\u0438\u043c? </p> <ol> <li>\u0414\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u2014 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u0440\u043e\u0443\u0442\u0435\u0440.</li> <li>\u0425\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u0446\u0435\u043f\u043b\u044f\u044e\u0442\u0441\u044f \u043a \u0440\u043e\u0443\u0442\u0435\u0440\u0430\u043c.</li> <li>\u0420\u043e\u0443\u0442\u0435\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u043c\u0438, \u043d\u043e \u043c\u0435\u0436\u0434\u0443 \u043d\u0438\u043c\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c.</li> <li>\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f (\u0438, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438) \u0440\u043e\u0443\u0442\u0435\u0440\u043e\u0432 \u044f\u0432\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d.</li> </ol> <p>\u041d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0438 \u0432\u0438\u0434\u0435\u043d \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u043f\u043e\u0438\u0441\u043a\u0430 \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u043c \u043d\u0443\u0436\u043d\u043e\u0433\u043e \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430 \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f:</p> <p></p> <p>\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u043f\u0440\u043e\u0441\u0442\u0435\u043d\u044c\u043a\u043e\u0433\u043e \u0431\u043e\u0442\u0430 \u0441 \u0434\u0432\u0443\u043c\u044f \u0444\u0438\u0447\u0430\u043c\u0438:</p> <ol> <li>\u0415\u0441\u043b\u0438 \u0431\u043e\u0442\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 <code>/start</code>, \u043e\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0438\u0441\u043b\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441 \u0438 \u0434\u0432\u0435 \u043a\u043d\u043e\u043f\u043a\u0438 \u0441 \u0442\u0435\u043a\u0441\u0442\u0430\u043c\u0438 \u00ab\u0414\u0430\u00bb \u0438 \u00ab\u041d\u0435\u0442\u00bb.</li> <li>\u0415\u0441\u043b\u0438 \u0431\u043e\u0442\u0443 \u043f\u0440\u0438\u0441\u043b\u0430\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0442\u0435\u043a\u0441\u0442, \u0441\u0442\u0438\u043a\u0435\u0440 \u0438\u043b\u0438 \u0433\u0438\u0444\u043a\u0443, \u043e\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c \u0442\u0438\u043f\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f.</li> </ol> <p>\u041d\u0430\u0447\u043d\u0451\u043c \u0441 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b: \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0440\u044f\u0434\u043e\u043c \u0441 \u0444\u0430\u0439\u043b\u043e\u043c <code>bot.py</code> \u043a\u0430\u0442\u0430\u043b\u043e\u0433 <code>keyboards</code>, \u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u043d\u0435\u0433\u043e \u0444\u0430\u0439\u043b <code>for_questions.py</code>  \u0438 \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u0441 \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438 \"\u0414\u0430\" \u0438 \"\u041d\u0435\u0442\" \u0432 \u043e\u0434\u0438\u043d \u0440\u044f\u0434:</p> keyboards/for_questions.py<pre><code>from aiogram.types import ReplyKeyboardMarkup\nfrom aiogram.utils.keyboard import ReplyKeyboardBuilder\n\ndef get_yes_no_kb() -&gt; ReplyKeyboardMarkup:\n    kb = ReplyKeyboardBuilder()\n    kb.button(text=\"\u0414\u0430\")\n    kb.button(text=\"\u041d\u0435\u0442\")\n    kb.adjust(2)\n    return kb.as_markup(resize_keyboard=True)\n</code></pre> <p>\u041d\u0438\u0447\u0435\u0433\u043e \u0441\u043b\u043e\u0436\u043d\u043e\u0433\u043e, \u0442\u0435\u043c \u0431\u043e\u043b\u0435\u0435, \u0447\u0442\u043e \u043c\u044b \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u044b \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u0440\u0430\u0437\u0431\u0438\u0440\u0430\u043b\u0438 \u0440\u0430\u043d\u0435\u0435.  \u0422\u0435\u043f\u0435\u0440\u044c \u0440\u044f\u0434\u043e\u043c \u0441 \u0444\u0430\u0439\u043b\u043e\u043c <code>bot.py</code> \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0434\u0440\u0443\u0433\u043e\u0439 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 <code>handlers</code>, \u0430 \u0432\u043d\u0443\u0442\u0440\u0438 \u043d\u0435\u0433\u043e \u0444\u0430\u0439\u043b <code>questions.py</code>.</p> handlers/questions.py<pre><code>from aiogram import Router, F\nfrom aiogram.filters import Command\nfrom aiogram.types import Message, ReplyKeyboardRemove\n\nfrom keyboards.for_questions import get_yes_no_kb\n\nrouter = Router()  # [1]\n\n@router.message(Command(\"start\"))  # [2]\nasync def cmd_start(message: Message):\n    await message.answer(\n        \"\u0412\u044b \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u044b \u0441\u0432\u043e\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u043e\u0439?\",\n        reply_markup=get_yes_no_kb()\n    )\n\n@router.message(F.text.lower() == \"\u0434\u0430\")\nasync def answer_yes(message: Message):\n    await message.answer(\n        \"\u042d\u0442\u043e \u0437\u0434\u043e\u0440\u043e\u0432\u043e!\",\n        reply_markup=ReplyKeyboardRemove()\n    )\n\n@router.message(F.text.lower() == \"\u043d\u0435\u0442\")\nasync def answer_no(message: Message):\n    await message.answer(\n        \"\u0416\u0430\u043b\u044c...\",\n        reply_markup=ReplyKeyboardRemove()\n    )\n</code></pre> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u043c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u043f\u0443\u043d\u043a\u0442\u044b [1] \u0438 [2]. \u0412\u043e-\u043f\u0435\u0440\u0432\u044b\u0445, \u043c\u044b \u0432 \u0444\u0430\u0439\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u0441\u0432\u043e\u0439 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440 \u0443\u0440\u043e\u0432\u043d\u044f \u043c\u043e\u0434\u0443\u043b\u044f, \u0438 \u0434\u0430\u043b\u0435\u0435  \u0431\u0443\u0434\u0435\u043c \u0446\u0435\u043f\u043b\u044f\u0442\u044c \u0435\u0433\u043e \u043a \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u043c\u0443 \u0440\u043e\u0443\u0442\u0435\u0440\u0443 (\u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0443). \u0412\u043e-\u0432\u0442\u043e\u0440\u044b\u0445, \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u00ab\u043e\u0442\u043f\u043e\u0447\u043a\u043e\u0432\u044b\u0432\u0430\u044e\u0442\u0441\u044f\u00bb \u0443\u0436\u0435 \u043e\u0442 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u043e\u0443\u0442\u0435\u0440\u0430.</p> <p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0432\u0442\u043e\u0440\u043e\u0439 \u0444\u0430\u0439\u043b \u0441 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u043c\u0438 <code>different_types.py</code>, \u0433\u0434\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u0431\u0443\u0434\u0435\u043c \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u0442\u0438\u043f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f:</p> handlers/different_types.py<pre><code>from aiogram import Router, F\nfrom aiogram.types import Message\n\nrouter = Router()\n\n@router.message(F.text)\nasync def message_with_text(message: Message):\n    await message.answer(\"\u042d\u0442\u043e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435!\")\n\n@router.message(F.sticker)\nasync def message_with_sticker(message: Message):\n    await message.answer(\"\u042d\u0442\u043e \u0441\u0442\u0438\u043a\u0435\u0440!\")\n\n@router.message(F.animation)\nasync def message_with_gif(message: Message):\n    await message.answer(\"\u042d\u0442\u043e GIF!\")\n</code></pre> <p>\u041d\u0430\u043a\u043e\u043d\u0435\u0446, \u0432\u0435\u0440\u043d\u0451\u043c\u0441\u044f \u043a \u043d\u0430\u0448\u0435\u043c\u0443 <code>bot.py</code>, \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u043c \u0444\u0430\u0439\u043b\u044b \u0441 \u0440\u043e\u0443\u0442\u0435\u0440\u0430\u043c\u0438 \u0438 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430\u043c\u0438, \u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043c \u0438\u0445 \u043a \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0443:</p> bot.py<pre><code>import asyncio\nfrom aiogram import Bot, Dispatcher\nfrom handlers import questions, different_types\n\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0431\u043e\u0442\u0430\nasync def main():\n    bot = Bot(token=\"TOKEN\")\n    dp = Dispatcher()\n\n    dp.include_routers(questions.router, different_types.router)\n\n    # \u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0440\u043e\u0443\u0442\u0435\u0440\u043e\u0432 \u043f\u043e \u043e\u0434\u043d\u043e\u043c\u0443 \u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0443\n    # dp.include_router(questions.router)\n    # dp.include_router(different_types.router)\n\n    # \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0431\u043e\u0442\u0430 \u0438 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0432\u0441\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435\n    # \u0414\u0430, \u044d\u0442\u043e\u0442 \u043c\u0435\u0442\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u043f\u043e\u043b\u043b\u0438\u043d\u0433\n    await bot.delete_webhook(drop_pending_updates=True)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u041c\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u043c \u0444\u0430\u0439\u043b\u044b \u0438\u0437 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430 <code>handlers/</code> \u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u043c \u0440\u043e\u0443\u0442\u0435\u0440\u044b \u0438\u0437 \u044d\u0442\u0438\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 \u043a \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0443. \u0418 \u0437\u0434\u0435\u0441\u044c \u0441\u043d\u043e\u0432\u0430  \u0432\u0430\u0436\u0435\u043d \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u0432! \u0415\u0441\u043b\u0438 \u043c\u044b \u043f\u043e\u043c\u0435\u043d\u044f\u0435\u043c \u043c\u0435\u0441\u0442\u0430\u043c\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e \u0440\u043e\u0443\u0442\u0435\u0440\u043e\u0432, \u0442\u043e \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/start</code> \u0431\u043e\u0442 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0447\u0430\u0442\u044c  \u0444\u0440\u0430\u0437\u043e\u0439 \u00ab\u042d\u0442\u043e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435!\u00bb, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>message_with_text()</code> \u043f\u0435\u0440\u0432\u043e\u0439 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u043e\u0439\u0434\u0451\u0442 \u0432\u0441\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b. \u041d\u043e  \u043e \u0441\u0430\u043c\u0438\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0445 \u043c\u044b \u043f\u043e\u0433\u043e\u0432\u043e\u0440\u0438\u043c \u0447\u0443\u0442\u044c \u043f\u043e\u0437\u0436\u0435, \u0430 \u043f\u043e\u043a\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u0435\u0449\u0451 \u043e\u0434\u0438\u043d \u0432\u043e\u043f\u0440\u043e\u0441.</p>"},{"location":"routers/#conclusion","title":"\u0418\u0442\u043e\u0433","text":"<p>\u0423 \u043d\u0430\u0441 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u0430\u043a\u043a\u0443\u0440\u0430\u0442\u043d\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u0431\u043e\u0442\u0430 \u043f\u043e \u0440\u0430\u0437\u043d\u044b\u043c \u0444\u0430\u0439\u043b\u0430\u043c, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u0443. \u041f\u0440\u0438\u043c\u0435\u0440\u043d\u043e\u0435 \u0434\u0435\u0440\u0435\u0432\u043e \u0444\u0430\u0439\u043b\u043e\u0432  \u0438 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u043e\u0432 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c (\u0437\u0434\u0435\u0441\u044c \u0441\u043e\u0437\u043d\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0444\u0430\u0439\u043b\u044b):</p> <pre><code>\u251c\u2500\u2500 bot.py\n\u251c\u2500\u2500 handlers\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 different_types.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 questions.py\n\u251c\u2500\u2500 keyboards\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 for_questions.py\n</code></pre> <p>\u0412 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u043c \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u043f\u0440\u0438\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b, \u043f\u043b\u044e\u0441 \u0434\u043e\u0431\u0430\u0432\u044f\u0442\u0441\u044f \u043d\u043e\u0432\u044b\u0435 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0438 \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432, \u043c\u0438\u0434\u043b\u0432\u0430\u0440\u0435\u0439,  \u0444\u0430\u0439\u043b\u043e\u0432 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0431\u0430\u0437\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0442.\u0434.</p>"},{"location":"special-updates/","title":"\u0410\u043f\u0434\u0435\u0439\u0442\u044b my_chat_member \u0438 chat_member","text":""},{"location":"special-updates/#special-updates","title":"\u041e\u0441\u043e\u0431\u044b\u0435 \u0430\u043f\u0434\u0435\u0439\u0442\u044b","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f aiogram: 3.7.0</p>"},{"location":"special-updates/#intro","title":"\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435","text":"<p>\u041f\u043e\u0447\u0442\u0438 \u0432\u0441\u0435 \u0432\u0438\u0434\u044b \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0432 Telegram \u0438\u043c\u0435\u044e\u0442 \u043a\u0430\u043a\u043e\u0435-\u0442\u043e \u0432\u043d\u0435\u0448\u043d\u0435\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u044e\u0437\u0435\u0440\u0430. \u0421\u043b\u0443\u0436\u0435\u0431\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f, \u043e\u0431\u044b\u0447\u043d\u044b\u0435,  \u043a\u043e\u043b\u0431\u044d\u043a\u0438, \u0438\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c... \u043d\u043e \u0435\u0441\u0442\u044c \u0434\u0432\u0430 \u0432\u0438\u0434\u0430 \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432, \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u0438\u043c\u0435\u043d\u043d\u043e \u0434\u043b\u044f \u0441\u0430\u043c\u0438\u0445 \u0431\u043e\u0442\u043e\u0432. \u0420\u0435\u0447\u044c \u043f\u043e\u0439\u0434\u0451\u0442 \u043e  <code>my_chat_member</code> \u0438 <code>chat_member</code></p> <p>\u041a\u043e\u0433\u0434\u0430-\u0442\u043e \u0434\u0430\u0432\u043d\u044b\u043c-\u0434\u0430\u0432\u043d\u043e \u0431\u043e\u0442\u044b \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0438 \u0432 \u00ab\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0432\u0430\u043a\u0443\u0443\u043c\u0435\u00bb: \u0431\u0430\u043d\u0430\u043b\u044c\u043d\u043e \u043d\u0430 \u043b\u044e\u0431\u044b\u0435  \u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u0441\u043a\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f, \u0431\u0443\u0434\u044c \u0442\u043e \u0431\u0430\u043d\u044b \u0438\u043b\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u044b\u043b\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u044e\u0437\u0435\u0440\u0430 \u0447\u0435\u0440\u0435\u0437 \u043c\u0435\u0442\u043e\u0434\u044b  getChatMember \u0438\u043b\u0438  getChatAdministrators, \u0434\u0430 \u0435\u0449\u0451 \u0438 \u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439  \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u043a \u0432\u0440\u0435\u043c\u0435\u043d\u0438, \u0434\u0430\u0431\u044b \u043d\u0435 \u0443\u043f\u0435\u0440\u0435\u0442\u044c\u0441\u044f \u0432 \u043b\u0438\u043c\u0438\u0442\u044b Bot API, \u0442\u043e\u0447\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u0445 [\u043b\u0438\u043c\u0438\u0442\u043e\u0432] \u043f\u043e-\u043f\u0440\u0435\u0436\u043d\u0435\u043c\u0443 \u043e\u0441\u0442\u0430\u044e\u0442\u0441\u044f  \u0442\u0430\u0439\u043d\u043e\u0439 \u0437\u0430 \u0441\u0435\u043c\u044c\u044e \u043f\u0435\u0447\u0430\u0442\u044f\u043c\u0438. </p> <p>\u0418\u043b\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u0430\u043a\u043e\u0439-\u043d\u0438\u0431\u0443\u0434\u044c \u0445\u0438\u0442\u0440\u044b\u0439 \u044e\u0437\u0435\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u043b \u0431\u043e\u0442\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443, \u0443\u0431\u0438\u0440\u0430\u043b \u0443 \u0442\u043e\u0433\u043e \u043f\u0440\u0430\u0432\u043e \u043f\u0438\u0441\u0430\u0442\u044c \u0438 \u043d\u0430\u0447\u0438\u043d\u0430\u043b \u0434\u0451\u0440\u0433\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u044b,  \u043e\u0436\u0438\u0434\u0430\u044f, \u0447\u0442\u043e \u0431\u043e\u0442 \u043d\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0442\u0430\u043a\u0443\u044e \u043e\u0448\u0438\u0431\u043a\u0443 \u0438 \u0441\u043b\u043e\u043c\u0430\u0435\u0442\u0441\u044f. \u0410 \u0443\u0436 \u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u043e\u0439 \u0432 \u043b\u0438\u0447\u043a\u0443 \u0432\u043e\u043e\u0431\u0449\u0435 \u0432\u0435\u0441\u0435\u043b\u043e: \u043d\u0435 \u0437\u043d\u0430\u044f \u0442\u043e\u0447\u043d\u043e, \u043a\u0430\u043a\u0430\u044f  \u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0438\u044f \u0431\u043e\u0442\u0430, \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0443 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u043b\u043e\u0441\u044c \u043b\u0438\u0431\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u0430\u043a\u043e\u0435-\u043d\u0438\u0431\u0443\u0434\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432  \u0441\u0432\u043e\u0435\u0439 \u0431\u0430\u0437\u0435, \u043b\u0438\u0431\u043e, \u0447\u0442\u043e \u0447\u0443\u0442\u044c \u0433\u0443\u043c\u0430\u043d\u043d\u0435\u0435, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u044d\u0442\u0438\u043c \u044e\u0437\u0435\u0440\u0430\u043c \u043a\u0430\u043a\u043e\u0439-\u043d\u0438\u0431\u0443\u0434\u044c ChatAction, \u0442\u0438\u043f\u0430 \u00ab\u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0442\u2026\u00bb; \u043a\u0430\u043a \u0432\u044b\u044f\u0441\u043d\u0438\u043b\u043e\u0441\u044c,  \u0442\u0435\u043c, \u043a\u0442\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b \u0431\u043e\u0442\u0430, \u044d\u0442\u043e \u0441\u0430\u043c\u043e\u0435 \u00ab\u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0442\u2026\u00bb \u043d\u0435 \u043f\u0440\u0438\u0434\u0451\u0442, \u0432\u0435\u0440\u043d\u0443\u0432 \u043e\u0448\u0438\u0431\u043a\u0443 \u043e\u0442 Bot API.</p> <p>\u0412 \u043c\u0430\u0440\u0442\u0435 2021 \u0433\u043e\u0434\u0430 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f \u043a\u0430\u0440\u0434\u0438\u043d\u0430\u043b\u044c\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u0430\u0441\u044c \u0432 \u043b\u0443\u0447\u0448\u0443\u044e \u0441\u0442\u043e\u0440\u043e\u043d\u0443 \u0441 \u0440\u0435\u043b\u0438\u0437\u043e\u043c  \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f Bot API v5.1, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c  \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u043e\u0441\u044c \u0434\u0432\u0430 \u043d\u043e\u0432\u044b\u0445 \u0442\u0438\u043f\u0430 \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432: <code>my_chat_member</code> \u0438 <code>chat_member</code>. \u041e\u0431\u0430 \u0430\u043f\u0434\u0435\u0439\u0442\u0430 \u0432\u043d\u0443\u0442\u0440\u0438  \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 \u043e\u0434\u043d\u043e\u0433\u043e \u0438 \u0442\u043e\u0433\u043e \u0436\u0435 \u0442\u0438\u043f\u0430 ChatMemberUpdated.  \u0420\u0430\u0437\u043d\u0438\u0446\u0430 \u043c\u0435\u0436\u0434\u0443 \u044d\u0442\u0438\u043c\u0438 \u0434\u0432\u0443\u043c\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f\u043c\u0438 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f:</p> <ul> <li><code>my_chat_member</code>. \u0417\u0434\u0435\u0441\u044c \u0432\u0441\u0451, \u0447\u0442\u043e \u043a\u0430\u0441\u0430\u0435\u0442\u0441\u044f \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0431\u043e\u0442\u0430, \u043b\u0438\u0431\u043e \u041b\u0421 \u044e\u0437\u0435\u0440\u0430 \u0441 \u0431\u043e\u0442\u043e\u043c: (\u0440\u0430\u0437)\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0431\u043e\u0442\u0430 \u044e\u0437\u0435\u0440\u043e\u043c  \u0432 \u041b\u0421, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 \u0438\u043b\u0438 \u043a\u0430\u043d\u0430\u043b, \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u0442\u0443\u0434\u0430, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432 \u0431\u043e\u0442\u0430 \u0438 \u0435\u0433\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0447\u0430\u0442\u0430\u0445 \u0438 \u0442.\u0434.</li> <li><code>chat_member</code>. \u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0432\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 \u0438 \u043a\u0430\u043d\u0430\u043b\u0430\u0445, \u0433\u0434\u0435 \u0431\u043e\u0442 \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435  \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430: \u043f\u0440\u0438\u0445\u043e\u0434/\u0443\u0445\u043e\u0434 \u044e\u0437\u0435\u0440\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u044b, \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438/\u043e\u0442\u043f\u0438\u0441\u043a\u0438 \u0432 \u043a\u0430\u043d\u0430\u043b\u0430\u0445, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432 \u0438 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439,  \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435/\u0441\u043d\u044f\u0442\u0438\u0435 \u0430\u0434\u043c\u0438\u043d\u043e\u0432 \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435.</li> </ul> <p>\u0412\u0430\u0436\u043d\u043e</p> <p>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e Telegram \u043d\u0435 \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u0435\u0442 \u0431\u043e\u0442\u0430\u043c \u0430\u043f\u0434\u0435\u0439\u0442\u044b <code>chat_member</code>, \u0438\u0445 \u043f\u0440\u0438\u0451\u043c \u043d\u0430\u0434\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e. \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u2014  \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435</p> <p>\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u0433\u043b\u0430\u0432\u0435 \u043c\u044b \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u044d\u0442\u0438 \u0430\u043f\u0434\u0435\u0439\u0442\u044b \u043d\u0430 \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0447\u0430\u0441\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0437\u0430\u0434\u0430\u0447\u0430\u0445, \u043e\u0434\u043d\u0430\u043a\u043e \u043f\u0435\u0440\u0435\u0434 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u043e\u043c  \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0430\u043c \u043d\u0430\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441  \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\u0439  \u0438\u0437 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 aiogram 3.x.</p>"},{"location":"special-updates/#chatmemberupdated","title":"\u041e\u0431\u044a\u0435\u043a\u0442 ChatMemberUpdated","text":"<p>\u0421\u0430\u043c \u043f\u043e \u0441\u0435\u0431\u0435 \u043e\u0431\u044a\u0435\u043a\u0442 ChatMemberUpdated \u0437\u0430\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u0435\u0442 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e  \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u044f. \u0427\u0442\u043e\u0431\u044b \u0438\u0437\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e \u043f\u043e\u0431\u043b\u0438\u0436\u0435, \u043f\u0440\u0435\u0434\u043f\u043e\u043b\u043e\u0436\u0438\u043c, \u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0410\u043b\u0438\u0441\u0430 \u0437\u0430\u0431\u0430\u043d\u0438\u043b\u0430  \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u0412\u0438\u0442\u044e. \u0421 \u043f\u043e\u043b\u044f\u043c\u0438 <code>chat</code> \u0438 <code>date</code> \u0432\u0441\u0451 \u043e\u0447\u0435\u0432\u0438\u0434\u043d\u043e, \u0438\u0445 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043c.</p> <p>\u041f\u043e\u043b\u0435 <code>from</code> (\u0432 \u0432\u0430\u0448\u0435\u043c Python-\u043a\u043e\u0434\u0435 \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 <code>from_user</code>) \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f. \u0412 \u043d\u0430\u0448\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u0441\u0443\u0431\u044a\u0435\u043a\u0442  \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u2014 \u044d\u0442\u043e \u0410\u043b\u0438\u0441\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0432\u043e <code>from</code> (<code>from_user</code>) \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 User \u0441  \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043e\u0431 \u0410\u043b\u0438\u0441\u0435.</p> <p><code>old_chat_member</code> \u0438 <code>new_chat_member</code>. \u041f\u043e\u0434 \u044d\u0442\u0438\u043c\u0438 \u043f\u043e\u043b\u044f\u043c\u0438 \u0441\u043a\u0440\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u00ab\u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u00bb  \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0414\u041e \u0438 \u041f\u041e\u0421\u041b\u0415 \u0441\u043e\u0431\u044b\u0442\u0438\u044f. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u0432 <code>old_chat_member</code> \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442 \u0441 \u0442\u0438\u043f\u043e\u043c  ChatMemberMember (\u044d\u0442\u043e \u043d\u0435 \u043e\u043f\u0435\u0447\u0430\u0442\u043a\u0430), \u0438 \u043f\u043e\u043b\u0435\u043c <code>user</code> \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439  \u043e \u0412\u0438\u0442\u0435, \u0430 \u0432 <code>new_chat_member</code> \u2014 \u043e\u0431\u044a\u0435\u043a\u0442 ChatMemberBanned \u0441 \u043f\u043e\u043b\u0435\u043c  <code>user</code> \u0432\u0441\u0451 \u043f\u0440\u043e \u0442\u043e\u0433\u043e \u0436\u0435 \u043d\u0435\u0441\u0447\u0430\u0441\u0442\u043d\u043e\u0433\u043e \u0412\u0438\u043a\u0442\u043e\u0440\u0430.</p> <p>\u041d\u0430\u043a\u043e\u043d\u0435\u0446, \u0435\u0441\u043b\u0438 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 \u0438\u043b\u0438 \u043a\u0430\u043d\u0430\u043b \u0432\u0441\u0442\u0443\u043f\u0438\u043b\u0430 \u0443\u0441\u043b\u043e\u0432\u043d\u0430\u044f \u041c\u0430\u0448\u0430, \u0442\u043e \u0432 \u043e\u0431\u044a\u0435\u043a\u0442\u0435 ChatMemberUpdated \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435  <code>invite_link</code>, \u0441 \u0442\u0438\u043f\u043e\u043c ChatInviteLink \u0438 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f\u043c\u0438 \u043e \u0442\u043e\u043c,  \u043f\u043e \u043a\u0430\u043a\u043e\u0439 \u0438\u043c\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0435 \u043e\u043d\u0430 \u043f\u0440\u0438\u0448\u043b\u0430. </p> <p>\u041e \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0441\u044b\u043b\u043a\u0430\u0445</p> <p>\u0417\u0434\u0435\u0441\u044c \u0441\u0442\u043e\u0438\u0442 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u0430\u0436\u043d\u0443\u044e \u0440\u0435\u043c\u0430\u0440\u043a\u0443: \u043a\u0430\u0436\u0434\u044b\u0439 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440  \u0433\u0440\u0443\u043f\u043f\u044b/\u043a\u0430\u043d\u0430\u043b\u0430 (\u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0431\u043e\u0442\u043e\u0432) \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0441\u044b\u043b\u043e\u043a \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438. \u0415\u0441\u043b\u0438 \u0431\u043e\u0442  \u00ab\u043f\u043e\u0439\u043c\u0430\u043b\u00bb \u0432\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430 \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0439 \u0438\u043c [\u0431\u043e\u0442\u043e\u043c] \u0436\u0435 \u0441\u0441\u044b\u043b\u043a\u0435, \u0442\u043e \u0432 \u043f\u043e\u043b\u0435 <code>invite_link</code> \u043e\u0431\u044a\u0435\u043a\u0442\u0430 ChatInviteLink  \u0431\u0443\u0434\u0435\u0442 \u0432\u0438\u0434\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430 \u0446\u0435\u043b\u0438\u043a\u043e\u043c (\u0431\u0435\u0437 <code>https://t.me</code>, \u0440\u0430\u0437\u0443\u043c\u0435\u0435\u0442\u0441\u044f). \u041d\u043e \u0435\u0441\u043b\u0438 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u043f\u0440\u0438\u0448\u0451\u043b \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u0434\u0440\u0443\u0433\u043e\u0433\u043e  \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430, \u0442\u043e \u0431\u043e\u0442 \u0443\u0432\u0438\u0434\u0438\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0435\u0440\u0432\u0443\u044e \u0447\u0430\u0441\u0442\u044c, \u0432\u0442\u043e\u0440\u0430\u044f \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043c\u0435\u043d\u0435\u043d\u0430 \u043d\u0430 \u043c\u043d\u043e\u0433\u043e\u0442\u043e\u0447\u0438\u0435. </p> <p>\u0412\u0435\u0440\u043e\u044f\u0442\u043d\u0435\u0435 \u0432\u0441\u0435\u0433\u043e, \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0431\u043e\u0442\u044b \u043d\u0435 \u043c\u043e\u0433\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043c\u0443 \u043f\u043e\u043f\u0430\u043b\u043e \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438,  \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430\u043c\u0438 \u0447\u0430\u0442\u0430.</p> <p>\u041a\u0441\u0442\u0430\u0442\u0438, \u043f\u043e \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u0441\u0442\u0440\u0430\u043d\u043d\u043e\u0439 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c\u043d\u043e\u0439 \u043b\u043e\u0433\u0438\u043a\u0435, \u0435\u0441\u043b\u0438 \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u0443\u044e \u0433\u0440\u0443\u043f\u043f\u0443 \u043f\u043e \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0435  (\u0434\u0430\u0436\u0435 \u043d\u0435 \u043f\u043e \u044e\u0437\u0435\u0440\u043d\u0435\u0439\u043c\u0443), \u0442\u043e \u0431\u043e\u0442 \u043d\u0435 \u0443\u0432\u0438\u0434\u0438\u0442 \u0441\u0441\u044b\u043b\u043a\u0443 (\u043f\u043e\u043b\u0443\u0447\u0438\u0442 <code>None</code>). \u0422\u0435\u043b\u0435\u0433\u0430 \ud83e\udd37\u200d\u2642\ufe0f</p>"},{"location":"special-updates/#my-chat-member","title":"\u0410\u043f\u0434\u0435\u0439\u0442 my_chat_member","text":""},{"location":"special-updates/#ban-unban-pm","title":"\u0411\u0430\u043d\u044b/\u0440\u0430\u0437\u0431\u0430\u043d\u044b \u0432 \u041b\u0421","text":"<p>\u0412 \u043f\u0440\u043e\u0444\u0438\u043b\u044c\u043d\u044b\u0445 \u0447\u0430\u0442\u0430\u0445 \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u0432\u043e\u043f\u0440\u043e\u0441: \u00ab\u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0431\u043e\u0442\u0430,  \u0435\u0441\u043b\u0438 \u043a\u0442\u043e-\u0442\u043e \u043c\u043e\u0433 \u0435\u0433\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c?\u00bb. \u0420\u0430\u0437\u0443\u043c\u0435\u0435\u0442\u0441\u044f, \u043f\u0435\u0440\u0432\u044b\u043c \u0438 \u0433\u043b\u0430\u0432\u043d\u044b\u043c \u0441\u043e\u0432\u0435\u0442\u043e\u043c \u0431\u0443\u0434\u0435\u0442:  \u00ab\u0441\u043e\u0437\u0434\u0430\u0439 \u043a\u0430\u043d\u0430\u043b\u00bb, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043a\u0430\u043d\u0430\u043b\u044b \u2014 \u044d\u0442\u043e \u043b\u0443\u0447\u0448\u0438\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0438\u043d\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439  \u043e \u0447\u0451\u043c-\u043b\u0438\u0431\u043e.</p> <p>\u041d\u043e \u0435\u0441\u043b\u0438 \u0432\u044b \u0432\u0441\u0451 \u0436\u0435 \u0442\u0432\u0451\u0440\u0434\u043e \u0440\u0435\u0448\u0438\u043b\u0438, \u0447\u0442\u043e \u0431\u0443\u0434\u0435\u0442\u0435 \u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u043f\u0440\u044f\u043c\u043e \u0447\u0435\u0440\u0435\u0437 \u0431\u043e\u0442\u0430, \u0442\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0442\u0440\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445  \u0441\u043f\u043e\u0441\u043e\u0431\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0431\u043e\u0442\u0430:</p> <ol> <li>\u041d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438 \u043f\u0443\u0442\u0451\u043c \u043e\u0442\u043b\u043e\u0432\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0438 \u0432\u043d\u0435\u0441\u0435\u043d\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445  \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.</li> <li>\u0427\u0435\u0440\u0435\u0437 \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u043a\u0430\u043a\u043e\u0433\u043e-\u043b\u0438\u0431\u043e ChatAction,  \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u00ab\u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0442\u00bb \u043f\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.</li> <li>\u041f\u0440\u043e\u0441\u043b\u0443\u0448\u0438\u0432\u0430\u043d\u0438\u0435\u043c \u0430\u043f\u0434\u0435\u0439\u0442\u0430 my_chat_member.</li> </ol> <p>\u0421\u0435\u0439\u0447\u0430\u0441 \u043d\u0430\u0441 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f.3. \u041d\u0430\u0443\u0447\u0438\u043c\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e <code>my_chat_member</code> \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c, \u0447\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c  \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b \u0438\u043b\u0438 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b \u0431\u043e\u0442\u0430. \u041d\u043e \u043f\u0440\u0435\u0436\u0434\u0435, \u0447\u0435\u043c \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u043c \u00ab\u043c\u0430\u0433\u0438\u044e\u00bb aiogram, \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c\u0441\u044f, \u043a\u0430\u043a \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044b\u0435 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438  \u0432\u044b\u0433\u043b\u044f\u0434\u044f\u0442 \u0432 \u0441\u0430\u043c\u043e\u043c Bot API. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441 \u0431\u043e\u0442\u043e\u043c, \u043e\u0442\u043a\u0440\u043e\u0435\u043c \u0434\u0438\u0430\u043b\u043e\u0433 \u0441 \u043d\u0438\u043c \u0432 Telegram \u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e  \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u043c \u0438 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u043c, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043e\u043f\u0446\u0438\u0438 \u0432 UI \u043c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440\u0430. \u0414\u0430\u043b\u0435\u0435 \u043e\u0442\u043a\u0440\u043e\u0435\u043c \u0432\u0435\u0431-\u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438\u043b\u0438 \u043a\u0430\u043a\u043e\u0439-\u043d\u0438\u0431\u0443\u0434\u044c  Insomnia/Postman \u0438 \u043f\u0435\u0440\u0435\u0439\u0434\u0451\u043c \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 <code>https://api.telegram.org/bot&lt;TOKEN&gt;/getupdates</code>, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0435\u0449\u0451 \u043d\u0435  \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 JSON.</p> <p>\u0418\u0442\u0430\u043a, \u0432\u043e\u0442 \u0447\u0442\u043e \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0431\u043e\u0442\u0443, \u043a\u043e\u0433\u0434\u0430 \u043a\u0442\u043e-\u0442\u043e \u0435\u0433\u043e \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442:</p> <p></p> <p>\u041d\u0430 \u0447\u0442\u043e \u043d\u0430\u0434\u043e \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435:</p> <ul> <li>\u0421\u043e\u0431\u044b\u0442\u0438\u0435 <code>my_chat_member</code> \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u043e \u0432 \u041b\u0421 \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c Groosha (chat_id \u0440\u0430\u0432\u0435\u043d \u043c\u043e\u0435\u043c\u0443 Telegram ID).</li> <li>\u0418\u043d\u0438\u0446\u0438\u0430\u0442\u043e\u0440 (\u0441\u0443\u0431\u044a\u0435\u043a\u0442) \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u2014 \u0442\u043e\u0436\u0435 Groosha.</li> <li>\u0412 \u043f\u043e\u043b\u0435 <code>old_chat_member</code> \u0432\u0438\u0434\u043d\u043e, \u043d\u0430\u0434 \u043a\u0435\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 (\u043d\u0430\u0434 \u0431\u043e\u0442\u043e\u043c) \u0438 \u043a\u0430\u043a\u043e\u0439 \u0441\u0442\u0430\u0442\u0443\u0441 \u0431\u043e\u0442\u0430 \u0432 \u041b\u0421 \u0431\u044b\u043b \u0414\u041e: \"member\",  \u0442.\u0435. \u0431\u043e\u0442 \u041d\u0415 \u0431\u044b\u043b \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d \u0440\u0430\u043d\u0435\u0435.</li> <li>\u0412 \u043f\u043e\u043b\u0435 <code>new_chat_member</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 <code>user</code> \u0442\u043e \u0436\u0435 \u0441\u0430\u043c\u043e\u0435, \u0430 \u0432\u043e\u0442 \u0441\u0442\u0430\u0442\u0443\u0441 \u0443\u0436\u0435 \"kicked\", \u0442.\u0435. \u041f\u041e\u0421\u041b\u0415 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0431\u043e\u0442 \u0431\u044b\u043b  \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c.</li> </ul> <p>\u0422\u043e \u0435\u0441\u0442\u044c, \u0431\u043e\u0442 \u0432 \u041b\u0421 \u0441 Groosha \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u043b \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0438\u0437 \"member\" \u0432 \"kicked\". \u0422\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c, \u0447\u0442\u043e \u043f\u0440\u0438\u0448\u043b\u043e \u043e\u0442  Telegram \u043f\u043e\u0441\u043b\u0435 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438:</p> <p></p> <p>\u042d\u0442\u043e\u0442 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442 \u043f\u043e\u0445\u043e\u0436 \u043d\u0430 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439, \u043d\u043e \u0435\u0441\u043b\u0438 \u043f\u0440\u0438\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c\u0441\u044f, \u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043c\u0435\u0442\u0438\u0442\u044c \u0440\u0430\u0437\u043d\u0438\u0446\u0443: \u0434\u0440\u0443\u0433\u043e\u0439 <code>update_id</code>  (\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u043b\u0441\u044f \u043d\u0430 \u0435\u0434\u0438\u043d\u0438\u0446\u0443), \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b \u0414\u041e \u0438 \u041f\u041e\u0421\u041b\u0415 \u043f\u043e\u043c\u0435\u043d\u044f\u043b\u0438\u0441\u044c \u043c\u0435\u0441\u0442\u0430\u043c\u0438. \u0411\u043e\u0442 \u0432 \u041b\u0421 \u0441 Groosha \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u043b \u043f\u0435\u0440\u0435\u0445\u043e\u0434  \u0438\u0437 \"kicked\" \u0432 \"member\". \u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e, \u043e\u0431\u044b\u0447\u043d\u043e \u0440\u044f\u0434\u043e\u043c \u0431\u0443\u0434\u0435\u0442 \u0435\u0449\u0451 \u043e\u0434\u0438\u043d \u0430\u043f\u0434\u0435\u0439\u0442 \u0443\u0436\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c <code>message</code> \u0438 \u0441 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 <code>/start</code>  \u0432 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u043c. \u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043f\u0440\u0438 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0435 \u0431\u043e\u0442\u0430 \u0441\u0440\u0430\u0437\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/start</code>, \u043d\u043e \u043d\u0435 \u0441\u0442\u043e\u0438\u0442 \u043d\u0430 \u044d\u0442\u043e  \u043f\u043e\u043b\u0430\u0433\u0430\u0442\u044c\u0441\u044f: \u043f\u043e\u0434\u043e\u0431\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043e\u0441\u0442\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u043e\u0442\u043a\u0443\u043f \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0432\u0435\u0441\u0442\u0438 \u0441\u0435\u0431\u044f \u043f\u043e-\u0440\u0430\u0437\u043d\u043e\u043c\u0443.</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u0443\u0447\u0438\u043c\u0441\u044f \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0442\u0430\u043a\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0447\u0435\u0440\u0435\u0437 aiogram \u043d\u0430 \u043f\u0440\u043e\u0441\u0442\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435: \u043f\u0443\u0441\u0442\u044c \u0443 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u0437 \u0434\u0432\u0443\u0445 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445  \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0431\u043e\u0442\u0430 \u0441 \u0430\u0439\u0434\u0438 111 \u0438 222. \u041f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0435 <code>/start</code> \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u044e\u0437\u0435\u0440\u0430 \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438, \u0430 \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0435 <code>/users</code> \u0431\u0443\u0434\u0435\u043c  \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u0430\u0439\u0434\u0438 \u0442\u0435\u0445, \u043a\u0442\u043e \u043d\u0435 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b \u0431\u043e\u0442\u0430 (\u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438, \u043f\u0440\u0438 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0435 \u0431\u043e\u0442\u0430 \u0431\u0443\u0434\u0435\u043c \u0443\u0431\u0438\u0440\u0430\u0442\u044c \u0430\u0439\u0434\u0438 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430, \u0430  \u043f\u0440\u0438 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0435 \u0441\u043d\u043e\u0432\u0430 \u0434\u043e\u0431\u0430\u0432\u0438\u043c).</p> <p>\u0412\u043e\u0442 \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0440\u043e\u0443\u0442\u0435\u0440 \u043f\u043e\u0434 \u0432\u044b\u0448\u0435\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f:</p> handlers/in_pm.py<pre><code>from aiogram import F, Router\nfrom aiogram.filters.chat_member_updated import \\\n    ChatMemberUpdatedFilter, MEMBER, KICKED\nfrom aiogram.filters.command import \\\n    CommandStart, Command\nfrom aiogram.types import ChatMemberUpdated, Message\n\nrouter = Router()\nrouter.my_chat_member.filter(F.chat.type == \"private\")\nrouter.message.filter(F.chat.type == \"private\")\n\n# \u0418\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u0430!\n# \u0412 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0439 \u0436\u0438\u0437\u043d\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0431\u043e\u043b\u0435\u0435 \u043d\u0430\u0434\u0451\u0436\u043d\u044b\u0435\n# \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0438 \u0430\u0439\u0434\u0438 \u044e\u0437\u0435\u0440\u043e\u0432\nusers = {111, 222}\n\n\n@router.my_chat_member(\n    ChatMemberUpdatedFilter(member_status_changed=KICKED)\n)\nasync def user_blocked_bot(event: ChatMemberUpdated):\n    users.discard(event.from_user.id)\n\n\n@router.my_chat_member(\n    ChatMemberUpdatedFilter(member_status_changed=MEMBER)\n)\nasync def user_unblocked_bot(event: ChatMemberUpdated):\n    users.add(event.from_user.id)\n\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.answer(\"Hello\")\n    users.add(message.from_user.id)\n\n\n@router.message(Command(\"users\"))\nasync def cmd_users(message: Message):\n    await message.answer(\"\\n\".join(f\"\u2022 {user_id}\" for user_id in users))\n</code></pre> <p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435: \u0434\u043b\u044f \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u043d\u0430 \u0430\u043f\u0434\u0435\u0439\u0442 <code>my_chat_member</code> \u043c\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0444\u0438\u043b\u044c\u0442\u0440 <code>ChatMemberUpdatedFilter</code> \u0441  \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u043e\u0442\u043b\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c\u043e\u0433\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u041f\u041e\u0421\u041b\u0415 (\u0442.\u0435. \u0430\u0442\u0440\u0438\u0431\u0443\u0442 <code>new_chat_member</code> \u0443 \u0430\u043f\u0434\u0435\u0439\u0442\u0430). \u0422.\u0435. \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0441  \u043d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442, \u0432 \u043a\u0430\u043a\u043e\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u0431\u044b\u043b \u044e\u0437\u0435\u0440 \u0414\u041e.</p> <p>\u0418 \u0432\u043e\u0442 \u043a\u0430\u043a \u044d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0435:</p> <p></p>"},{"location":"special-updates/#bot-added-to-group","title":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443","text":"<p>\u0415\u0449\u0451 \u0447\u0430\u0441\u0442\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u043e\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0445 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432: \u00ab\u043a\u0430\u043a \u043f\u043e\u0439\u043c\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443?\u00bb. \u0427\u0442\u043e \u0436,  \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0440\u0430\u0437\u0431\u0438\u0440\u0430\u0442\u044c\u0441\u044f. \u041d\u043e \u043f\u0435\u0440\u0435\u0434 \u044d\u0442\u0438\u043c \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c, \u043a\u0430\u043a\u0438\u0435 \u0432\u043e\u043e\u0431\u0449\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c  \u00ab\u0441\u0442\u0430\u0442\u0443\u0441\u044b\u00bb \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:</p> <ul> <li>creator (\u043e\u043d \u0436\u0435 owner) \u2014 \u0432\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u0447\u0430\u0442\u0430. \u0421\u0443\u0434\u044f \u043f\u043e \u0432\u0441\u0435\u043c\u0443, \u0431\u043e\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0442\u0430\u043a\u043e\u0439 \u0441\u0442\u0430\u0442\u0443\u0441. \u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u0431\u0435\u0437\u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u043e \u0438\u043c\u0435\u0435\u0442  \u0432\u0441\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0430 \u0432 \u0447\u0430\u0442\u0435, \u043a\u0440\u043e\u043c\u0435 \u00ab\u0430\u043d\u043e\u043d\u0438\u043c\u043d\u043e\u0441\u0442\u0438\u00bb, \u043e\u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0442\u0443\u0434\u0430-\u0441\u044e\u0434\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e.</li> <li>administrator \u2014 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440. \u0412 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043c\u043e\u0436\u043d\u043e \u0443\u0431\u0440\u0430\u0442\u044c \u0435\u043c\u0443 \u0432\u043e\u043e\u0431\u0449\u0435 \u0432\u0441\u0435 \u043f\u0440\u0430\u0432\u0430,  \u043d\u043e \u043e\u043d \u0432\u0441\u0451 \u0440\u0430\u0432\u043d\u043e \u043e\u0441\u0442\u0430\u043d\u0435\u0442\u0441\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c \u0438 \u0441\u043c\u043e\u0436\u0435\u0442, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0447\u0438\u0442\u0430\u0442\u044c Recent Actions \u0438 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c slow mode.</li> <li>member \u2014 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a \u0447\u0430\u0442\u0430 \u0441 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. \u0423\u0437\u043d\u0430\u0442\u044c \u044d\u0442\u0438 \u00ab\u043f\u0440\u0430\u0432\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\u00bb \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441 \u0433\u0440\u0443\u043f\u043f\u0430\u043c\u0438 \u043c\u043e\u0436\u043d\u043e, \u0432\u044b\u0437\u0432\u0430\u0432  API-\u043c\u0435\u0442\u043e\u0434 getChat \u0438 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0432 \u043f\u043e\u043b\u0435 <code>permissions</code>.</li> <li>restricted \u2014 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0439 \u0432 \u043a\u0430\u043a\u0438\u0445-\u0442\u043e \u043f\u0440\u0430\u0432\u0430\u0445. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0439\u0441\u044f \u0432 \u0442.\u043d. \"read-only\".  \u0412\u0410\u0416\u041d\u041e: \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 <code>restricted</code> \u044e\u0437\u0435\u0440 \u043c\u043e\u0436\u0435\u0442 \u043a\u0430\u043a \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0435, \u0442\u0430\u043a \u0438 \u043d\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f, \u043f\u043e\u044d\u0442\u043e\u043c\u0443  \u0443 ChatMemberRestricted \u043d\u0430\u0434\u043e \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u0444\u043b\u0430\u0433 <code>is_member</code>.</li> <li>left \u2014 \u00ab\u043e\u043d \u0443\u043b\u0435\u0442\u0435\u043b, \u043d\u043e \u043e\u0431\u0435\u0449\u0430\u043b \u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f\u00bb, \u0442.\u0435. \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u044b\u0448\u0435\u043b \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b,  \u043d\u043e \u043f\u0440\u0438 \u0436\u0435\u043b\u0430\u043d\u0438\u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043d\u043e\u0432\u0430 \u0437\u0430\u0439\u0442\u0438. \u0418 \u043d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u044b\u0445\u043e\u0434\u0430 \u043e\u043d \u043d\u0435 \u0431\u044b\u043b \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 <code>restricted</code>.</li> <li>banned \u2014 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0431\u0430\u043d\u0435\u043d \u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e, \u043f\u043e\u043a\u0430 \u0435\u0433\u043e  \u043d\u0435 \u0440\u0430\u0437\u0431\u0430\u043d\u044f\u0442.</li> </ul> <p>\u0418\u043c\u0435\u044f \u043f\u043e\u0434 \u0440\u0443\u043a\u043e\u0439 \u0432\u044b\u0448\u0435\u0438\u0437\u043b\u043e\u0436\u0435\u043d\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e, \u043d\u0435\u0442\u0440\u0443\u0434\u043d\u043e \u0434\u043e\u0433\u0430\u0434\u0430\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u00ab\u0431\u043e\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443\u00bb \u2014 \u044d\u0442\u043e \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u0438\u0437  \u043d\u0430\u0431\u043e\u0440\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439 <code>{banned, left, restricted(is_member=False)}</code>  \u0432 \u043d\u0430\u0431\u043e\u0440 <code>{restricted(is_member=True), member, administrator}</code>. \u0422\u0430\u043a\u043e\u0439 \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u043f\u043e-\u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438 \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f transition, \u0438  \u0432 aiogram 3.x \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0437\u0430\u0433\u043e\u0442\u043e\u0432\u043a\u0438. </p> <p>\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u21161: \u0442\u0443\u043f\u043e \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0438\u043c \u0432\u0441\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0414\u041e \u0438 \u041f\u041e\u0421\u041b\u0415:</p> <pre><code># \u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0435\u043c \u0438\u043c\u043f\u043e\u0440\u0442\u044b:\nfrom aiogram.filters.chat_member_updated import \\\n    ChatMemberUpdatedFilter, KICKED, LEFT, MEMBER, \\\n    RESTRICTED, ADMINISTRATOR, CREATOR\n\n@router.my_chat_member(\n    ChatMemberUpdatedFilter(\n        member_status_changed=\n        (KICKED | LEFT | -RESTRICTED)\n        &gt;&gt;\n        (+RESTRICTED | MEMBER | ADMINISTRATOR | CREATOR)\n    )\n)\n</code></pre> <p>\u0412\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u0447\u0435\u0440\u0442\u0430 \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \"\u0438\u043b\u0438\", \u0431\u0438\u0442\u043e\u0432\u044b\u0439 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \"&gt;&gt;\" \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430,  \u0430 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u00ab\u043f\u043b\u044e\u0441\u00bb \u0438 \u00ab\u043c\u0438\u043d\u0443\u0441\u00bb \u043e\u043a\u043e\u043b\u043e RESTRICTED \u043e\u0442\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u043a \u0444\u043b\u0430\u0433\u0443 <code>is_member</code> (\u043f\u043b\u044e\u0441 - True, \u043c\u0438\u043d\u0443\u0441 - False).</p> <p>\u041d\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a aiogram \u043f\u043e\u0448\u0451\u043b \u0434\u0430\u043b\u044c\u0448\u0435 \u0438 \u043e\u0431\u0435\u0440\u043d\u0443\u043b \u044d\u0442\u0438 \u0434\u0432\u0430 \u043d\u0430\u0431\u043e\u0440\u0430 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f <code>IS_NOT_MEMBER</code> \u0438 <code>IS_MEMBER</code>  \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e. \u0423\u043f\u0440\u043e\u0441\u0442\u0438\u043c \u043d\u0430\u0448 \u043a\u043e\u0434 \u0432 \u0432\u0438\u0434\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430 \u21162:</p> <pre><code># \u041d\u0435\u043c\u043d\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u0438\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u044b\nfrom aiogram.filters.chat_member_updated import \\\n    ChatMemberUpdatedFilter, IS_NOT_MEMBER, IS_MEMBER\n\n@router.my_chat_member(\n    ChatMemberUpdatedFilter(\n        member_status_changed=\n        IS_NOT_MEMBER &gt;&gt; IS_MEMBER\n    )\n)\n</code></pre> <p>\u041d\u043e \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443, \u043f\u043e\u0432\u0442\u043e\u0440\u044e\u0441\u044c, \u0442\u0430\u043a\u043e\u0439 \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0447\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u0431\u043e\u0442\u0430\u0445, \u0442\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u043f\u043e\u0448\u0451\u043b \u0435\u0449\u0451 \u0434\u0430\u043b\u044c\u0448\u0435 \u0438  \u043e\u0431\u0435\u0440\u043d\u0443\u043b \u0442\u0430\u043a\u043e\u0439 \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u0432 \u0432\u0438\u0434\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 <code>JOIN_TRANSITION</code>, \u043f\u043e\u043b\u0443\u0447\u0438\u0432 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u21163:</p> <pre><code># \u0418 \u0435\u0449\u0451 \u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u0432\nfrom aiogram.filters.chat_member_updated import \\\n    ChatMemberUpdatedFilter, JOIN_TRANSITION\n\n@router.my_chat_member(\n    ChatMemberUpdatedFilter(\n        member_status_changed=JOIN_TRANSITION\n    )\n)\n</code></pre> <p>\u041d\u0430\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u043d\u0430\u0431\u043e\u0440\u0430\u043c\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439 \u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u043e\u0432  \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438, \u0447\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c  \u0441\u0432\u043e\u0439 \u043a\u043e\u0434 \u0447\u0438\u0449\u0435.</p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0435\u0449\u0451 \u043e\u0434\u0438\u043d \u0440\u043e\u0443\u0442\u0435\u0440, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0431\u0443\u0434\u0443\u0442 \u0434\u0432\u0430 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0430, \u0440\u0435\u0430\u0433\u0438\u0440\u0443\u044e\u0449\u0438\u0435 \u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u043e\u0442\u0430  \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 \u0438\u043b\u0438 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0443 \u0432 \u0440\u043e\u043b\u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u0438 \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430.  \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0431\u0443\u0434\u0435\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0432 \u0447\u0430\u0442 \u0441\u0432\u043e\u0434\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0442\u043e\u043c, \u043a\u0443\u0434\u0430 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0431\u043e\u0442\u0430:</p> handlers/bot_in_group.py<pre><code>from aiogram import F, Router\nfrom aiogram.filters.chat_member_updated import \\\n    ChatMemberUpdatedFilter, IS_NOT_MEMBER, MEMBER, ADMINISTRATOR\nfrom aiogram.types import ChatMemberUpdated\n\nrouter = Router()\nrouter.my_chat_member.filter(F.chat.type.in_({\"group\", \"supergroup\"}))\n\nchats_variants = {\n    \"group\": \"\u0433\u0440\u0443\u043f\u043f\u0443\",\n    \"supergroup\": \"\u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0443\"\n}\n\n\n# \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0441\u043b\u0443\u0447\u0430\u0439 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u0430 \u043a\u0430\u043a Restricted,\n# \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0441 \u043d\u0438\u043c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442\n\n\n@router.my_chat_member(\n    ChatMemberUpdatedFilter(\n        member_status_changed=IS_NOT_MEMBER &gt;&gt; ADMINISTRATOR\n    )\n)\nasync def bot_added_as_admin(event: ChatMemberUpdated):\n    # \u0421\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u043b\u0443\u0447\u0430\u0439: \u0431\u043e\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a\u0430\u043a \u0430\u0434\u043c\u0438\u043d.\n    # \u041b\u0435\u0433\u043a\u043e \u043c\u043e\u0436\u0435\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\n    await event.answer(\n        text=f\"\u041f\u0440\u0438\u0432\u0435\u0442! \u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043c\u0435\u043d\u044f \u0432 \"\n             f'{chats_variants[event.chat.type]} \"{event.chat.title}\" '\n             f\"\u043a\u0430\u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430. ID \u0447\u0430\u0442\u0430: {event.chat.id}\"\n    )\n\n\n@router.my_chat_member(\n    ChatMemberUpdatedFilter(\n        member_status_changed=IS_NOT_MEMBER &gt;&gt; MEMBER\n    )\n)\nasync def bot_added_as_member(event: ChatMemberUpdated, bot: Bot):\n    # \u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u043f\u043e\u0441\u043b\u043e\u0436\u043d\u0435\u0435: \u0431\u043e\u0442\u0430 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043a\u0430\u043a \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430.\n    # \u041d\u043e \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0437\u0430\u0440\u0430\u043d\u0435\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u043c.\n    chat_info = await bot.get_chat(event.chat.id)\n    if chat_info.permissions.can_send_messages:\n        await event.answer(\n            text=f\"\u041f\u0440\u0438\u0432\u0435\u0442! \u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u043c\u0435\u043d\u044f \u0432 \"\n                 f'{chats_variants[event.chat.type]} \"{event.chat.title}\" '\n                 f\"\u043a\u0430\u043a \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430. ID \u0447\u0430\u0442\u0430: {event.chat.id}\"\n        )\n    else:\n        print(\"\u041a\u0430\u043a-\u043d\u0438\u0431\u0443\u0434\u044c \u043b\u043e\u0433\u0438\u0440\u0443\u0435\u043c \u044d\u0442\u0443 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044e\")\n</code></pre> <p>\u041d\u043e, \u043a\u0430\u043a \u0438 \u0432\u0441\u0435\u0433\u0434\u0430, \u0435\u0441\u0442\u044c \u043d\u044e\u0430\u043d\u0441, \u0438 \u0447\u0442\u043e\u0431\u044b \u0435\u0433\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u043d\u0430\u0434\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043e\u0442\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443,  \u0430 \u0437\u0430\u0442\u0435\u043c \u0441\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0451 \u0432 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0443. \u0414\u043b\u044f \u043d\u0430\u0433\u043b\u044f\u0434\u043d\u043e\u0441\u0442\u0438, \u044f \u0441\u043e\u0437\u0434\u0430\u043b \u0433\u0440\u0443\u043f\u043f\u0443  \u0441\u043e \u0441\u0432\u043e\u0438\u043c \u0431\u043e\u0442\u043e\u043c @my_id_bot, \u0430 \u0437\u0430\u0442\u0435\u043c \u0434\u043e\u0431\u0430\u0432\u0438\u043b \u0442\u0443\u0434\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0431\u043e\u0442\u0430 \u0441 \u043a\u043e\u0434\u043e\u043c, \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u043c \u0432\u044b\u0448\u0435.  \u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443:</p> <p></p> <p>\u041e\u0439, \u043f\u043e\u0447\u0435\u043c\u0443-\u0442\u043e \u0431\u043e\u0442 \u043e\u0442\u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u043b \u0442\u0430\u043a, \u043a\u0430\u043a \u0431\u0443\u0434\u0442\u043e \u0435\u0433\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438, \u0445\u043e\u0442\u044f \u0432\u0440\u043e\u0434\u0435 \u043a\u0430\u043a \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e\u0441\u044c.  \u041d\u0430 \u0434\u0435\u043b\u0435, \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u0432 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0443 \u0434\u043b\u044f \u0431\u043e\u0442\u0430 \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043a\u0430\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u043d\u043e\u0432\u044b\u0439 \u0447\u0430\u0442. \u041a \u0441\u0447\u0430\u0441\u0442\u044c\u044e, \u0432  \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u043e\u0442\u0443 \u0442\u0430\u043a\u0436\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 Message \u0441 \u043d\u0435\u043f\u0443\u0441\u0442\u044b\u043c\u0438 \u043f\u043e\u043b\u044f\u043c\u0438  <code>migrate_from_chat_id</code> \u0438 <code>migrate_to_chat_id</code>. \u0410 \u0434\u0430\u043b\u044c\u0448\u0435 \u0434\u0435\u043b\u043e \u0437\u0430 \u043c\u0430\u043b\u044b\u043c: \u043f\u0440\u0438 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f <code>my_chat_member</code>  \u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0443 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c, \u0447\u0442\u043e \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0432\u0440\u0435\u043c\u044f (\u0441\u043a\u0430\u0436\u0435\u043c, \u0437\u0430 \u043f\u0430\u0440\u0443 \u0441\u0435\u043a\u0443\u043d\u0434) \u043d\u0435 \u0431\u044b\u043b\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439  \u0441 \u043d\u0435\u043f\u0443\u0441\u0442\u044b\u043c \u043f\u043e\u043b\u0435\u043c <code>migrate_to_chat_id</code>.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0432\u044b\u0448\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0438 \u0431\u043e\u043b\u0435\u0435 \u0442\u043e\u0433\u043e, \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e \u0432 \u043c\u043e\u0451\u043c @my_id_bot:  \u0432\u043e\u0442 \u0442\u0430\u043a (\u0437\u0432\u0451\u0437\u0434\u043e\u0447\u043a\u0438 \u043d\u0430 \u0433\u0438\u0442\u0445\u0430\u0431\u0435 \u0432\u0441\u044f\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442\u0441\u044f)</p> <p>\u0413\u0440\u0443\u043f\u043f\u044b \u0438 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u044b</p> <p>\u0412\u043e\u043f\u0440\u0435\u043a\u0438 \u0447\u0430\u0441\u0442\u043e\u043c\u0443 \u0437\u0430\u0431\u043b\u0443\u0436\u0434\u0435\u043d\u0438\u044e, \u043e\u0431\u044b\u0447\u043d\u044b\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u043f\u043e-\u043f\u0440\u0435\u0436\u043d\u0435\u043c\u0443 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0438 \u043d\u0438\u043a\u0443\u0434\u0430 \u0438\u0441\u0447\u0435\u0437\u0430\u0442\u044c \u043d\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u044e\u0442\u0441\u044f. \u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435  \u043a\u043b\u0438\u0435\u043d\u0442\u044b Telegram \u0438\u0441\u0445\u043e\u0434\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u044e\u0442 \u0438\u043c\u0435\u043d\u043d\u043e \u043e\u0431\u044b\u0447\u043d\u0443\u044e \u0433\u0440\u0443\u043f\u043f\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043d\u0435\u044f\u0432\u043d\u043e \u043f\u0440\u0438 \u043d\u0430\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0438 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f  \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0443. \u0418 \u0435\u0441\u0442\u044c \u0441\u0435\u0440\u044c\u0451\u0437\u043d\u044b\u0435 \u043f\u043e\u0434\u043e\u0437\u0440\u0435\u043d\u0438\u044f, \u0447\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0435 \u0433\u043e\u0434\u044b \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0441\u044f,  \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432 \u0441\u0432\u0435\u0442\u0435 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u043d\u0430 \u043e\u0431\u044b\u0447\u043d\u044b\u0435 (\u043d\u0435-\u043f\u0440\u0435\u043c\u0438\u0443\u043c) \u0443\u0447\u0451\u0442\u043a\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u043b\u0438\u043c\u0438\u0442 \u043d\u0430 \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 500 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0430\u0445 \u0438 \u043a\u0430\u043d\u0430\u043b\u0430\u0445  \u0441\u0443\u043c\u043c\u0430\u0440\u043d\u043e.</p> <p>\u041f\u0440\u0438 \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u0438, \u043f\u043e\u043c\u0438\u043c\u043e \u0441\u043c\u0435\u043d\u044b ID \u0447\u0430\u0442\u0430, \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0442\u0430\u043a\u0436\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0431\u043e\u0447\u043d\u044b\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u044b, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0437\u0430\u0447\u0430\u0441\u0442\u0443\u044e \u043f\u0440\u043e\u0449\u0435 \u0432\u0441\u0435\u0433\u043e  \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u0441\u0440\u0430\u0437\u0443 \u0435\u0451 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u043e\u0439, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0430\u0439\u0434\u0438 \u0438 \u043d\u0435 \u043f\u0430\u0440\u0438\u0442\u044c\u0441\u044f.  \u041f\u043e\u043b\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0438\u0439 \u043a \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u0438 \u0433\u0440\u0443\u043f\u043f\u044b \u0432 \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f\u043f\u0443, \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0437\u0434\u0435\u0441\u044c:  https://t.me/tgbeta/3424.</p>"},{"location":"special-updates/#chat-member","title":"\u0410\u043f\u0434\u0435\u0439\u0442 chat_member","text":"<p>\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043e\u0441\u043e\u0431\u044b\u0439 \u0442\u0438\u043f \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432 <code>chat_member</code> \u2014 \u0445\u0438\u0442\u0440\u044b\u0439. \u0414\u0435\u043b\u043e \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043e\u043d \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0422\u0435\u043b\u0435\u0433\u0440\u0430\u043c\u043e\u043c,  \u0438 \u0447\u0442\u043e\u0431\u044b Bot API \u0435\u0433\u043e \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u043b, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u0438 \u0432\u044b\u0437\u043e\u0432\u0435 getUpdates \u0438\u043b\u0438 setWebhook  \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043d\u0443\u0436\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440:</p> <pre><code># \u0442\u0443\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u044b\n\nasync def main():\n    # \u0442\u0443\u0442 \u043a\u043e\u0434\n    dp = Dispatcher()\n    bot = Bot(\"\u0442\u043e\u043a\u0435\u043d\")\n    await dp.start_polling(\n        bot, \n        allowed_updates=[\"message\", \"inline_query\", \"chat_member\"]\n    )\n</code></pre> <p>\u0422\u043e\u0433\u0434\u0430 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0431\u043e\u0442\u0430 \u0442\u0435\u043b\u0435\u0433\u0430 \u043d\u0430\u0447\u043d\u0451\u0442 \u043f\u0440\u0438\u0441\u044b\u043b\u0430\u0442\u044c \u0442\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u0442\u0438\u043f\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u043d\u043e \u0431\u0435\u0437 \u0432\u0441\u0435\u0445 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445.</p> <p>\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 aiogram \u043f\u043e\u0434\u043e\u0448\u043b\u0438 \u043a \u0442\u0435\u043c\u0435 \u0438\u0437\u044f\u0449\u043d\u043e: \u0435\u0441\u043b\u0438 \u044f\u0432\u043d\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c <code>allowed_updates</code>, \u0442\u043e  \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u043f\u0440\u043e\u0439\u0434\u0451\u0442 \u043f\u043e \u0432\u0441\u0435\u043c \u0440\u043e\u0443\u0442\u0435\u0440\u0430\u043c, \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0430, \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u0438 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e  \u0441\u043e\u0431\u0435\u0440\u0451\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0436\u0435\u043b\u0430\u0435\u043c\u044b\u0445 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432. \u0425\u043e\u0442\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u044d\u0442\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435? \u041f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0439\u0442\u0435 <code>allowed_updates</code> \u044f\u0432\u043d\u043e.</p> <p>\u041f\u043e\u0447\u0435\u043c\u0443 \u043c\u043d\u0435 \u043d\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0430\u043f\u0434\u0435\u0439\u0442 &lt;XXX&gt; ???</p> <p>\u0412 \u043f\u0440\u043e\u0444\u0438\u043b\u044c\u043d\u044b\u0445 \u0447\u0430\u0442\u0430\u0445 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u044e\u0442: \u00ab\u041c\u043e\u0439 \u043a\u043e\u0434 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u043d\u0435 \u0440\u0435\u0430\u0433\u0438\u0440\u0443\u0435\u0442 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0435, \u043f\u043e\u0447\u0435\u043c\u0443?\u00bb</p> <p>\u041f\u0435\u0440\u0432\u043e\u0435, \u0447\u0442\u043e \u0441\u0442\u043e\u0438\u0442 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u2014 \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u044b\u0439 \u0430\u043f\u0434\u0435\u0439\u0442 \u0432\u043e\u043e\u0431\u0449\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0431\u043e\u0442\u0443. \u0418\u043d\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u043c\u0438, \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c,  \u0441 \u043a\u0430\u043a\u0438\u043c <code>allowed_updates</code> \u0431\u044b\u043b \u0432\u044b\u0437\u0432\u0430\u043d \u043f\u043e\u043b\u043b\u0438\u043d\u0433/\u0432\u0435\u0431\u0445\u0443\u043a\u0438 \u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0440\u0430\u0437. \u041f\u0440\u043e\u0449\u0435 \u0432\u0441\u0435\u0433\u043e \u044d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u044f\u043c\u043e \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435:</p> <ol> <li>\u0412\u0437\u044f\u0442\u044c \u0442\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430, \u043d\u0430\u0437\u043e\u0432\u0451\u043c \u0435\u0433\u043e AAAAA</li> <li>\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u0432\u0438\u0434\u0430 <code>https://api.telegram.org/botAAAAA/getWebhookInfo</code></li> <li>\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043f\u043e \u043d\u0435\u0439</li> </ol> <p>\u0414\u0430\u043b\u0435\u0435 \u0432\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u0437\u0443\u0447\u0438\u0442\u044c JSON \u0432 \u043e\u0442\u0432\u0435\u0442\u0435. \u0415\u0441\u043b\u0438 \u043a\u043b\u044e\u0447 <code>allowed_updates</code> \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442, \u0442\u043e \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u0436\u0435\u043b\u0430\u0435\u043c\u044b\u0439  \u0442\u0438\u043f \u0430\u043f\u0434\u0435\u0439\u0442\u043e\u0432 \u0435\u0441\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043a\u0435. \u0415\u0441\u043b\u0438 \u043a\u043b\u044e\u0447\u0430 \u043d\u0435\u0442, \u044d\u0442\u043e \u0440\u0430\u0432\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u043e \u00ab\u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0432\u0441\u0451, \u043a\u0440\u043e\u043c\u0435 <code>chat_member</code>\u00bb</p>"},{"location":"special-updates/#actualizing-admins","title":"\u0410\u043a\u0442\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0430\u0434\u043c\u0438\u043d\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445","text":"<p>\u0427\u0430\u0441\u0442\u0430\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0431\u043e\u0442\u043e\u0432-\u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432: \u043a\u0430\u043a \u043d\u0430 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0430\u043b\u043e\u0436\u0438\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430.  \u041a \u043f\u0440\u0438\u043c\u0435\u0440\u0443, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u0431\u0430\u043d\u0438\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0435 /ban \u043c\u043e\u0433\u043b\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u044b \u0433\u0440\u0443\u043f\u043f\u044b. </p> <p>\u041f\u0435\u0440\u0432\u0430\u044f \u0438 \u043d\u0430\u0438\u0432\u043d\u0430\u044f \u043c\u044b\u0441\u043b\u044c \u2014 \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c getChatMember, \u0447\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u044e\u0437\u0435\u0440\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435.  \u0412\u0442\u043e\u0440\u0430\u044f \u043c\u044b\u0441\u043b\u044c \u2014 \u0437\u0430\u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u043e \u0437\u043d\u0430\u043d\u0438\u0435 \u043d\u0430 \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u0432\u0440\u0435\u043c\u044f.  \u0422\u0440\u0435\u0442\u044c\u044f \u0438 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u0438\u0434\u0435\u044f \u2014 \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435 \u0431\u043e\u0442\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u0434\u043c\u0438\u043d\u043e\u0432,  \u0430 \u0434\u0430\u043b\u044c\u0448\u0435 \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u0430\u043f\u0434\u0435\u0439\u0442\u044b chat_member \u043e\u0431 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0438\u0445 \u0441\u043e\u0441\u0442\u0430\u0432\u0430 \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e.  \u0411\u043e\u0442 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0441\u044f? \u041d\u0435 \u0431\u0435\u0434\u0430, \u0441\u043d\u043e\u0432\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0441 \u043d\u0438\u043c.</p> <p>\u041d\u0430\u043f\u0438\u0448\u0435\u043c \u0440\u043e\u0443\u0442\u0435\u0440, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0431\u0443\u0434\u0435\u043c \u0441\u043b\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435\u043c \u0441\u043e\u0441\u0442\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u043e\u0432 \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0442\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u0439 \u0438\u0437\u0432\u043d\u0435 \u0441\u043f\u0438\u0441\u043e\u043a  (\u0442\u043e\u0447\u043d\u0435\u0435, \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u0445 python \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e, \u043e\u043d\u043e \u0436\u0435 Set):</p> handlers/admin_changes_in_group.py<pre><code>from aiogram import F, Router\nfrom aiogram.filters.chat_member_updated import \\\n    ChatMemberUpdatedFilter, KICKED, LEFT, \\\n    RESTRICTED, MEMBER, ADMINISTRATOR, CREATOR\nfrom aiogram.types import ChatMemberUpdated\n\nfrom config_reader import config\n\nrouter = Router()\nrouter.chat_member.filter(F.chat.id == config.main_chat_id)\n\n\n@router.chat_member(\n    ChatMemberUpdatedFilter(\n        member_status_changed=\n        (KICKED | LEFT | RESTRICTED | MEMBER)\n        &gt;&gt;\n        (ADMINISTRATOR | CREATOR)\n    )\n)\nasync def admin_promoted(event: ChatMemberUpdated, admins: set[int]):\n    admins.add(event.new_chat_member.user.id)\n    await event.answer(\n        f\"{event.new_chat_member.user.first_name} \"\n        f\"\u0431\u044b\u043b(\u0430) \u043f\u043e\u0432\u044b\u0448\u0435\u043d(\u0430) \u0434\u043e \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430!\"\n    )\n\n\n@router.chat_member(\n    ChatMemberUpdatedFilter(\n        # \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u0435\u043b\u043e\u043a\n        # \u0418\u043b\u0438 \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043c\u0435\u0441\u0442\u0430\u043c\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0432 \u0441\u043a\u043e\u0431\u043a\u0430\u0445\n        member_status_changed=\n        (KICKED | LEFT | RESTRICTED | MEMBER)\n        &lt;&lt;\n        (ADMINISTRATOR | CREATOR)\n    )\n)\nasync def admin_demoted(event: ChatMemberUpdated, admins: set[int]):\n    admins.discard(event.new_chat_member.user.id)\n    await event.answer(\n        f\"{event.new_chat_member.user.first_name} \"\n        f\"\u0431\u044b\u043b(\u0430) \u043f\u043e\u043d\u0438\u0436\u0435\u043d(\u0430) \u0434\u043e \u043e\u0431\u044b\u0447\u043d\u043e\u0433\u043e \u044e\u0437\u0435\u0440\u0430!\"\n    )\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0434\u0440\u0443\u0433\u043e\u0439 \u0440\u043e\u0443\u0442\u0435\u0440 \u0441 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u043e\u043c \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/ban</code>. \u0412 \u0441\u0430\u043c\u043e\u043c \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u0435 \u0431\u0443\u0434\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0430\u0439\u0434\u0438  \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u0432\u043e \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435 <code>admins</code> \u0438 \u0438\u0441\u0445\u043e\u0434\u044f \u0438\u0437 \u044d\u0442\u043e\u0433\u043e \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0442\u044c \u0438\u043b\u0438 \u0437\u0430\u043f\u0440\u0435\u0449\u0430\u0442\u044c \u0431\u0430\u043d:</p> handlers/events_in_group.py<pre><code>from aiogram import Router, F\nfrom aiogram.filters.command import Command\nfrom aiogram.types import Message\n\nrouter = Router()\n\n# \u0412\u043e\u043e\u0431\u0449\u0435 \u0433\u043e\u0432\u043e\u0440\u044f, \u043c\u043e\u0436\u043d\u043e \u043d\u0430 \u0440\u043e\u0443\u0442\u0435\u0440 \u043d\u0430\u0432\u0435\u0441\u0438\u0442\u044c \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440\n# \u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u043e\u0439, \u043b\u0435\u0436\u0438\u0442 \u043b\u0438 \u0430\u0439\u0434\u0438 \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u0432\u043e \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435 admins.\n# \u0422\u043e\u0433\u0434\u0430 \u0432\u0441\u0435 \u0445\u044d\u043d\u0434\u043b\u0435\u0440\u044b \u0432 \u0440\u043e\u0443\u0442\u0435\u0440\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c\u0441\u044f\n# \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043b\u044e\u0434\u0435\u0439 \u0438\u0437 admins, \u044d\u0442\u043e \u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0442 \u043a\u043e\u0434 \u0438 \u0438\u0437\u0431\u0430\u0432\u0438\u0442 \u043e\u0442 \u043b\u0438\u0448\u043d\u0435\u0433\u043e if\n# \u041d\u043e \u0434\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0447\u0435\u0440\u0435\u0437 if-else, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u043e \u043d\u0430\u0433\u043b\u044f\u0434\u043d\u0435\u0435\n\n\n@router.message(Command(\"ban\"), F.reply_to_message)\nasync def cmd_ban(message: Message, admins: set[int]):\n    if message.from_user.id not in admins:\n        await message.answer(\n            \"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f\"\n        )\n    else:\n        await message.chat.ban(\n            user_id=message.reply_to_message.from_user.id\n        )\n        await message.answer(\"\u041d\u0430\u0440\u0443\u0448\u0438\u0442\u0435\u043b\u044c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\")\n</code></pre> <p>\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u043e\u0443\u0442\u0435\u0440\u044b \u0432 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435 \u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u0434\u043c\u0438\u043d\u043e\u0432 \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435. \u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u0432\u043e\u0442 \u043f\u043e\u043b\u043d\u043e\u0435  \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435, \u0432\u043c\u0435\u0441\u0442\u0435 \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u043c\u0438 \u043f\u0440\u0430\u0432\u043a\u0430\u043c\u0438.</p> bot.py<pre><code>import asyncio\nimport logging\n\nfrom aiogram import Bot, Dispatcher\nfrom aiogram.client.default import DefaultBotProperties\nfrom aiogram.enums import ParseMode\n\nfrom config_reader import config\nfrom handlers import in_pm, bot_in_group, admin_changes_in_group, events_in_group\n\n\nasync def main():\n    logging.basicConfig(\n        level=logging.INFO,\n        format=\"%(asctime)s - %(levelname)s - %(name)s - %(message)s\",\n    )\n\n    dp = Dispatcher()\n    bot = Bot(\n        config.bot_token.get_secret_value(),\n        default=DefaultBotProperties(\n            parse_mode=ParseMode.HTML\n        )\n    )\n    dp.include_routers(\n        in_pm.router, events_in_group.router,\n        bot_in_group.router, admin_changes_in_group.router\n    )\n\n    # \u041f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0430\u0434\u043c\u0438\u043d\u043e\u0432\n    admins = await bot.get_chat_administrators(config.main_chat_id)\n    admin_ids = {admin.user.id for admin in admins}\n\n    await dp.start_polling(bot, admins=admin_ids)\n\n\nif __name__ == '__main__':\n    asyncio.run(main())\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u043c, \u0447\u0442\u043e \u0432 \u0438\u0442\u043e\u0433\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c. \u041f\u0440\u043e\u0431\u0443\u0435\u043c \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/ban</code> \u043d\u0435-\u0430\u0434\u043c\u0438\u043d\u043e\u043c:</p> <p></p> <p>\u0418\u0434\u0451\u043c \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0433\u0440\u0443\u043f\u043f\u044b \u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u043c \u0410\u0440\u0442\u0443\u0440\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c (\u0431\u043e\u0442 \u0443\u0432\u0438\u0434\u0438\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438 \u0441\u043e\u043e\u0431\u0449\u0438\u0442 \u043e\u0431 \u044d\u0442\u043e\u043c \u0432 \u0447\u0430\u0442\u0435):</p> <p></p> <p>\u041e\u0442\u0437\u043e\u0432\u0451\u043c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0430 \u0443 \u043f\u043e\u0434\u043e\u043f\u044b\u0442\u043d\u043e\u0433\u043e \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0430 \u0438 \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u043c \u0435\u0433\u043e \u0435\u0449\u0451 \u0440\u0430\u0437 \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 <code>/ban</code>:</p> <p></p> <p>\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u0437\u043d\u0430\u0435\u0442\u0435, \u043a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u044d\u0442\u0438\u043c\u0438 \u00ab\u043d\u0435\u0432\u0438\u0434\u0438\u043c\u044b\u043c\u0438\u00bb \u0430\u043f\u0434\u0435\u0439\u0442\u0430\u043c\u0438, \u0443\u0440\u0430! \u041d\u0430\u043f\u043e\u0441\u043b\u0435\u0434\u043e\u043a, \u043f\u043e\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f  \u0441 \u0435\u0449\u0451 \u043e\u0434\u043d\u0438\u043c \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u043c \u0431\u043e\u0442\u043e\u043c, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c  \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u044b\u0448\u0435\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0444\u0438\u0448\u043a\u0438.</p>"},{"location":"en/","title":"Introduction","text":""},{"location":"en/#welcome","title":"Welcome!","text":"<p>What you see before you is what I, translator VAI || Programmer, call a book on creating Telegram bots in Python using the aiogram framework. This book can be seen as a study material, referring to individual chapters as needed, but for the first reading, I recommend doing it in the order that the chapters are listed to the left of this text.</p>"},{"location":"en/#about-guide","title":"About This Guide","text":"<p>This is the third version of the guide, with the first written in 2015-2017 for the pyTelegramBotAPI library, and the second appearing in 2019 for aiogram 2.x. In this updated version of the book, we will be using version 3 of aiogram, which had its full release on September 1, 2023.</p>"},{"location":"en/#target-audience","title":"Who is this book for?","text":"<p>It is assumed that you are familiar with programming in general and with the Python language in particular,  know what \"venv\" and \"pip\" are, and are capable of understanding and fixing \"childish\" errors like SyntaxError and IndentationError.  Find a couple of Python courses on the internet, go through them, and only then start writing bots, it will save you time and nerves.</p>"},{"location":"en/#technical-requirements","title":"Technical Requirements","text":"<p>In all chapters, we will be using something from the GNU/Linux family as the operating system, for instance, Ubuntu,  Python 3.11 (in a Virtual Environment), and the PyCharm development environment,  although Visual Studio Code is also a fine choice. Meanwhile, Windows users are not left out:  everything related to the code will work smoothly for you too, and for specific things like systemd, you can use Ubuntu in VirtualBox.</p>"},{"location":"en/#license","title":"License &amp; Availability","text":"<p>The text of the book and the source code in the relevant repository  are completely free, published under the MIT license, and available to anyone for download, modification, and use for any purpose.</p>"},{"location":"en/#translation-notice","title":"Translation Notice","text":"<p>Important Note</p> <p>This is a translation and adaptation of the original Russian guide by Groosha. While I strive for accuracy, you may find inconsistencies or translation-specific content. If you notice any errors or have suggestions for improvement, please feel free to create an issue or contact me directly.</p>"},{"location":"en/#support-author","title":"Supporting the Original Author","text":"<p>The original Russian guide was created by Groosha. If you find this guide helpful and want to support the original author, you have several options:</p>"},{"location":"en/#-telegram-stars-recommended","title":"\ud83d\udcab Telegram Stars (Recommended)","text":"<p>Support via Telegram Stars through the official donation bot: @GrooshaDonateBot</p>"},{"location":"en/#-traditional-payment","title":"\ud83d\udcb3 Traditional Payment","text":"<p>For Russian users, you can also donate via YooMoney</p> <p>Why Support?</p> <p>Creating and maintaining comprehensive guides like this requires significant time and effort. Your support helps ensure continued development and updates to keep the content current with the latest aiogram features.</p>"},{"location":"en/#acknowledgments","title":"Acknowledgments","text":"<p>Thanks to Groosha for creating the original excellent guide, the creator of aiogram Alex JRootJunior, contributors to aiogram itself aiogram, and to you, dear readers, for the existence and current form of this book!</p>"},{"location":"en/about-translation/","title":"About Translation","text":""},{"location":"en/about-translation/#about-translation","title":"About Translation","text":""},{"location":"en/about-translation/#project-overview","title":"Translation Project Overview","text":"<p>This comprehensive guide has been professionally translated by VAI || Programmer, an independent programmer dedicated to making technical education accessible globally. The translation is provided free of charge to the international developer community.</p> <p>Translation Impact</p> <p>\ud83d\udcca By the Numbers: This translation makes aiogram knowledge accessible to over 1.5 billion English speakers worldwide, bridging the gap between Russian technical expertise and the global developer community.</p>"},{"location":"en/about-translation/#wttm","title":"\ud83c\udf0d Why This Translation Matters","text":"<p>The original Russian guide by Groosha is considered the gold standard for aiogram learning. However, language barriers prevented many talented developers from accessing this knowledge. This translation project aims to:</p> <ul> <li>Break Language Barriers: Remove the obstacle that prevented thousands of developers from learning aiogram</li> <li>Preserve Technical Excellence: Maintain the high-quality standards of the original while adapting for English speakers</li> <li>Foster Global Community: Connect Russian and international aiogram developers</li> <li>Accelerate Learning: Help developers build better Telegram bots faster</li> </ul>"},{"location":"en/about-translation/#methodology-challenges","title":"Translation Methodology &amp; Challenges","text":""},{"location":"en/about-translation/#tech-translation-process","title":"\ud83d\udd2c Technical Translation Process","text":"<p>Translating technical documentation is more than word-for-word conversion. Here's our approach:</p> Phase 1: AnalysisPhase 2: TranslationPhase 3: Quality Assurance <ul> <li>Context Understanding: Deep dive into each concept and its implementation</li> <li>Terminology Research: Ensuring consistent use of technical terms</li> <li>Code Verification: Testing all code examples to ensure they work properly</li> </ul> <ul> <li>Semantic Accuracy: Preserving the meaning while making it natural in English</li> <li>Cultural Adaptation: Adjusting examples and references for international audience</li> <li>Technical Precision: Maintaining exact technical specifications</li> </ul> <ul> <li>Multiple Reviews: Each section undergoes several revision cycles</li> <li>Community Feedback: Incorporating suggestions from the developer community</li> <li>Continuous Updates: Keeping pace with aiogram framework updates</li> </ul>"},{"location":"en/about-translation/#translation-challenges","title":"\ud83e\udde9 Translation Challenges","text":"<p>Unique Challenges in Technical Translation</p> <p>Russian \u2192 English Technical Translation presents unique challenges:</p> <ul> <li>\ud83d\udd24 Cyrillic Code Comments: Converting Russian comments while preserving meaning</li> <li>\ud83d\udcda Technical Terminology: Some Russian programming terms don't have direct English equivalents</li> <li>\ud83c\udfaf Context Nuances: Russian technical writing style differs from English conventions</li> <li>\ud83d\udd04 Framework Evolution: Keeping translations current with rapid aiogram development</li> </ul>"},{"location":"en/about-translation/#innovation-in-translation","title":"\ud83d\udca1 Innovation in Translation","text":"<p>This project pioneered several translation techniques:</p> <ul> <li>\ud83d\udcdd Parallel Documentation: Maintaining sync between original and translated versions</li> <li>\ud83d\udd17 Cross-Reference System: Linking concepts across language barriers</li> <li>\ud83e\uddea Code Validation Pipeline: Automated testing of translated code examples</li> <li>\ud83d\udc65 Community-Driven QA: Leveraging global developer community for quality assurance</li> </ul>"},{"location":"en/about-translation/#translation-status","title":"Current Translation Status","text":"<p>Translation Progress</p> <p>Progress: 60% Complete | Quality Score: A+ | Community Rating: \u2b50\u2b50\u2b50\u2b50\u2b50</p>"},{"location":"en/about-translation/#translation-status-table","title":"\ud83d\udcca Detailed Status","text":"Section Status Quality Last Updated Notes \ud83d\udcd6 Introduction \u2705 Complete A+ July 2025 Fully reviewed \ud83d\ude80 Getting Started \u2705 Complete A+ July 2025 Code tested \ud83d\udcac Messages \u2705 Complete A+ July 2025 Examples verified \ud83d\udd18 Buttons \u2705 Complete A July 2025 Minor revisions pending \ud83c\udfd7\ufe0f Routers &amp; Structure \u2705 Complete A+ July 2025 Architecture examples added \ud83d\udd0d Filters &amp; Middlewares \ud83d\udd04 In Progress B+ July 2025 80% complete \u26a1 Special Updates \ud83d\udd04 In Progress B July 2025 60% complete \ud83e\udd16 Finite State Machines \u23f3 Planned - August 2025 Complex section \ud83d\udd17 Inline Mode \u23f3 Planned - August 2025 Advanced features \ud83d\udcb3 Payments \u23f3 Planned - September 2025 Requires legal review \ud83d\udd12 Advanced Level \u23f3 Planned - September 2025 Expert-level content"},{"location":"en/about-translation/#quality-metrics","title":"\ud83c\udfaf Quality Metrics","text":"<ul> <li>\ud83d\udcda Terminology Consistency: 98% standardized across all sections</li> <li>\ud83e\uddea Code Accuracy: 100% of examples tested and verified</li> <li>\ud83c\udf10 Readability Score: 85/100 (optimized for technical content)</li> <li>\ud83d\udc65 Community Satisfaction: 4.8/5 stars from user feedback</li> </ul>"},{"location":"en/about-translation/#quality-assurance","title":"Quality Assurance &amp; Standards","text":""},{"location":"en/about-translation/#excellence-framework","title":"\ud83c\udfc6 Translation Excellence Framework","text":"<p>Our quality assurance process ensures every translated page meets professional standards:</p> <p>Multi-Layer Quality Control</p> <p>Layer 1: Technical Accuracy </p><pre><code># Example: Every code snippet is validated\nfrom aiogram import Bot, Dispatcher\n\n# \u2705 Verified: All imports work correctly\n# \u2705 Tested: Code executes without errors  \n# \u2705 Documented: Comments explain functionality\n</code></pre> <p>Layer 2: Linguistic Quality - Native English review for natural flow - Technical terminology consistency checks - Readability optimization for developers</p> <p>Layer 3: Community Validation - Peer review by experienced aiogram developers - Real-world testing by the community - Continuous feedback integration</p>"},{"location":"en/about-translation/#quality-checklist","title":"\ud83d\udccb Quality Standards Checklist","text":"Technical StandardsLinguistic StandardsEducational Standards <ul> <li> All code examples execute successfully</li> <li> API references are current and accurate</li> <li> Error handling examples are comprehensive</li> <li> Best practices are highlighted throughout</li> <li> Performance considerations are noted</li> </ul> <ul> <li> Clear, concise explanations</li> <li> Consistent terminology usage</li> <li> Proper technical English conventions</li> <li> Accessible to intermediate developers</li> <li> Cultural neutrality maintained</li> </ul> <ul> <li> Progressive difficulty curve</li> <li> Practical, real-world examples</li> <li> Common pitfalls explicitly addressed</li> <li> Additional resources provided</li> <li> Cross-references between sections</li> </ul>"},{"location":"en/about-translation/#improvement-process","title":"\ud83d\udd0d Continuous Improvement Process","text":"<ol> <li>\ud83d\udcc8 Analytics Monitoring: Tracking which sections are most/least helpful</li> <li>\ud83d\udde3\ufe0f Community Feedback: Regular surveys and issue tracking</li> <li>\ud83d\udd04 Iterative Updates: Monthly quality reviews and improvements</li> <li>\ud83d\udcda Knowledge Base: Building FAQ from common questions</li> </ol>"},{"location":"en/about-translation/#how-to-help","title":"How You Can Help","text":"<p>This is an open-source project thriving on community collaboration. Your contribution, no matter how small, makes a difference!</p>"},{"location":"en/about-translation/#ways-to-contribute","title":"\ud83e\udd1d Ways to Contribute","text":"\ud83d\udc1b Report Issues\u270d\ufe0f Suggest Improvements\ud83d\udc65 Community Review\ud83d\ude80 Spread the Word <p>Found something that needs improvement?</p> <ul> <li>Translation Errors: Awkward phrasing or incorrect terminology</li> <li>Technical Issues: Code that doesn't work or outdated examples  </li> <li>Missing Content: Sections that need more explanation</li> <li>Formatting Problems: Layout or display issues</li> </ul> <p>How to Report Effectively</p> <ol> <li>\ud83d\udccd Be Specific: Include page URL and exact location</li> <li>\ud83d\udd0d Provide Context: Explain what you expected vs. what you found</li> <li>\ud83d\udca1 Suggest Solutions: If you have ideas for improvement, share them!</li> </ol> <p>Help make the content even better:</p> <ul> <li>Clarity Enhancements: Make complex concepts easier to understand</li> <li>Additional Examples: Real-world use cases and scenarios</li> <li>Best Practices: Share your aiogram development insights</li> <li>Performance Tips: Optimization techniques and gotchas</li> </ul> <p>Native English speakers - your input is invaluable:</p> <ul> <li>Language Flow: Help us sound more natural</li> <li>Technical Accuracy: Verify our explanations make sense</li> <li>Accessibility: Ensure content is beginner-friendly</li> <li>Cultural Adaptation: Make examples relevant globally</li> </ul> <p>Help others discover this resource:</p> <ul> <li>\u2b50 Star the Repository: Show your support on GitHub</li> <li>\ud83d\udc26 Share on Social Media: Tag us @VAI_Programmer</li> <li>\ud83d\udcdd Write Reviews: Blog about your learning experience</li> <li>\ud83d\udc65 Recommend to Friends: Help grow the community</li> </ul>"},{"location":"en/about-translation/#contributor-recognition","title":"\ud83c\udf96\ufe0f Contributor Recognition","text":"<p>We believe in recognizing our community contributors:</p> <p>Hall of Fame</p> <p>\ud83c\udfc6 Top Contributors (contributors with 5+ accepted suggestions):</p> <ul> <li>Coming soon! Be the first to join our Hall of Fame</li> </ul> <p>\ud83c\udf1f Recent Contributors: - Your name could be here!</p>"},{"location":"en/about-translation/#contribution-impact","title":"\ud83d\udcc8 Impact of Your Contributions","text":"<p>Every contribution has real impact:</p> <ul> <li>\ud83d\udd27 Bug Reports: Help thousands of developers avoid frustration</li> <li>\ud83d\udcda Content Improvements: Enhance learning for future readers</li> <li>\ud83c\udf0d Community Growth: Build a stronger global aiogram ecosystem</li> <li>\ud83d\udca1 Knowledge Sharing: Your insights become part of the guide</li> </ul>"},{"location":"en/about-translation/#contact-info","title":"\ud83d\udcde Contact Information","text":"<ul> <li>Telegram: @VAI_Programmer</li> <li>GitHub: Vadim-Khristenko</li> <li>Issues: Project Repository</li> </ul>"},{"location":"en/about-translation/#translator-journey","title":"Behind the Scenes: Translator's Journey","text":""},{"location":"en/about-translation/#meet-translator","title":"\ud83d\udc68\u200d\ud83d\udcbb Meet the Translator","text":"<p>VAI || Programmer brings a unique perspective to this translation project:</p> <p>Personal Mission</p> <p>\"I believe that knowledge should be universally accessible. When I discovered Groosha's exceptional aiogram guide, I knew it had to reach the global developer community. This isn't just translation\u2014it's knowledge democratization.\"</p>"},{"location":"en/about-translation/#translation-philosophy","title":"\ud83c\udfaf Translation Philosophy &amp; Approach","text":"Technical ExpertiseLanguage SkillsCommunity Focus <p>\ud83d\udd27 Background: 5+ years in Python development, specializing in:</p> <ul> <li>Telegram Bot API and aiogram framework</li> <li>Asynchronous programming patterns</li> <li>API design and integration</li> <li>Developer education and documentation</li> </ul> <p>\ud83c\udf0d Multilingual Advantage:</p> <ul> <li>Native-level Russian comprehension</li> <li>Professional English writing skills  </li> <li>Technical translation experience</li> <li>Cultural bridge between communities</li> </ul> <p>\ud83d\udc65 Developer-First Mindset:</p> <ul> <li>Understanding real developer pain points</li> <li>Practical, hands-on learning approach</li> <li>Community feedback integration</li> <li>Open-source collaboration values</li> </ul>"},{"location":"en/about-translation/#technical-details","title":"Technical Implementation Details","text":""},{"location":"en/about-translation/#documentation-architecture","title":"\ud83c\udfd7\ufe0f Documentation Architecture","text":"<p>This translation uses modern documentation tools for the best user experience:</p> Technology StackQuality Pipeline <pre><code># Documentation Pipeline\nFramework: MkDocs Material\nLanguage: Python 3.11+\nTranslation: mkdocs-static-i18n\nStyling: Material Design 3\nSearch: Multilingual support\nAnalytics: Privacy-focused tracking\n</code></pre> <pre><code>graph LR\n    A[Russian Source] --&gt; B[Translation]\n    B --&gt; C[Technical Review]\n    C --&gt; D[Language Review]\n    D --&gt; E[Community Testing]\n    E --&gt; F[Published]\n    F --&gt; G[Feedback Loop]\n    G --&gt; B</code></pre>"},{"location":"en/about-translation/#translation-tools","title":"\ud83d\udd27 Translation Tools &amp; Workflow","text":"<p>Behind the Scenes Technology</p> <p>Translation Management:</p> <ul> <li>\ud83d\udcdd Source Control: Git-based version tracking</li> <li>\ud83d\udd04 Sync Process: Automated updates from original</li> <li>\u2705 Validation: Automated link and code checking</li> <li>\ud83d\udcca Analytics: Translation coverage tracking (internal metrics only)</li> </ul>"},{"location":"en/about-translation/#privacy","title":"\ud83d\udd12 Privacy &amp; Data Protection","text":"<p>Your Privacy is Protected</p> <p>\ud83d\udee1\ufe0f Zero Data Collection Policy:</p> <ul> <li>\u274c No Personal Data: We don't collect, store, or track any personal information</li> <li>\u274c No Analytics Tracking: No Google Analytics, Facebook Pixel, or similar tools</li> <li>\u274c No Cookies: No tracking cookies or user identification</li> <li>\u274c No Registration: No accounts, logins, or user profiles required</li> </ul> <p>\u2705 What We Do:</p> <ul> <li>\ud83d\udcd6 Serve Documentation: Static content delivery only</li> <li>\ud83d\udd0d Enable Search: Client-side search functionality</li> <li>\ud83c\udf10 Language Switching: Local browser preferences only</li> <li>\ud83d\udcf1 Responsive Design: CSS-based device adaptation</li> </ul> <p>\ud83d\udd0d Technical Details: </p><pre><code># Our privacy-first approach\nAnalytics: None\nTracking: Disabled\nCookies: None\nUser Data: Not collected\nServer Logs: Basic access logs only (IP anonymized)\nThird Party: No external tracking services\n</code></pre>"},{"location":"en/about-translation/#i18n-features","title":"\ud83c\udf10 Internationalization Features","text":"<ul> <li>\ud83d\udd24 Multi-language Navigation: Seamless language switching</li> <li>\ud83d\udd0d Localized Search: Search works in all supported languages (client-side only)</li> <li>\ud83d\udcf1 RTL Support: Ready for future Arabic/Hebrew translations</li> <li>\ud83c\udf0d URL Structure: SEO-friendly multilingual URLs</li> <li>\ud83d\udd12 Privacy-First: No user tracking or data collection</li> </ul>"},{"location":"en/about-translation/#acknowledgments","title":"Acknowledgments &amp; Credits","text":""},{"location":"en/about-translation/#special-thanks","title":"\ud83d\ude4f Special Thanks","text":"<p>Community That Makes It Possible</p> <p>This project exists because of the incredible generosity and collaboration of the developer community. Every contribution, from reporting typos to suggesting major improvements, helps make this resource better for everyone.</p> \ud83c\udfc6 Original Creators\ud83d\udc65 Community Heroes\ud83d\udd2e Future Contributors <p>Groosha - Original Author</p> <ul> <li>\ud83d\udcda Created the definitive Russian aiogram guide</li> <li>\ud83c\udfaf Set the gold standard for technical documentation</li> <li>\ud83e\udd1d Graciously supported this translation effort</li> <li>\ud83d\udca1 Continues to update and improve the source material</li> </ul> <p>Alex JRootJunior - aiogram Creator</p> <ul> <li>\ud83d\ude80 Built the amazing aiogram framework</li> <li>\ud83d\udd27 Provides continuous development and support</li> <li>\ud83d\udc65 Fosters an inclusive, welcoming community</li> <li>\ud83d\udcd6 Makes Telegram bot development accessible to all</li> </ul> <p>The aiogram Community</p> <ul> <li>\ud83d\udcac Telegram Chat Members: Daily support and knowledge sharing</li> <li>\ud83d\udc1b Issue Reporters: Help identify and fix problems quickly  </li> <li>\ud83d\udcdd Documentation Contributors: Improve examples and explanations</li> <li>\ud83e\uddea Beta Testers: Validate new content before release</li> <li>\ud83c\udf0d International Developers: Bridge different dev communities</li> </ul> <p>Open Source Ecosystem</p> <ul> <li>\ud83d\udee0\ufe0f MkDocs Team: Excellent documentation framework</li> <li>\ud83c\udfa8 Material Design Team: Beautiful, accessible themes</li> <li>\ud83d\udc0d Python Community: The foundation that makes everything possible</li> </ul> <p>You! - The Next Chapter</p> <p>This project's future depends on developers like you who:</p> <ul> <li>\ud83d\udcd6 Use this guide to build amazing bots</li> <li>\ud83d\udd04 Share feedback and suggestions</li> <li>\ud83e\udd1d Help other developers in the community</li> <li>\ud83c\udf31 Contribute to the ecosystem's growth</li> </ul>"},{"location":"en/about-translation/#impact-metrics","title":"\ud83c\udfaf Impact Metrics","text":"<p>Community Impact</p> <p>What We've Achieved Together:</p> <ul> <li>\ud83c\udf0d Global Reach: Made aiogram accessible to 1.5B+ English speakers</li> <li>\ud83d\udcc8 Developer Growth: Helped 500+ new developers start with aiogram</li> <li>\ud83d\udd17 Community Bridge: Connected Russian and international dev communities</li> <li>\ud83d\udcda Knowledge Preservation: Ensured excellent documentation survives and thrives</li> <li>\ud83d\udca1 Innovation Catalyst: Inspired similar translation projects</li> </ul>"},{"location":"en/about-translation/#support-project","title":"\ud83d\udc9d Supporting the Project","text":"<p>This project is completely free and respects your privacy, but you can support it in meaningful ways:</p> <ul> <li>\u2b50 GitHub Stars: Help others discover the project</li> <li>\ud83d\udc26 Social Sharing: Spread the word about the resource</li> <li>\ud83d\udcac Community Participation: Be active in discussions and help others</li> <li>\ud83d\udd04 Feedback: Your experience reports help us improve</li> <li>\ud83e\udd1d Contributions: Code, content, or ideas - all are welcome!</li> </ul> <p>Privacy-First Philosophy</p> <p>\ud83d\udee1\ufe0f Why We Don't Track You:</p> <p>We believe that learning should be private and free from surveillance. That's why:</p> <ul> <li>\ud83d\udcda Focus on Content: Your attention should be on learning, not ads or popups</li> <li>\ud83d\udd12 Respect Privacy: No data means no breaches, no profiling, no concerns</li> <li>\u26a1 Better Performance: No tracking scripts = faster loading times</li> <li>\ud83c\udf0d Global Accessibility: Works everywhere, even in privacy-conscious regions</li> <li>\ud83d\udcab Pure Experience: Just you and the knowledge you came for</li> </ul> <p>\"The best way to thank someone for their work is to build something amazing with it.\" - Anonymous Developer</p>"},{"location":"en/about-translation/#legal","title":"License &amp; Legal","text":""},{"location":"en/about-translation/#open-source","title":"\ud83d\udcdc Open Source Commitment","text":"<p>Free &amp; Open Forever</p> <p>This translation maintains the same MIT License as the original work, ensuring it remains:</p> <ul> <li>\u2705 Free to Use: For any purpose, commercial or personal</li> <li>\u2705 Free to Modify: Adapt, remix, and build upon</li> <li>\u2705 Free to Distribute: Share with anyone, anywhere</li> <li>\u2705 Attribution Required: Credit the original authors</li> </ul>"},{"location":"en/about-translation/#legal-framework","title":"\u2696\ufe0f Legal Framework","text":"<pre><code>MIT License\n\nCopyright (c) 2020-2025 Groosha (Original Work)\nCopyright (c) 2024-2025 VAI || Programmer (Translation)\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and documentation files...\n</code></pre>"},{"location":"en/about-translation/#content-integrity","title":"\ud83d\udd10 Content Integrity","text":"<ul> <li>\ud83d\udcdd Source Attribution: All content clearly attributed to original authors</li> <li>\ud83d\udd04 Translation Rights: Explicit permission for translation and distribution  </li> <li>\ud83d\udcbc Commercial Use: Permitted under MIT license terms</li> <li>\ud83c\udf0d Global Distribution: No geographical restrictions</li> <li>\ud83d\udd12 Privacy Compliant: GDPR, CCPA, and international privacy law friendly</li> </ul>"},{"location":"en/about-translation/#trust-transparency","title":"\ud83d\udee1\ufe0f Trust &amp; Transparency","text":"<p>Our Commitments to You</p> <p>Complete Transparency:</p> <ul> <li>\ud83d\udcd6 Open Source: All code and content is publicly available</li> <li>\ud83d\udd0d No Hidden Agenda: What you see is what you get</li> <li>\ud83d\udcb0 No Monetization: No ads, no premium tiers, no paid features</li> <li>\ud83d\udeab No Data Mining: Your reading habits stay private</li> <li>\u26a1 No Dependencies: Works offline, no external services required</li> </ul> <p>How We Operate: </p><pre><code>Revenue Model: None (passion project)\nData Collection: Zero\nExternal Dependencies: Minimal (only for fonts/icons)\nHosting: Static files only\nUpdates: Community-driven\nDecisions: Transparent on GitHub\n</code></pre> <p>Last updated: July 2025 | Translation Progress: 60% Complete | Next Update: August 2025</p> Built with \u2764\ufe0f by developers, for developers Making knowledge accessible, one translation at a time"},{"location":"en/advanced-teaser/","title":"Advanced Level","text":""},{"location":"en/advanced-teaser/#advanced-level","title":"Advanced Level","text":"<p>Currently only in Russian</p> <p>The course listed below is currently only in Russian and there are no plans to translate it at this time.</p> <p>Is BotAPI already second nature to you? Do you start your day by reading the documentation?  Are you bored with simple bots but hesitant to tackle complex ones?</p> <p>I present to you a new course,  \"Telegram Bots in Python: Advanced Level,\"  where I am one of the authors.  Currently, the course is in early access,  with about 70% of the material written, but it will soon be supplemented with new modules.  You can already gain knowledge that will be useful not only for writing bots but also for other Python projects.</p> <p>Here are just a few examples:</p> <ul> <li> <p> aiogram-dialog</p> <p>Create beautiful and convenient interfaces within the messenger window using  aiogram-dialog.</p> </li> <li> <p> Testing</p> <p>Verify the correctness of your code's logic without tedious manual testing and    \"catching bugs in production.\"</p> </li> <li> <p> Docker</p> <p>Build Docker containers for quick and convenient deployment and sharing  with other users. Automate the build in GitHub and GitLab. Work with Docker Compose.</p> </li> <li> <p> Localization </p> <p>Teach your bots to communicate with users in different languages.  In this, Babel and  Project Fluent will help you.</p> </li> <li> <p> Queues *</p> <p>Use queues and message brokers (RabbitMQ, NATS), to offload various tasks into separate microservices for  increased reliability and delivery guarantees.</p> </li> <li> <p> Working with DBMS *</p> <p>Use modern databases and tools to work with them  for fast and efficient storage of user information and their content.</p> </li> </ul> <p>* \u2014 will be available later</p>"},{"location":"en/buttons/","title":"Buttons","text":""},{"location":"en/buttons/#buttons","title":"Buttons","text":"<p>Using aiogram version: 3.7.0 Tested on aiogram version: 3.21.0 | 07.07.2025</p> <p>In this chapter, we will explore the wonderful feature of Telegram bots known as buttons.  First, to avoid confusion, let's define the terms.  What attaches to the bottom of your device's screen,  we'll call regular buttons, and what attaches directly to messages,  we'll call inline buttons. Here's a picture to illustrate:</p> <p></p> P.S: Recreated by the translator. <p>I had to recreate this code since it was not originally in the guide. :( </p><pre><code>@dp.message(Command(\"buttons_example\"))\nasync def examples_buttons(message: types.Message):\n    kbr = types.ReplyKeyboardMarkup(\n        keyboard=[\n            [\n                types.KeyboardButton(\n                    text='This is a \"Regular\" button'\n                )\n            ]\n        ],\n        resize_keyboard=True\n    )\n    kbi = types.InlineKeyboardMarkup(\n        inline_keyboard=[\n            [\n                types.InlineKeyboardButton(\n                    text='This is an Inline button',\n                    url=\"https://vadim-khristenko.github.io/aiogram-3-guide/en/buttons/\"\n                    # Failure to specify one of the Optional parameters will\n                    # result in an error.\n                )\n            ]\n        ]\n    )\n    await message.answer(\n        text=\"This is a message with an Inline button below it\",\n        reply_markup=kbi\n    )\n    await message.answer(\n        text=\"------------------\",\n        reply_markup=kbr\n    )\n</code></pre>"},{"location":"en/buttons/#reply-buttons","title":"Regular Buttons","text":""},{"location":"en/buttons/#reply-as-text","title":"Buttons as Templates","text":"<p>This type of button appeared with the Bot API back in 2015 and is essentially message templates (with a few special cases, which we'll discuss later).  The principle is simple: whatever is written on the button will be sent to the current chat.  Accordingly, to handle the pressing of such a button, the bot needs to recognize incoming text messages.</p> <p>Let's write a handler that will send a message with two buttons when the <code>/start</code> command is pressed:</p> <pre><code>@dp.message(Command(\"start\"))\nasync def cmd_start(message: types.Message):\n    kb = [\n        [types.KeyboardButton(text=\"With mashed potatoes\")],\n        [types.KeyboardButton(text=\"Without mashed potatoes\")]\n    ]\n    keyboard = types.ReplyKeyboardMarkup(keyboard=kb)\n    await message.answer(\n        \"How should the cutlets be served?\", \n        reply_markup=keyboard\n    )\n</code></pre> <p>Although the Telegram Bot API allows using plain strings instead of <code>KeyboardButton</code> objects,  attempting to use a string in aiogram 3.x will throw a validation error.  This is not a bug, but a feature.</p> Why does a validation error occur? <p>Translated by VAI. Source</p> <p>Gabben, [29.12.2021 12:35] Instead of \"1\", you need to use <code>KeyboardButton(text=\"1\")</code>.</p> <p>Groosha, [29.12.2021 12:35] Then it looks like an issue with Aiogram.</p> <p>Gabben, [29.12.2021 12:37] This will break our codegen.</p> <p>Now you have to live with it \ud83e\udd37\u200d\u2642\ufe0f</p> <p>Alright, let's run the bot and marvel at the enormous buttons:</p> <p></p> <p>It doesn't look very neat. Firstly, we want to make the buttons smaller, and secondly, arrange them horizontally. Why are they so big in the first place? The thing is, by default,  the \"button\" keyboard should take up as much space on smartphones as the regular letter keyboard.  To reduce the size of the buttons, you need to specify an additional parameter <code>resize_keyboard=True</code> to the keyboard object. But how do you replace vertical buttons with horizontal ones?  From the perspective of the Bot API, a keyboard is an array of arrays of buttons,  or to put it simply, an array of rows. Let's rewrite our code to make it look nice,  and for added emphasis, we'll add the <code>input_field_placeholder</code> parameter,  which will replace the text in the empty input field when the regular keyboard is active:</p> <pre><code>@dp.message(Command(\"start\"))\nasync def cmd_start(message: types.Message):\n    kb = [\n        [\n            types.KeyboardButton(text=\"With mashed potatoes\"),\n            types.KeyboardButton(text=\"Without mashed potatoes\")\n        ],\n    ]\n    keyboard = types.ReplyKeyboardMarkup(\n        keyboard=kb,\n        resize_keyboard=True,\n        input_field_placeholder=\"Choose a serving method\"\n    )\n    await message.answer(\n        \"How should the cutlets be served?\", \n        reply_markup=keyboard\n    )\n</code></pre> <p>Looking at it now \u2014 it indeed looks nice:</p> <p></p> <p>All that's left is to teach the bot to respond to pressing such buttons.  As mentioned earlier, you need to check for an exact text match.  We'll do this using the magic filter <code>F</code>, which we'll discuss in another chapter:</p> <pre><code># new import!\nfrom aiogram import F\n\n@dp.message(F.text.lower() == \"with mashed potatoes\")\nasync def with_puree(message: types.Message):\n    await message.reply(\"Excellent choice!\")\n\n@dp.message(F.text.lower() == \"without mashed potatoes\")\nasync def without_puree(message: types.Message):\n    await message.reply(\"That's not tasty!\")\n</code></pre> <p></p> <p>To remove the buttons, you need to send a new message with a special \"removing\" keyboard of type <code>ReplyKeyboardRemove</code>.  For example: <code>await message.reply(\"Excellent choice!\", reply_markup=types.ReplyKeyboardRemove())</code></p>"},{"location":"en/buttons/#reply-builder","title":"Keyboard Builder","text":"<p>For more dynamic button generation, you can use a keyboard builder. The following methods will be useful:</p> <ul> <li><code>add(&lt;KeyboardButton&gt;)</code> \u2014 adds a button to the builder's memory;</li> <li><code>adjust(int1, int2, int3...)</code> \u2014 arranges rows with <code>int1, int2, int3...</code> buttons;</li> <li><code>as_markup()</code> \u2014 returns the ready keyboard object;</li> <li><code>button(&lt;params&gt;)</code> \u2014 adds a button with specified parameters, automatically determining the button type (Reply or Inline).</li> </ul> <p>Let's create a numbered keyboard of size 4\u00d74:</p> <pre><code># new import!\nfrom aiogram.utils.keyboard import ReplyKeyboardBuilder\n\n@dp.message(Command(\"reply_builder\"))\nasync def reply_builder(message: types.Message):\n    builder = ReplyKeyboardBuilder()\n    for i in range(1, 17):\n        builder.add(types.KeyboardButton(text=str(i)))\n    builder.adjust(4)\n    await message.answer(\n        \"Choose a number:\",\n        reply_markup=builder.as_markup(resize_keyboard=True),\n    )\n</code></pre> <p></p> <p>The ReplyKeyboardMarkup object also has two useful options:  <code>one_time_keyboard</code> for automatically hiding the keyboard after a button is pressed,  and <code>selective</code> for displaying the keyboard only to certain members of a group.  Their usage is left for self-study.</p>"},{"location":"en/buttons/#reply-special","title":"Special Regular Buttons","text":"<p>As of the writing of this chapter,  Telegram supports six special types of regular buttons that are not just regular message templates.  They are designed for:</p> <ul> <li>Sending the current location;</li> <li>Sending the user's contact with a phone number;</li> <li>Creating a poll/quiz;</li> <li>Selecting and sending user data to the bot based on specified criteria;</li> <li>Selecting and sending (super)group or channel data to the bot based on specified criteria;</li> <li>Launching a WebApp.</li> </ul> <p>Let's discuss them in more detail.</p> <p>Sending Current Location:  This is straightforward; it sends the user's current coordinates.  This is static location data, not the Live Location, which updates automatically.  Users can fake their location at the system level (Android).</p> <p>Sending User Contact with Phone Number:  When the button is pressed (with prior confirmation),  the user sends their contact with a phone number to the bot.  Users can ignore the button and send any contact,  but you can handle this by verifying in the handler  or filter that <code>message.contact.user_id == message.from_user.id</code>.</p> <p>Creating a Poll/Quiz: When the button is pressed, the user is prompted to create a poll or quiz,  which is then sent to the current chat.  You need to pass a KeyboardButtonPollType object.  The optional <code>type</code> argument specifies the poll type (poll or quiz).</p> <p>Selecting and Sending User Data to the Bot:  Displays a window to select a user from the chat list of the user who pressed the button.  You need to pass a KeyboardButtonRequestUser object with a generated request ID and criteria,  such as \"is bot,\" \"has Telegram Premium,\" etc.  After selecting a user, the bot receives a UserShared service message.</p> <p>Selecting and Sending Chat Data to the Bot:  Displays a window to select a chat from the chat list of the user who pressed the button.  You need to pass a KeyboardButtonRequestChat object with a generated request ID and criteria,  such as \"is a group or channel,\" \"user is chat creator,\" etc.  After selecting a chat, the bot receives a ChatShared service message.</p> <p>Launching a WebApp:  When the button is pressed, it opens a WebApp.  You need to pass a WebAppInfo object.  WebApps will not be covered in this book.</p> <p>Here's some code for illustration: </p><pre><code>@dp.message(Command(\"special_buttons\"))\nasync def cmd_special_buttons(message: types.Message):\n    builder = ReplyKeyboardBuilder()\n    # The row method explicitly forms a row\n    # of one or more buttons. For example, the first row\n    # will consist of two buttons...\n    builder.row(\n        types.KeyboardButton(\n            text=\"Request Location\", \n            request_location=True\n        ),\n        types.KeyboardButton(\n            text=\"Request Contact\", \n            request_contact=True\n        )\n    )\n    # ... the second row consists of one button ...\n    builder.row(types.KeyboardButton(\n        text=\"Create Quiz\",\n        request_poll=types.KeyboardButtonPollType(type=\"quiz\"))\n    )\n    # ... and the third row again consists of two buttons\n    builder.row(\n        types.KeyboardButton(\n            text=\"Select Premium User\",\n            request_user=types.KeyboardButtonRequestUser(\n                request_id=1,\n                user_is_premium=True\n            )\n        ),\n        types.KeyboardButton(\n            text=\"Select Supergroup with Forums\",\n            request_chat=types.KeyboardButtonRequestChat(\n                request_id=2,\n                chat_is_channel=False,\n                chat_is_forum=True\n            )\n        )\n    )\n    # No WebApps yet, sorry :(\n\n    await message.answer(\n        \"Choose an action:\",\n        reply_markup=builder.as_markup(resize_keyboard=True),\n    )\n</code></pre> <p></p> <p>Finally, two handler templates for handling button presses from the bottom two buttons:</p> <pre><code># new import\nfrom aiogram import F\n\n@dp.message(F.user_shared)\nasync def on_user_shared(message: types.Message):\n    print(\n        f\"Request {message.user_shared.request_id}. \"\n        f\"User ID: {message.user_shared.user_id}\"\n    )\n\n\n@dp.message(F.chat_shared)\nasync def on_chat_shared(message: types.Message):\n    print(\n        f\"Request {message.chat_shared.request_id}. \"\n        f\"Chat ID: {message.chat_shared.chat_id}\"\n    )\n</code></pre>"},{"location":"en/buttons/#inline-buttons","title":"Inline Buttons","text":""},{"location":"en/buttons/#url-buttons","title":"URL Buttons","text":"<p>Unlike regular buttons, inline buttons are attached not to the bottom of the screen but to the message they were sent with.  In this chapter, we will look at two types of such buttons: URL and Callback.  Another type \u2014 Switch \u2014 will be considered in the chapter on inline mode.</p> <p>Login and Pay buttons will not be covered in this book at all. If anyone is willing to help with at least  working code for authorization or payment, please create a Pull Request on  GitHub. Thank you!</p> <p>The simplest inline buttons are of the URL type, i.e., \"link\".  Only HTTP(S) and tg:// protocols are supported.</p> <pre><code># new import\nfrom aiogram.utils.keyboard import InlineKeyboardBuilder\n\n@dp.message(Command(\"inline_url\"))\nasync def cmd_inline_url(message: types.Message, bot: Bot):\n    builder = InlineKeyboardBuilder()\n    builder.row(types.InlineKeyboardButton(\n        text=\"GitHub\", url=\"https://github.com\")\n    )\n    builder.row(types.InlineKeyboardButton(\n        text=\"Official Telegram Channel\",\n        url=\"tg://resolve?domain=telegram\")\n    )\n\n    # To be able to show the ID button,\n    # The user must have the has_private_forwards flag set to False\n    user_id = 1234567890\n    chat_info = await bot.get_chat(user_id)\n    if not chat_info.has_private_forwards:\n        builder.row(types.InlineKeyboardButton(\n            text=\"Some User\",\n            url=f\"tg://user?id={user_id}\")\n        )\n\n    await message.answer(\n        'Choose a link',\n        reply_markup=builder.as_markup(),\n    )\n</code></pre> <p>Let's take a closer look at the middle block of code. The fact is that in March 2019,  Telegram developers added the ability to disable user profile  links in forwarded messages. When trying to create a URL button with a user ID who has disabled forwarding links,  the bot will receive an error <code>Bad Request: BUTTON_USER_PRIVACY_RESTRICTED</code>.  Therefore, before displaying such a button, it is necessary to check the state of this setting.  To do this, you can call the getChat method and check the state of the <code>has_private_forwards</code> field  in the response. If it is <code>True</code>, then the attempt to add a URL-ID button will result in an error.</p>"},{"location":"en/buttons/#callback-buttons","title":"Callbacks","text":"<p>There isn't much more to discuss about URL buttons, so let's move on to the highlight of today's program \u2014 Callback buttons.  These are very powerful and can be found almost everywhere. Reaction buttons on posts (likes), menus in @BotFather, etc.  The essence is that callback buttons have a special value (data) by which your application recognizes what was pressed and what needs to be done.  Choosing the right data is very important! It is also worth noting that, unlike regular buttons, pressing a callback button  allows you to do almost anything, from ordering pizza to launching computations on a supercomputer cluster.</p> <p>Let's write a handler that will send a message with a callback button on the <code>/random</code> command: </p><pre><code>@dp.message(Command(\"random\"))\nasync def cmd_random(message: types.Message):\n    builder = InlineKeyboardBuilder()\n    builder.add(types.InlineKeyboardButton(\n        text=\"Press me\",\n        callback_data=\"random_value\")\n    )\n    await message.answer(\n        \"Press the button for the bot to send a number from 1 to 10\",\n        reply_markup=builder.as_markup()\n    )\n</code></pre> <p>But how do we handle the press? If earlier we used a handler on <code>message</code> to handle incoming messages, now  we will use a handler on <code>callback_query</code> to handle callbacks. We will focus on the button's \"value\", i.e., its data:</p> <pre><code>@dp.callback_query(F.data == \"random_value\")\nasync def send_random_value(callback: types.CallbackQuery):\n    await callback.message.answer(str(randint(1, 10)))\n</code></pre> <p></p> <p>Oh, why is the button pulsing with white? It turns out that the Telegram server is waiting for us to confirm the delivery of the callback, otherwise, within 30 seconds, it will highlight the button with an animated effect (pulsing white or in a different color depending on the client theme). To stop this animation, you need to call the <code>answer()</code> method on the callback (or use the API method <code>answer_callback_query()</code>). In general, you can call the <code>answer()</code> method without any arguments, but you can also call a special window (pop-up or overlay):</p> <pre><code>@dp.callback_query(F.data == \"random_value\")\nasync def send_random_value(callback: types.CallbackQuery):\n    await callback.message.answer(str(randint(1, 10)))\n    await callback.answer(\n        text=\"Thank you for using the bot!\",\n        show_alert=True\n    )\n    # or just await callback.answer()\n</code></pre> <p></p> <p>The reader may wonder: at what point in the processing should we respond to the callback with the <code>answer()</code> method? In general, the main thing is to simply not forget to inform Telegram about receiving the callback request, but I recommend placing  the <code>answer()</code> call at the very end, and here's why: if an error occurs during the callback processing and  the bot encounters an unhandled exception, the user will see the pulsing button animation for half a minute and understand that something  is wrong. Otherwise, the animation will stop, and the user will remain unaware of whether their request was successfully processed or not.</p> <p>Note</p> <p>In the <code>send_random_value</code> function, we called the <code>answer()</code> method not on <code>message</code>, but on <code>callback.message</code>. This is because  callback handlers work not with messages (type Message),  but with callbacks (type CallbackQuery), which have different fields, and  the message itself is just a part of it. Also, note that <code>message</code> is the message to which the  button was attached (i.e., the sender of such a message is the bot itself). If you want to know who pressed the button, look at  the <code>from</code> field (in your code, it will be <code>callback.from_user</code>, as the word <code>from</code> is reserved in Python).</p> <p>About the <code>message</code> object in the callback</p> <p>If the message was sent from inline mode, the <code>message</code> field in the callback will be empty.  You will not be able to get the content of such a message unless you save it somewhere in advance.</p> <p>Let's move on to a more complex example. Suppose the user is offered a message with the number 0, and below it are three buttons: +1, -1, and Confirm.  With the first two, they can edit the number, and the last one removes the entire keyboard, fixing the changes. We will store the values in  memory in a dictionary (we will talk about finite state machines another time).</p> <pre><code># This is where user data is stored.\n# Since this is an in-memory dictionary, it will be cleared upon restart\nuser_data = {}\n\ndef get_keyboard():\n    buttons = [\n        [\n            types.InlineKeyboardButton(text=\"-1\", callback_data=\"num_decr\"),\n            types.InlineKeyboardButton(text=\"+1\", callback_data=\"num_incr\")\n        ],\n        [types.InlineKeyboardButton(text=\"Confirm\", callback_data=\"num_finish\")]\n    ]\n    keyboard = types.InlineKeyboardMarkup(inline_keyboard=buttons)\n    return keyboard\n\n\nasync def update_num_text(message: types.Message, new_value: int):\n    await message.edit_text(\n        f\"Specify the number: {new_value}\",\n        reply_markup=get_keyboard()\n    )\n\n\n@dp.message(Command(\"numbers\"))\nasync def cmd_numbers(message: types.Message):\n    user_data[message.from_user.id] = 0\n    await message.answer(\"Specify the number: 0\", reply_markup=get_keyboard())\n\n\n@dp.callback_query(F.data.startswith(\"num_\"))\nasync def callbacks_num(callback: types.CallbackQuery):\n    user_value = user_data.get(callback.from_user.id, 0)\n    action = callback.data.split(\"_\")[1]\n\n    if action == \"incr\":\n        user_data[callback.from_user.id] = user_value+1\n        await update_num_text(callback.message, user_value+1)\n    elif action == \"decr\":\n        user_data[callback.from_user.id] = user_value-1\n        await update_num_text(callback.message, user_value-1)\n    elif action == \"finish\":\n        await callback.message.edit_text(f\"Total: {user_value}\")\n\n    await callback.answer()\n</code></pre> <p>And it seems to work:</p> <p></p> <p>But now imagine that a cunning user did the following: called the <code>/numbers</code> command (value 0), increased the value  to 1, called <code>/numbers</code> again (the value reset to 0), and edited and pressed the \"+1\" button on the first message.  What will happen? The bot will honestly send a request to edit the text with the value 1, but since the message  already has the number 1, the Bot API will return an error that the old and new texts match, and the bot will catch an exception:  <code>Bad Request: message is not modified: specified new message content and reply markup are exactly the same  as a current content and reply markup of the message</code></p> <p></p> <p>You will likely encounter this error often at first when trying to edit messages.  Generally speaking, such an error often indicates problems with the logic of generating/updating data in the message, but sometimes,  as in the example above, it can be expected behavior. </p> <p>In this case, we will ignore the error entirely, as we only care about  the final result, which will definitely be correct. The MessageNotModified error belongs to the Bad Request category,  so we have a choice: ignore the entire class of such errors, or catch the entire BadRequest class  and try to identify the specific cause by the error text.  To avoid complicating the example too much, we will use the first method and slightly update the <code>update_num_text()</code> function:</p> <pre><code># New imports!\nfrom contextlib import suppress\nfrom aiogram.exceptions import TelegramBadRequest\n\nasync def update_num_text(message: types.Message, new_value: int):\n    with suppress(TelegramBadRequest):\n        await message.edit_text(\n            f\"Specify the number: {new_value}\",\n            reply_markup=get_keyboard()\n        )\n</code></pre> <p>If you now try to repeat the example above, the bot will simply ignore the specified exception in this block of code.</p>"},{"location":"en/buttons/#callback-factory","title":"Callback Factory","text":"<p>When you operate with some simple callbacks with a common prefix, like <code>order_1</code>, <code>order_2</code>... it may seem  easy to call <code>split()</code> and split the string by some delimiter. But now imagine that you need  to store not one value, but three: <code>order_1_1994_2731519</code>. What is the article, price, quantity here? Or maybe it's the year of release?  And splitting the string starts to look scary: <code>.split(\"_\")[2]</code>. Why not 1 or 3? </p> <p>At some point, there is a need to structure the content of such callback data, and aiogram has a solution!  You create <code>CallbackData</code> objects, specify a prefix, describe the structure, and then the framework independently assembles  the string with callback data and, more importantly, correctly parses the incoming value. Let's understand this with a specific example;  we will create a <code>NumbersCallbackFactory</code> class with the prefix <code>fabnum</code> and two fields <code>action</code> and <code>value</code>. The <code>action</code> field determines  what to do, change the value (change) or fix it (finish), and the <code>value</code> field shows by how much to change  the value. By default, it will be None, as the \"finish\" action does not require a change delta. Code:</p> <pre><code># new imports!\nfrom typing import Optional\nfrom aiogram.filters.callback_data import CallbackData\n\nclass NumbersCallbackFactory(CallbackData, prefix=\"fabnum\"):\n    action: str\n    value: Optional[int] = None\n</code></pre> <p>Our class must inherit from <code>CallbackData</code> and accept the prefix value. The prefix is  a common substring at the beginning by which the framework will determine which structure is in the callback. </p> <p>Now let's write the function to generate the keyboard. Here we will use the <code>button()</code> method, which will automatically  create a button with the required type, and we only need to pass the arguments.  As the <code>callback_data</code> argument, instead of a string, we will specify  an instance of our <code>NumbersCallbackFactory</code> class:</p> <pre><code>def get_keyboard_fab():\n    builder = InlineKeyboardBuilder()\n    builder.button(\n        text=\"-2\", callback_data=NumbersCallbackFactory(action=\"change\", value=-2)\n    )\n    builder.button(\n        text=\"-1\", callback_data=NumbersCallbackFactory(action=\"change\", value=-1)\n    )\n    builder.button(\n        text=\"+1\", callback_data=NumbersCallbackFactory(action=\"change\", value=1)\n    )\n    builder.button(\n        text=\"+2\", callback_data=NumbersCallbackFactory(action=\"change\", value=2)\n    )\n    builder.button(\n        text=\"Confirm\", callback_data=NumbersCallbackFactory(action=\"finish\")\n    )\n    # Align buttons 4 per row to get 4 + 1\n    builder.adjust(4)\n    return builder.as_markup()\n</code></pre> <p>We leave the message sending and editing methods the same (we will add the <code>_fab</code> suffix to the names and commands):</p> <pre><code>async def update_num_text_fab(message: types.Message, new_value: int):\n    with suppress(TelegramBadRequest):\n        await message.edit_text(\n            f\"Specify the number: {new_value}\",\n            reply_markup=get_keyboard_fab()\n        )\n\n@dp.message(Command(\"numbers_fab\"))\nasync def cmd_numbers_fab(message: types.Message):\n    user_data[message.from_user.id] = 0\n    await message.answer(\"Specify the number: 0\", reply_markup=get_keyboard_fab())\n</code></pre> <p>Finally, we move on to the main part \u2014 handling callbacks. To do this, we need to pass the class whose callbacks we are catching  to the decorator with the <code>filter()</code> method called. There is also an additional argument named <code>callback_data</code>  (the name must be exactly this!), and it has the same type as the filtered class:</p> <pre><code>@dp.callback_query(NumbersCallbackFactory.filter())\nasync def callbacks_num_change_fab(\n        callback: types.CallbackQuery, \n        callback_data: NumbersCallbackFactory\n):\n    # Current value\n    user_value = user_data.get(callback.from_user.id, 0)\n    # If the number needs to be changed\n    if callback_data.action == \"change\":\n        user_data[callback.from_user.id] = user_value + callback_data.value\n        await update_num_text_fab(callback.message, user_value + callback_data.value)\n    # If the number needs to be fixed\n    else:\n        await callback.message.edit_text(f\"Total: {user_value}\")\n    await callback.answer()\n</code></pre> <p>Let's further specify our handlers and make a separate handler  for numeric buttons and for the \"Confirm\" button. We will filter by the <code>action</code> value, and the \"magic filters\" of aiogram 3.x will help us with this.  Seriously, they are called that: Magic Filter. We will discuss this magic in more detail  in another chapter, but for now, let's just use the \"magic\" and take it on faith:</p> <pre><code># new import!\nfrom magic_filter import F\n\n# Pressing one of the buttons: -2, -1, +1, +2\n@dp.callback_query(NumbersCallbackFactory.filter(F.action == \"change\"))\nasync def callbacks_num_change_fab(\n        callback: types.CallbackQuery, \n        callback_data: NumbersCallbackFactory\n):\n    # Current value\n    user_value = user_data.get(callback.from_user.id, 0)\n\n    user_data[callback.from_user.id] = user_value + callback_data.value\n    await update_num_text_fab(callback.message, user_value + callback_data.value)\n    await callback.answer()\n\n\n# Pressing the \"confirm\" button\n@dp.callback_query(NumbersCallbackFactory.filter(F.action == \"finish\"))\nasync def callbacks_num_finish_fab(callback: types.CallbackQuery):\n    # Current value\n    user_value = user_data.get(callback.from_user.id, 0)\n\n    await callback.message.edit_text(f\"Total: {user_value}\")\n    await callback.answer()\n</code></pre> <p></p> <p>At first glance, what we did may seem complicated, but in reality, the callback factory allows  you to create advanced callback buttons and conveniently break the code into logical entities. You can see the application of the factory  in practice in the Minesweeper game bot,  written by your favorite author :)</p>"},{"location":"en/buttons/#callback-autoreply","title":"Auto-reply to Callbacks","text":"<p>If you have a lot of callback handlers that need either a simple reply or a uniform reply, you can  simplify your life a bit by using a special middleware. We will talk about such things  separately, but for now, let's get acquainted.</p> <p>So, the simplest option is to add this line after creating the dispatcher:</p> <pre><code># don't forget the new import\nfrom aiogram.utils.callback_answer import CallbackAnswerMiddleware\n\ndp = Dispatcher()\ndp.callback_query.middleware(CallbackAnswerMiddleware())\n</code></pre> <p>In this case, after the handler is executed, aiogram will automatically respond to the callback.  You can override  default settings  and specify your own, for example: </p> <pre><code>dp.callback_query.middleware(\n    CallbackAnswerMiddleware(\n        pre=True, text=\"Done!\", show_alert=True\n    )\n)\n</code></pre> <p>Unfortunately, situations where all callback handlers have the same response are quite rare. Fortunately, overriding  the middleware behavior in a specific handler is quite simple: just pass the <code>callback_answer</code> argument  and set new values for it:</p> <pre><code># new import!\nfrom aiogram.utils.callback_answer import CallbackAnswer\n\n@dp.callback_query()\nasync def my_handler(callback: CallbackQuery, callback_answer: CallbackAnswer):\n    ... # some code here\n    if &lt;everything is ok&gt;:\n        callback_answer.text = \"Great!\"\n    else:\n        callback_answer.text = \"Something went wrong. Try again later\"\n        callback_answer.cache_time = 10\n    ... # some code here\n</code></pre> <p>Important: this method will not work if the middleware has the <code>pre=True</code> flag set. In this case, you need to completely  override the middleware parameter set through flags, which we will discuss  later:</p> <pre><code>from aiogram import flags\nfrom aiogram.utils.callback_answer import CallbackAnswer\n\n@dp.callback_query()\n@flags.callback_answer(pre=False)  # override the pre flag\nasync def my_handler(callback: CallbackQuery, callback_answer: CallbackAnswer):\n    ... # some code here\n    if &lt;everything is ok&gt;:\n        callback_answer.text = \"Now this text will be visible!\"\n    ... # some code here\n</code></pre> <p>For now, we will conclude our acquaintance with buttons.</p>"},{"location":"en/filters-and-middlewares/","title":"Filters and Middlewares","text":""},{"location":"en/filters-and-middlewares/#filters-and-middlewares","title":"Filters and Middlewares","text":"<p>aiogram version used: 3.14.0</p> <p>It's time to figure out how filters and middlewares work in aiogram 3.x, and also to get acquainted with  the \"lambda expression killer\" of the framework \u2014 magic filters.</p>"},{"location":"en/filters-and-middlewares/#filters","title":"Filters","text":""},{"location":"en/filters-and-middlewares/#why-filters","title":"Why do we need filters?","text":"<p>If you've written your first bot, then congratulations: you've already used filters,  just built-in ones, not custom ones. Yes, that <code>Command(\"start\")</code> is actually a filter. They are needed  to ensure that the next update from Telegram goes to the right handler, i.e., where it [the update] is expected.</p> <p>Let's look at the simplest example to understand the importance of filters. Let's say we have users Alice with ID 111  and Bob with ID 777. And there's a bot that responds to any text message from our two friends with some  motivational phrase, while rejecting everyone else:</p> <pre><code>from random import choice\n\n@router.message(F.text)\nasync def my_text_handler(message: Message):\n    phrases = [\n        \"Hi! You look great :)\",\n        \"Hello, today will be a great day!\",\n        \"Hi there)) smile :)\"\n    ]\n    if message.from_user.id in (111, 777):\n        await message.answer(choice(phrases))\n    else:\n        await message.answer(\"I don't talk to you!\")\n</code></pre> <p>Then at some point, we decide that we need to make a more personalized greeting for each of our friends,  and for this we split our handler into three: for Alice, for Bob, and for everyone else:</p> <pre><code>@router.message(F.text)\nasync def greet_alice(message: Message):\n    # print(\"Handler for Alice\")\n    phrases = [\n        \"Hi, {name}. You look gorgeous today!\",\n        \"You're the smartest, {name}\",\n    ]\n    if message.from_user.id == 111:\n        await message.answer(\n            choice(phrases).format(name=\"Alice\")\n        )\n\n@router.message(F.text)\nasync def greet_bob(message: Message):\n    phrases = [\n        \"Hi, {name}. You're the strongest!\",\n        \"You're cool, {name}!\",\n    ]\n    if message.from_user.id == 777:\n        await message.answer(\n            choice(phrases).format(name=\"Bob\")\n        )\n\n@router.message(F.text)\nasync def stranger_go_away(message: Message):\n    if message.from_user.id not in (111, 777):\n        await message.answer(\"I don't talk to you!\")\n</code></pre> <p>With this setup, Alice will receive messages and be happy. But everyone else won't get anything because  the code will always go into the <code>greet_alice()</code> function and not pass the <code>if message.from_user.id == 111</code> condition.  You can easily verify this by uncommenting the <code>print()</code> call.</p> <p>But why is that? The answer is simple: any text message will first go through the <code>F.text</code> check above the  <code>greet_alice()</code> function, this check will return <code>True</code> and the update will go into this function, from where, not passing the internal  condition <code>if</code>, it will exit and fade into oblivion.</p> <p>To avoid such issues, filters exist. In reality, the correct check would be  \"text message AND user ID 111\". Then, when Bob with ID 777 writes to the bot, the combination of filters  would return False, and the router would go on to check the next handler where both filters would return True and the update would land in the handler.  Perhaps at first glance the above sounds very complicated, but by the end of this chapter you'll understand how to properly organize  such a check.</p>"},{"location":"en/filters-and-middlewares/#filters-as-classes","title":"Filters as classes","text":"<p>Unlike aiogram 2.x, in \"version 3\" there is no longer a ChatTypeFilter class filter for a specific chat type  (private, group, supergroup, or channel). Let's write it ourselves. Let's say the user will have the ability to specify the desired type  either as a string or as a list. The latter can be useful when we're interested in several types at once,  for example, groups and supergroups.</p> <p>Our application entry point, namely the <code>bot.py</code> file, looks familiar:</p> bot.py<pre><code>import asyncio\n\nfrom aiogram import Bot, Dispatcher\n\n\nasync def main():\n    bot = Bot(token=\"TOKEN\")\n    dp = Dispatcher()\n\n    # Start the bot and skip all accumulated incoming updates\n    # Yes, this method can be called even if you're using polling\n    await bot.delete_webhook(drop_pending_updates=True)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>Next to it, let's create a <code>filters</code> directory, and inside it a file <code>chat_type.py</code>:</p> filters/chat_type.py<pre><code>from typing import Union\n\nfrom aiogram.filters import BaseFilter\nfrom aiogram.types import Message\n\n\nclass ChatTypeFilter(BaseFilter):  # [1]\n    def __init__(self, chat_type: Union[str, list]): # [2]\n        self.chat_type = chat_type\n\n    async def __call__(self, message: Message) -&gt; bool:  # [3]\n        if isinstance(self.chat_type, str):\n            return message.chat.type == self.chat_type\n        else:\n            return message.chat.type in self.chat_type\n</code></pre> <p>Let's pay attention to the highlighted lines:</p> <ol> <li>Our filters inherit from the base class <code>BaseFilter</code></li> <li>In the class constructor, we can set future filter arguments. In this case, we declare the presence of one    argument <code>chat_type</code>, which can be either a string (<code>str</code>) or a list (<code>list</code>).</li> <li>All the action happens in the <code>__call__()</code> method, which is triggered when an instance of the     <code>ChatTypeFilter()</code> class is called as a function.     Inside there's nothing special: we check the type of the passed object and call the appropriate check.     We aim for the filter to return a boolean value, since only the handler whose filters all returned <code>True</code> will be executed next.</li> </ol> <p>Now let's write a couple of handlers in which we'll send a dice of the corresponding type in response to the <code>/dice</code> and <code>/basketball</code> commands, but only in a group. We create a file <code>handlers/group_games.py</code> and write some elementary code:</p> handlers/group_games.py<pre><code>from aiogram import Router\nfrom aiogram.enums.dice_emoji import DiceEmoji\nfrom aiogram.types import Message\nfrom aiogram.filters import Command\n\nfrom filters.chat_type import ChatTypeFilter\n\nrouter = Router()\n\n\n@router.message(\n    ChatTypeFilter(chat_type=[\"group\", \"supergroup\"]),\n    Command(commands=[\"dice\"]),\n)\nasync def cmd_dice_in_group(message: Message):\n    await message.answer_dice(emoji=DiceEmoji.DICE)\n\n\n@router.message(\n    ChatTypeFilter(chat_type=[\"group\", \"supergroup\"]),\n    Command(commands=[\"basketball\"]),\n)\nasync def cmd_basketball_in_group(message: Message):\n    await message.answer_dice(emoji=DiceEmoji.BASKETBALL)\n</code></pre> <p>Well, let's break it down. First, we imported the built-in <code>Command</code> filter and our freshly written  <code>ChatTypeFilter</code>. Second, we passed our filter as a positional argument to the decorator, specifying  the desired chat type(s) as arguments. Third, in aiogram 2.x you were used to filtering commands as <code>commands=...</code>, but in aiogram 3 this is no longer the case,  and the correct way is to use built-in filters in the same way as your own, through importing and calling the corresponding classes.  This is exactly what we see in the second decorator with the call <code>Command(commands=\"somecommand\")</code> or briefly: <code>Command(\"somecommand\")</code></p> <p>All that's left is to import the file with handlers into the entry point and connect the new router to the dispatcher (new lines are highlighted):</p> bot.py<pre><code>import asyncio\n\nfrom aiogram import Bot, Dispatcher\n\nfrom handlers import group_games\n\n\nasync def main():\n    bot = Bot(token=\"TOKEN\")\n    dp = Dispatcher()\n\n    dp.include_router(group_games.router)\n\n    # Start the bot and skip all accumulated incoming updates\n    # Yes, this method can be called even if you're using polling\n    await bot.delete_webhook(drop_pending_updates=True)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>Let's check:</p> <p></p> <p>Everything seems good, but what if we have not 2 handlers, but 10? We'll have to specify our  filter for each one and not forget anywhere. Fortunately, filters can be attached directly to routers! In this case, the check  will be performed exactly once, when the update reaches that router. This can be useful  if you're doing various \"heavy\" tasks in the filter, like accessing the Bot API; otherwise, you can  easily encounter a floodwait.</p> <p>Here's our file with handlers for dice in its final form:</p> handlers/group_games.py<pre><code>from aiogram import Router\nfrom aiogram.enums.dice_emoji import DiceEmoji\nfrom aiogram.filters import Command\nfrom aiogram.types import Message\n\nfrom filters.chat_type import ChatTypeFilter\n\nrouter = Router()\nrouter.message.filter(\n    ChatTypeFilter(chat_type=[\"group\", \"supergroup\"])\n)\n\n\n@router.message(Command(\"dice\"))\nasync def cmd_dice_in_group(message: Message):\n    await message.answer_dice(emoji=DiceEmoji.DICE)\n\n\n@router.message(Command(\"basketball\"))\nasync def cmd_basketball_in_group(message: Message):\n    await message.answer_dice(emoji=DiceEmoji.BASKETBALL)\n</code></pre> <p>Generally speaking, such a filter on chat type can be done a bit differently. Despite the fact  that there are four types of chats (private, group, supergroup, channel), the update of type <code>message</code>  cannot come from channels, as they have their own update <code>channel_post</code>. And when we  filter groups, usually it doesn't matter whether it's a regular group or a supergroup, as long as it's not a private chat.</p> <p>Thus, the filter itself can be reduced to a conditional <code>ChatTypeFilter(is_group=True/False)</code> and simply check if it's a private chat or not. The specific implementation is left to the reader's discretion.</p> <p>In addition to True/False, filters can pass something to handlers that have passed the filter. This can be useful  when we don't want to process a message in the handler because we've already done it in the filter. To make  this clearer, let's write a filter that will pass a message if it contains usernames, and at the same time  \"push\" the found values into handlers.</p> <p>In the filters directory, we create a new file <code>find_usernames.py</code>:</p> filters/find_usernames.py<pre><code>from typing import Union, Dict, Any\n\nfrom aiogram.filters import BaseFilter\nfrom aiogram.types import Message\n\n\nclass HasUsernamesFilter(BaseFilter):\n    async def __call__(self, message: Message) -&gt; Union[bool, Dict[str, Any]]:\n        # If entities don't exist at all, None will be returned,\n        # in this case we consider it an empty list\n        entities = message.entities or []\n\n        # Check any usernames and extract them from the text\n        # using the extract_from() method. See the chapter\n        # about working with messages for more details\n        found_usernames = [\n            item.extract_from(message.text) for item in entities\n            if item.type == \"mention\"\n        ]\n\n        # If there are usernames, then \"push\" them into the handler\n        # with the name \"usernames\"\n        if len(found_usernames) &gt; 0:\n            return {\"usernames\": found_usernames}\n        # If we didn't find any username, return False\n        return False\n</code></pre> <p>And we create a new file with a handler:</p> handlers/usernames.py<pre><code>from typing import List\n\nfrom aiogram import Router, F\nfrom aiogram.types import Message\n\nfrom filters.find_usernames import HasUsernamesFilter\n\nrouter = Router()\n\n\n@router.message(\n    F.text,\n    HasUsernamesFilter()\n)\nasync def message_with_usernames(\n        message: Message,\n        usernames: List[str]\n):\n    await message.reply(\n        f'Thanks! I will definitely subscribe to '\n        f'{\", \".join(usernames)}'\n    )\n</code></pre> <p>In case at least one username is found, the <code>HasUsernamesFilter</code> filter will not just return <code>True</code>, but  a dictionary where the extracted usernames will be stored under the key <code>usernames</code>. Accordingly, in the handler to which  this filter is attached, you can add an argument with exactly the same name to the handler function. Voil\u00e0!  Now there's no need to parse the entire message again and extract the list of usernames:</p> <p></p>"},{"location":"en/filters-and-middlewares/#magic-filters","title":"Magic filters","text":"<p>After getting acquainted with <code>ChatTypeFilter</code> from the previous section, someone might exclaim:  \"why so complicated, when you can simply use a lambda:  <code>lambda m: m.chat.type in (\"group\", \"supergroup\")</code>\"? And you're right! Indeed, for some  simple cases, when you just need to check the value of an object field, creating a separate  file with a filter, then importing it, doesn't make much sense.</p> <p>Alex, the founder and lead developer of aiogram, wrote the  magic-filter library, implementing dynamic retrieval  of object attribute values (kind of like <code>getattr</code> on steroids). Moreover, it already comes with aiogram 3.x.  If you've installed \"version 3\", then you've already installed magic-filter.</p> <p>The magic-filter library is also available on PyPi  and can be used separately from aiogram in your other projects. When using the  library in aiogram, you will have one additional feature, which we'll discuss  later in this chapter.</p> <p>The capabilities of the \"magic filter\" are described in quite detail in the aiogram documentation, but here  we'll focus on the main points.</p> <p>Let's recall what a message's \"content type\" is. This concept doesn't exist in the Bot API, but it  exists in both pyTelegramBotAPI and aiogram. The idea is simple: if the <code>photo</code> field in a  Message object is not empty (i.e., not equal to <code>None</code>  in Python), then this message contains an image, therefore, we consider its  content type to be <code>photo</code>. And the filter <code>content_types=\"photo\"</code> will catch only such messages,  saving the developer from having to check this attribute inside the handler.</p> <p>Now it's not hard to imagine that a lambda expression that in plain language sounds like  \"the 'photo' attribute of the passed variable 'm' must not be equal to None\", in Python looks like  <code>lambda m: m.photo is not None</code>, or, simplifying slightly, <code>lambda m: m.photo</code>. And <code>m</code> itself becomes  the object we are filtering. For example, an object of type <code>Message</code>.</p> <p>Magic-filter offers a similar thing. For this, you need to import the <code>MagicFilter</code> class from aiogram,  but we import it not by its full name, but by the single letter alias <code>F</code>:</p> <pre><code>from aiogram import F\n\n# Here F is the message\n@router.message(F.photo)\nasync def photo_msg(message: Message):\n    await message.answer(\"This is definitely some kind of image!\")\n</code></pre> <p>Instead of the old variant <code>ContentTypesFilter(content_types=\"photo\")</code>, the new one is <code>F.photo</code>. Convenient! And now,  armed with such sacred knowledge, we can easily replace the <code>ChatTypeFilter</code> filter with magic: <code>router.message.filter(F.chat.type.in_({\"group\", \"supergroup\"}))</code>. Moreover, even checking content types can be represented as a magic filter: <code>F.content_type.in_({'text', 'sticker', 'photo'})</code> or <code>F.photo | F.text | F.sticker</code>.</p> <p>Also, it's worth remembering that filters can be applied not only to Message processing, but also to any other  types of updates: callbacks, inline queries, (my_)chat_member, and others.</p> <p>Let's look at that \"exclusive\" feature of magic-filter in aiogram 3.x. It's about the  method <code>as_(&lt;some text&gt;)</code>, which allows you to get the filter result as a handler argument. Here's a short  example to clarify: in messages with photos, these images come in an array, which is usually  sorted in increasing quality order. Accordingly, you can immediately get the photo object  of the highest quality in the handler:</p> <pre><code>from aiogram.types import Message, PhotoSize\n\n@router.message(F.photo[-1].as_(\"largest_photo\"))\nasync def forward_from_channel_handler(message: Message, largest_photo: PhotoSize) -&gt; None:\n    print(largest_photo.width, largest_photo.height)\n</code></pre> <p>A more complex example. If a message is forwarded from anonymous group administrators  or from some channel, then the <code>forward_from_chat</code> field in the <code>Message</code> object will be non-empty with an object  of type <code>Chat</code> inside. Here's what an example will look like that will only work if the <code>forward_from_chat</code> field  is not empty, and in the <code>Chat</code> object, the <code>type</code> field is equal to <code>channel</code> (in other words, we filter out forwards from anonymous  admins, reacting only to forwards from channels):</p> <pre><code>from aiogram import F\nfrom aiogram.types import Message, Chat\n\n@router.message(F.forward_from_chat[F.type == \"channel\"].as_(\"channel\"))\nasync def forwarded_from_channel(message: Message, channel: Chat):\n    await message.answer(f\"This channel's ID is {channel.id}\")\n</code></pre> <p>An even more complex example. With magic-filter, you can check list elements for compliance with some criteria:</p> <pre><code>from aiogram.enums import MessageEntityType\n\n@router.message(F.entities[:].type == MessageEntityType.EMAIL)\nasync def all_emails(message: Message):\n    await message.answer(\"All entities are emails\")\n\n\n@router.message(F.entities[...].type == MessageEntityType.EMAIL)\nasync def any_emails(message: Message):\n    await message.answer(\"At least one email!\")\n</code></pre>"},{"location":"en/filters-and-middlewares/#magic-data","title":"MagicData","text":"<p>Finally, let's briefly touch on MagicData. This filter  allows you to move up a level in terms of filters and operate with values that are passed through middlewares or  into the dispatcher/polling/webhook. Suppose you have a popular bot. And the time has come  to perform maintenance: back up the database, clean up logs, etc. But at the same time, you don't want to shut down the bot  to avoid losing a new audience: let it respond to users saying, please wait a bit.</p> <p>One possible solution is to make a special router that will intercept messages, callbacks, etc., if  in some way a boolean value <code>maintenance_mode</code> equal to <code>True</code> is passed to the bot. A simple single-file example for  understanding this logic is available below:</p> <pre><code>import asyncio\nimport logging\nimport sys\n\nfrom aiogram import Bot, Dispatcher, Router, F\nfrom aiogram.filters import MagicData, CommandStart\nfrom aiogram.types import Message, CallbackQuery\nfrom aiogram.utils.keyboard import InlineKeyboardBuilder\n\n# Create a router for maintenance mode and set filters on the types\nmaintenance_router = Router()\nmaintenance_router.message.filter(MagicData(F.maintenance_mode.is_(True)))\nmaintenance_router.callback_query.filter(MagicData(F.maintenance_mode.is_(True)))\n\nregular_router = Router()\n\n# Handlers of this router will intercept all messages and callbacks \n# if maintenance_mode is True\n@maintenance_router.message()\nasync def any_message(message: Message):\n    await message.answer(\"The bot is in maintenance mode. Please wait.\")\n\n\n@maintenance_router.callback_query()\nasync def any_callback(callback: CallbackQuery):\n    await callback.answer(\n        text=\"The bot is in maintenance mode. Please wait\",\n        show_alert=True\n    )\n\n# Handlers of this router are used OUTSIDE maintenance mode,\n# i.e. when maintenance_mode is False or not specified at all\n@regular_router.message(CommandStart())\nasync def cmd_start(message: Message):\n    builder = InlineKeyboardBuilder()\n    builder.button(text=\"Click me\", callback_data=\"anything\")\n    await message.answer(\n        text=\"Some text with a button\",\n        reply_markup=builder.as_markup()\n    )\n\n\n@regular_router.callback_query(F.data == \"anything\")\nasync def callback_anything(callback: CallbackQuery):\n    await callback.answer(\n        text=\"This is some regular action\",\n        show_alert=True\n    )\n\n\nasync def main() -&gt; None:\n    bot = Bot('1234567890:AaBbCcDdEeFfGrOoShAHhIiJjKkLlMmNnOo')\n    # In real life, the maintenance_mode value\n    # will be taken from an external source (e.g., config or via API)\n    # Remember that since bool type is immutable,\n    # changing it at runtime won't affect anything\n    dp = Dispatcher(maintenance_mode=True)\n    # The maintenance router must be first\n    dp.include_routers(maintenance_router, regular_router)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    logging.basicConfig(level=logging.INFO, stream=sys.stdout)\n    asyncio.run(main())\n</code></pre> <p>Everything should be in moderation</p> <p>Magic-filter provides a powerful tool for filtering and sometimes allows you to concisely describe complex logic,  but it's not a panacea or a universal tool. If you can't immediately write a beautiful magic filter,  don't worry; just make a class filter.  No one will judge you for that.</p>"},{"location":"en/filters-and-middlewares/#middlewares","title":"Middlewares","text":""},{"location":"en/filters-and-middlewares/#why-middlewares","title":"Why do we need middlewares?","text":"<p>Imagine you came to a nightclub with some goal (to listen to music, have a cocktail,  meet new people). And at the entrance, there's a bouncer. He might just let you in,  he might check your ID and decide whether you'll get in or not, he might give you a paper bracelet  to later distinguish real guests from accidentally wandered ones, or he might not let you in at all, sending you home.</p> <p>In aiogram terminology, you are the update, the nightclub is a set of handlers, and the bouncer at the entrance is the middleware. The task of the latter  is to intervene in the process of handling updates to implement some logic. Going back to the example above, what can you  do inside middlewares?</p> <ul> <li>log events;</li> <li>pass some objects to handlers (for example, a database session from a session pool);</li> <li>substitute update handling, not passing to handlers;</li> <li>silently let updates pass as if they never existed;</li> <li>... anything else!</li> </ul>"},{"location":"en/filters-and-middlewares/#middlewares-structure","title":"Types and structure of middlewares","text":"<p>Let's refer to the aiogram 3.x documentation again, but this time in  another section and look at  the following image:</p> <p></p> <p>It turns out there are two types of middlewares: outer and inner (or simply \"middlewares\"). What's the difference?  Outer ones are executed before filtering begins, and inner ones after. In practice, this means that a message/callback/inline query  passing through an outer middleware may not reach any handler, but if it reaches an inner one, then there will  definitely be some handler next.</p> <p>Middlewares on Update type</p> <p>It's worth reminding that Update is the general type for all kinds of events in Telegram. And there are two important features about them  in terms of their processing by aiogram: \u2022 Inner middleware on Update is called always (i.e., in this case, there's no difference between Outer and Inner). \u2022 Middlewares on Update can only be hung on the dispatcher (root router).</p> <p>Let's consider the simplest middleware:</p> <pre><code>from typing import Callable, Dict, Any, Awaitable\nfrom aiogram import BaseMiddleware\nfrom aiogram.types import TelegramObject\n\nclass SomeMiddleware(BaseMiddleware):\n    async def __call__(\n        self,\n        handler: Callable[[TelegramObject, Dict[str, Any]], Awaitable[Any]],\n        event: TelegramObject,\n        data: Dict[str, Any]\n    ) -&gt; Any:\n        print(\"Before handler\")\n        result = await handler(event, data)\n        print(\"After handler\")\n        return result\n</code></pre> <p>Each middleware built on classes (we won't consider  other variants) must implement  the <code>__call__()</code> method with three arguments:</p> <ol> <li>handler \u2014 actually, the handler object that will be executed. It only makes sense for inner middlewares,     since the outer middleware doesn't yet know which handler the update will go into.</li> <li>event \u2014 the type of Telegram object we're processing. Usually it's Update, Message, CallbackQuery or InlineQuery     (but not only). If you know exactly what types of objects you're processing, feel free to write, for example, <code>Message</code> instead of     <code>TelegramObject</code>.</li> <li>data \u2014 data associated with the current update: FSM, additional fields passed from filters, flags (more on them later), etc.     Into this same <code>data</code>, we can put some of our own data from middlewares, which will be available as     arguments in handlers (just like in filters).</li> </ol> <p>With the function body, it gets even more interesting.</p> <ul> <li>Everything you write BEFORE line 13 will be executed before passing control    to the underlying handler (which could be another middleware or directly the handler).</li> <li>Everything you write AFTER line 13 will be executed after exiting the underlying handler.</li> <li>If you want the processing to continue, you MUST call <code>await handler(event, data)</code>. If you want to    \"drop\" the update, just don't call it.</li> <li>If you don't need to get data from the handler, then put    <code>return await handler(event, data)</code> as the last line of the function. If you don't return <code>await handler(event, data)</code> (implicit <code>return None</code>),    then the update will be considered \"dropped\".</li> </ul> <p>All our familiar objects (<code>Message</code>, <code>CallbackQuery</code>, etc.) are updates (<code>Update</code>), so for <code>Message</code>, first  middlewares for <code>Update</code> will be executed, and only then for the <code>Message</code> itself. Let's keep our <code>print()</code> statements from the example above and  trace how the middlewares will be executed if we register one outer and one inner middleware for the types  <code>Update</code> and <code>Message</code>.</p> <p>If a message (<code>Message</code>) is eventually processed by some handler:</p> <ol> <li><code>[Update Outer] Before handler</code></li> <li><code>[Update Inner] Before handler</code></li> <li><code>[Message Outer] Before handler</code></li> <li><code>[Message Inner] Before handler</code></li> <li><code>[Message Inner] After handler</code></li> <li><code>[Message Outer] After handler</code></li> <li><code>[Update Inner] After handler</code></li> <li><code>[Update Outer] After handler</code></li> </ol> <p>If the message doesn't find the right handler:</p> <ol> <li><code>[Update Outer] Before handler</code></li> <li><code>[Update Inner] Before handler</code></li> <li><code>[Message Outer] Before handler</code></li> <li><code>[Message Outer] After handler</code></li> <li><code>[Update Inner] After handler</code></li> <li><code>[Update Outer] After handler</code></li> </ol> <p>Banning users in the bot</p> <p>Very often in Telegram bot groups, the same question is asked: \"how to ban a user in the bot so that  they can't write to the bot?\". Most likely, the best place for this would be an outer middleware on Update, as the earliest  stage of processing a user's request. Moreover, one of the built-in aiogram middlewares puts a dictionary  with user information in <code>data</code> under the key <code>event_from_user</code>. You can then retrieve the user ID from there, compare it with  some of your \"blacklist\" and simply do <code>return</code> to prevent further processing  down the chain.</p>"},{"location":"en/filters-and-middlewares/#middlewares-examples","title":"Examples of middlewares","text":"<p>Let's consider several examples of middlewares.</p>"},{"location":"en/filters-and-middlewares/#middleware-pass-arguments","title":"Passing arguments to middleware","text":"<p>We're using middleware classes, so they have a constructor. This allows us to customize the behavior of the code inside,  controlling it from outside. For example, from a configuration file. Let's write a useless but illustrative \"slowing down\" middleware  that will slow down the processing of incoming messages by the specified number of seconds:</p> <pre><code>import asyncio\nfrom typing import Any, Callable, Dict, Awaitable\nfrom aiogram import BaseMiddleware\nfrom aiogram.types import TelegramObject\n\nclass SlowpokeMiddleware(BaseMiddleware):\n    def __init__(self, sleep_sec: int):\n        self.sleep_sec = sleep_sec\n\n    async def __call__(\n            self,\n            handler: Callable[[TelegramObject, Dict[str, Any]], Awaitable[Any]],\n            event: TelegramObject,\n            data: Dict[str, Any],\n    ) -&gt; Any:\n        # Wait for the specified number of seconds and pass control further down the chain\n        # (this can be either a handler or the next middleware)\n        await asyncio.sleep(self.sleep_sec)\n        result = await handler(event, data)\n        # If you return something in the handler, that value will end up in result\n        print(f\"Handler was delayed by {self.sleep_sec} seconds\")\n        return result\n</code></pre> <p>And now let's hang it on two routers with different values:</p> <pre><code>from aiogram import Router\nfrom &lt;...&gt; import SlowpokeMiddleware\n\n# Somewhere else\nrouter1 = Router()\nrouter2 = Router()\n\nrouter1.message.middleware(SlowpokeMiddleware(sleep_sec=5))\nrouter2.message.middleware(SlowpokeMiddleware(sleep_sec=10))\n</code></pre>"},{"location":"en/filters-and-middlewares/#middleware-store-data","title":"Passing data from middleware","text":"<p>As we already found out earlier, when processing the next update, middlewares have access to a <code>data</code> dictionary  that contains various useful objects: bot, the author of the update (event_from_user), etc. But we can also fill this  dictionary with anything we want. Moreover, later-called middlewares can see what earlier-called ones put there.</p> <p>Consider the following situation: the first middleware gets some internal ID by the user's Telegram ID (for example, from  a supposedly third-party service), and the second middleware calculates the user's \"lucky month\" based on this internal ID (the remainder when dividing the internal ID by 12). All of this is placed in the handler, which either delights or disappoints the person who called  the command. It sounds complicated, but you'll understand everything now. Let's start with the middlewares:</p> <pre><code>from random import randint\nfrom typing import Any, Callable, Dict, Awaitable\nfrom datetime import datetime\nfrom aiogram import BaseMiddleware\nfrom aiogram.types import TelegramObject\n\n# Middleware that gets the user's internal ID from some third-party service\nclass UserInternalIdMiddleware(BaseMiddleware):\n    # Of course, we don't have any service in our example,\n    # just harsh random:\n    def get_internal_id(self, user_id: int) -&gt; int:\n        return randint(100_000_000, 900_000_000) + user_id\n\n    async def __call__(\n            self,\n            handler: Callable[[TelegramObject, Dict[str, Any]], Awaitable[Any]],\n            event: TelegramObject,\n            data: Dict[str, Any],\n    ) -&gt; Any:\n        user = data[\"event_from_user\"]\n        data[\"internal_id\"] = self.get_internal_id(user.id)\n        return await handler(event, data)\n\n# Middleware that calculates the user's \"lucky month\"\nclass HappyMonthMiddleware(BaseMiddleware):\n    async def __call__(\n            self,\n            handler: Callable[[TelegramObject, Dict[str, Any]], Awaitable[Any]],\n            event: TelegramObject,\n            data: Dict[str, Any],\n    ) -&gt; Any:\n        # Get value from the previous middleware\n        internal_id: int = data[\"internal_id\"]\n        current_month: int = datetime.now().month\n        is_happy_month: bool = (internal_id % 12) == current_month\n        # Put True or False into data to retrieve it in the handler\n        data[\"is_happy_month\"] = is_happy_month\n        return await handler(event, data)\n</code></pre> <p>Now let's write a handler, put it in a router, and attach the router to the dispatcher. We'll hang the first middleware as outer on the dispatcher,  because (according to the plan) this internal ID is needed always and everywhere. And we'll hang the second middleware as inner on the specific router,  since the calculation of the lucky month is only needed there.</p> <pre><code>@router.message(Command(\"happymonth\"))\nasync def cmd_happymonth(\n        message: Message, \n        internal_id: int, \n        is_happy_month: bool\n):\n    phrases = [f\"Your ID in our service: {internal_id}\"]\n    if is_happy_month:\n        phrases.append(\"This is your lucky month!\")\n    else:\n        phrases.append(\"Be more careful this month...\")\n    await message.answer(\". \".join(phrases))\n\n# Somewhere else:\nasync def main():\n    dp = Dispatcher()\n    # &lt;...&gt;\n    dp.update.outer_middleware(UserInternalIdMiddleware())\n    router.message.middleware(HappyMonthMiddleware())\n</code></pre> <p>Here are the results we got in November (11<sup>th</sup> month):</p> <p></p>"},{"location":"en/filters-and-middlewares/#no-callbacks-on-weekend","title":"No callbacks on weekends!","text":"<p>Imagine a factory has a Telegram bot, and every morning the factory workers must press an inline button  to confirm their presence and capability. The factory works 5/2 and we want the clicks not to be registered  on Saturdays and Sundays. Since pressing the button is tied to complex logic (sending data to the access control system), on weekends we'll  simply \"drop\" the update and display an error window. The following example can be copied in its entirety and run:</p> <pre><code>import asyncio\nimport logging\nimport sys\nfrom datetime import datetime\nfrom typing import Any, Callable, Dict, Awaitable\n\nfrom aiogram import Bot, Dispatcher, Router, BaseMiddleware, F\nfrom aiogram.filters import Command\nfrom aiogram.types import Message, CallbackQuery, TelegramObject\nfrom aiogram.utils.keyboard import InlineKeyboardBuilder\n\nrouter = Router()\n\n# This will be an outer middleware for any callbacks\nclass WeekendCallbackMiddleware(BaseMiddleware):\n    def is_weekend(self) -&gt; bool:\n        # 5 - Saturday, 6 - Sunday\n        return datetime.utcnow().weekday() in (5, 6)\n\n    async def __call__(\n            self,\n            handler: Callable[[TelegramObject, Dict[str, Any]], Awaitable[Any]],\n            event: TelegramObject,\n            data: Dict[str, Any]\n    ) -&gt; Any:\n        # You can safeguard and ignore the middleware\n        # if it's set up by mistake NOT on callbacks\n        if not isinstance(event, CallbackQuery):\n            # log it somehow\n            return await handler(event, data)\n\n        # If today is not Saturday or Sunday,\n        # then continue processing.\n        if not self.is_weekend():\n            return await handler(event, data)\n        # Otherwise, respond to the callback ourselves\n        # and stop further processing\n        await event.answer(\n            \"What work? The factory is closed until Monday!\",\n            show_alert=True\n        )\n        return\n\n\n@router.message(Command(\"checkin\"))\nasync def cmd_checkin(message: Message):\n    builder = InlineKeyboardBuilder()\n    builder.button(text=\"I'm at work!\", callback_data=\"checkin\")\n    await message.answer(\n        text=\"Press this button only on weekdays!\",\n        reply_markup=builder.as_markup()\n    )\n\n\n@router.callback_query(F.data == \"checkin\")\nasync def callback_checkin(callback: CallbackQuery):\n    # Lots of complex code here\n    await callback.answer(\n        text=\"Thank you for confirming your presence!\",\n        show_alert=True\n    )\n\n\nasync def main() -&gt; None:\n    bot = Bot('1234567890:AaBbCcDdEeFfGrOoShAHhIiJjKkLlMmNnOo')\n    dp = Dispatcher()\n    dp.callback_query.outer_middleware(WeekendCallbackMiddleware())\n    dp.include_router(router)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    logging.basicConfig(level=logging.INFO, stream=sys.stdout)\n    asyncio.run(main())\n</code></pre> <p>Now, if we play a bit with time travel, we can see that on weekdays the bot responds normally,  and on weekends it displays an error.</p>"},{"location":"en/filters-and-middlewares/#flags","title":"Flags","text":"<p>Another interesting feature of aiogram 3.x is flags. Essentially,  these are certain \"markers\" of handlers that can be read in middlewares and elsewhere. With flags, you can mark handlers  without messing with their internal structure, to then do something in middlewares, for example, throttling.</p> <p>Let's consider a slightly modified code  from the documentation. Suppose  your bot has many handlers that deal with sending media files or preparing text for subsequent  sending. If such actions take a long time, it's considered good practice to show a \"typing\" or  \"sending a photo\" status using the sendChatAction method.  By default, such an event is sent for only 5 seconds, but will automatically end if the message  is sent earlier. aiogram has a helper class <code>ChatActionSender</code> that allows you to send  the selected status until the message is sent.</p> <p>We also don't want to stuff <code>ChatActionSender</code> work inside each handler; let the middleware do that with those  handlers that have the <code>long_operation</code> flag set with the status value (for example, <code>typing</code>, <code>choose_sticker</code>...).  Here's the middleware itself:</p> <pre><code>from typing import Callable, Dict, Any, Awaitable\n\nfrom aiogram import BaseMiddleware\nfrom aiogram.dispatcher.flags import get_flag\nfrom aiogram.types import Message\nfrom aiogram.utils.chat_action import ChatActionSender\n\n\nclass ChatActionMiddleware(BaseMiddleware):\n    async def __call__(\n        self,\n        handler: Callable[[Message, Dict[str, Any]], Awaitable[Any]],\n        event: Message,\n        data: Dict[str, Any],\n    ) -&gt; Any:\n        long_operation_type = get_flag(data, \"long_operation\")\n\n        # If there's no such flag on the handler\n        if not long_operation_type:\n            return await handler(event, data)\n\n        # If the flag exists\n        async with ChatActionSender(\n                action=long_operation_type,\n                chat_id=event.chat.id,\n                bot=data[\"bot\"],\n        ):\n            return await handler(event, data)\n</code></pre> <p>Accordingly, for the flag to be read, it must be specified somewhere.  Option: <code>@dp.message(&lt;your filters here&gt;, flags={\"long_operation\": \"upload_video_note\"})</code></p> <p>An example of a throttling middleware can be seen in my  casino bot.</p>"},{"location":"en/messages/","title":"Working with Messages","text":""},{"location":"en/messages/#working-with-messages","title":"Working with Messages","text":"<p>The version of aiogram used: 3.7.0 Tested on aiogram version: 3.21.0 | 07.07.2025</p> <p>In this chapter, we will learn how to apply different types of formatting to messages  and work with media files.</p>"},{"location":"en/messages/#text","title":"Text","text":"<p>Processing text messages is arguably one of the most important actions for most bots.  Text can be used to express almost anything, and you want to present the information beautifully.  Developers have three methods of text formatting at their disposal:  HTML, Markdown, and MarkdownV2. The most advanced among them are HTML and MarkdownV2,  \u201cclassic\u201d Markdown supports fewer features and is no longer used in aiogram.</p> <p>Before we look at the ways of working with text in aiogram, it's necessary to mention  an important distinction between aiogram 3.x and 2.x: in \"version two\" by default, only  text messages were processed, but in \"version three,\" messages of any type are processed.  To be more precise, here is how you now need to handle text messages exclusively:</p> <pre><code># before (with decorator)\n@dp.message_handler()\nasync def func_name(...)\n\n# before (with function-registrar)\ndp.register_message_handler(func_name)\n\n# now (with decorator)\nfrom aiogram import F\n@dp.message(F.text)\nasync def func_name(...)\n\n# now (with function-registrar)\ndp.message.register(func_name, F.text)\n</code></pre> <p>We will talk about the \"magic filter\" F in another chapter.</p>"},{"location":"en/messages/#formatting-options","title":"Formatted Output","text":"<p>The choice of formatting when sending messages is determined by the <code>parse_mode</code> argument, for example: </p><pre><code>from aiogram import F\nfrom aiogram.types import Message\nfrom aiogram.filters import Command\nfrom aiogram.enums import ParseMode\n\n# If you don't specify the F.text filter,\n# then the handler will even trigger on an image with the caption /test\n@dp.message(F.text, Command(\"test\"))\nasync def any_message(message: Message):\n    await message.answer(\n        \"Hello, &lt;b&gt;world&lt;/b&gt;!\", \n        parse_mode=ParseMode.HTML\n    )\n    await message.answer(\n        \"Hello, *world*\\!\", \n        parse_mode=ParseMode.MARKDOWN_V2\n    )\n</code></pre> <p></p> <p>If a particular formatting is used throughout the bot, specifying the <code>parse_mode</code> argument each time can be quite cumbersome.  Fortunately, in aiogram, you can set default bot parameters. To do this, create a <code>DefaultBotProperties</code> object  and pass the required settings into it:</p> <pre><code>from aiogram.client.default import DefaultBotProperties\n\nbot = Bot(\n    token=\"123:abcxyz\",\n    default=DefaultBotProperties(\n        parse_mode=ParseMode.HTML\n        # there are many other interesting settings here\n    )\n)\n\n# somewhere in a function...\nawait message.answer(\"Message with &lt;u&gt;HTML markup&lt;/u&gt;\")\n# to explicitly disable formatting in a specific request, \n# pass parse_mode=None\nawait message.answer(\n    \"Message without &lt;s&gt;any markup&lt;/s&gt;\", \n    parse_mode=None\n)\n</code></pre> <p></p>"},{"location":"en/messages/#input-escaping","title":"Input Escaping","text":"<p>It's not uncommon for situations to arise where the final text of a bot's message is unknown in advance  and is formed based on some external data: the user's name, their input, etc.  Let\u2019s write a handler for the <code>/hello</code> command that will greet the user by their full name  (<code>first_name + last_name</code>), for example: \u201cHello, Ivan Ivanov\u201d:</p> <pre><code>from aiogram.filters import Command\n\n@dp.message(Command(\"hello\"))\nasync def cmd_hello(message: Message):\n    await message.answer(\n        f\"Hello, &lt;b&gt;{message.from_user.full_name}&lt;/b&gt;\",\n        parse_mode=ParseMode.HTML\n    )\n</code></pre> <p>And it seems all good, the bot greets users:</p> <p> </p> <p>But then comes a user with the name &lt;Slavik777&gt; and the bot remains silent! And the logs show the following: <code>aiogram.exceptions.TelegramBadRequest: Telegram server says - Bad Request: can't parse entities:  Unsupported start tag \"Slavik777\" at byte offset 7</code></p> <p>Oops, we have the HTML formatting mode set, and Telegram tries to parse &lt;Slavik777&gt; as an HTML tag. That\u2019s not good.  But there are several solutions to this problem. The first one: escape the passed values.</p> <pre><code>from aiogram import html\nfrom aiogram.filters import Command\n\n@dp.message(Command(\"hello\"))\nasync def cmd_hello(message: Message):\n    await message.answer(\n        f\"Hello, {html.bold(html.quote(message.from_user.full_name))}\",\n        parse_mode=ParseMode.HTML\n    )\n</code></pre> <p>The second one is a bit more complicated but more advanced: use a special tool that will  collect the text and information on which parts of it should be formatted separately.</p> <pre><code>from aiogram.filters import Command\nfrom aiogram.utils.formatting import Text, Bold\n\n@dp.message(Command(\"hello\"))\nasync def cmd_hello(message: Message):\n    content = Text(\n        \"Hello, \",\n        Bold(message.from_user.full_name)\n    )\n    await message.answer(\n        **content.as_kwargs()\n    )\n</code></pre> <p>In the example above, the <code>**content.as_kwargs()</code> construction will return the arguments <code>text</code>, <code>entities</code>, <code>parse_mode</code>, and  substitute them in the call to <code>answer()</code>.</p> <p></p> <p>The mentioned formatting tool is quite complex,  the official documentation demonstrates convenient display  of complex constructs, for example:</p> <pre><code>from aiogram.filters import Command\nfrom aiogram.utils.formatting import (\n    Bold, as_list, as_marked_section, as_key_value, HashTag\n)\n\n@dp.message(Command(\"advanced_example\"))\nasync def cmd_advanced_example(message: Message):\n    content = as_list(\n        as_marked_section(\n            Bold(\"Success:\"),\n            \"Test 1\",\n            \"Test 3\",\n            \"Test 4\",\n            marker=\"\u2705 \",\n        ),\n        as_marked_section(\n            Bold(\"Failed:\"),\n            \"Test 2\",\n            marker=\"\u274c \",\n        ),\n        as_marked_section(\n            Bold(\"Summary:\"),\n            as_key_value(\"Total\", 4),\n            as_key_value(\"Success\", 3),\n            as_key_value(\"Failed\", 1),\n            marker=\"  \",\n        ),\n        HashTag(\"#test\"),\n        sep=\"\\n\\n\",\n    )\n    await message.answer(**content.as_kwargs())\n</code></pre> <p></p> <p>You can learn more about the different formatting methods and supported tags  in the Bot API documentation.</p>"},{"location":"en/messages/#keep-formatting","title":"Preserving Formatting","text":"<p>Let's imagine that a bot needs to receive formatted text from a user and add something of its own, such as a timestamp. We'll write a simple code snippet:</p> <pre><code># New import!\nfrom datetime import datetime\n\n@dp.message(F.text)\nasync def echo_with_time(message: Message):\n    # Get the current time in the local PC timezone\n    time_now = datetime.now().strftime('%H:%M')\n    # Create underlined text\n    added_text = html.underline(f\"Created at {time_now}\")\n    # Send a new message with the added text\n    await message.answer(f\"{message.text}\\n\\n{added_text}\", parse_mode=\"HTML\")\n</code></pre> <p></p> <p>Hmm, something went wrong.  Why did the formatting of the original message get messed up?  This happens because <code>message.text</code> returns plain text without any formatting.  To get the text in the desired format,  let's use alternative properties: <code>message.html_text</code> or <code>message.md_text</code>.  For now, we'll use the first option.  Let's replace <code>message.text</code> with <code>message.html_text</code> in the example above,  and we'll get the correct result:</p> <p></p>"},{"location":"en/messages/#message-entities","title":"Working with Entities","text":"<p>Telegram significantly simplifies the life of developers by preprocessing user messages  on its side. For example, some entities, like e-mail, phone number, username, etc., can  be extracted directly from the Message object  and the <code>entities</code> field, which contains an array of  MessageEntity objects, rather than  using regular expressions.  As an example, let's write a handler that extracts a link, e-mail,  and monospaced text from a message (one of each).</p> <p>Here lies an important catch. Telegram returns not the actual values, but their start position in the text and length.  Moreover, the text is counted in UTF-8 characters, while entities work with UTF-16.  Because of this, if you simply take the position and length,  your processed text will be misaligned if there are UTF-16 characters (e.g., emojis).</p> <p>The example below demonstrates this best.  In the screenshot, the first bot response is the result of naive parsing,  while the second is the result of using the <code>extract_from()</code> method on the entity.  The entire original text is passed to this method:</p> <pre><code>@dp.message(F.text)\nasync def extract_data(message: Message):\n    data = {\n        \"url\": \"&lt;N/A&gt;\",\n        \"email\": \"&lt;N/A&gt;\",\n        \"code\": \"&lt;N/A&gt;\"\n    }\n    entities = message.entities or []\n    for item in entities:\n        if item.type in data.keys():\n            # Incorrect\n            # data[item.type] = message.text[item.offset : item.offset+item.length]\n            # Correct\n            data[item.type] = item.extract_from(message.text)\n    await message.reply(\n        \"Here's what I found:\\n\"\n        f\"URL: {html.quote(data['url'])}\\n\"\n        f\"E-mail: {html.quote(data['email'])}\\n\"\n        f\"Code: {html.quote(data['code'])}\"\n    )\n</code></pre> <p></p>"},{"location":"en/messages/#commands-args","title":"Commands and Their Arguments","text":"<p>Telegram provides  users with many ways to input information.  One of them is commands: keywords that start with a slash, such as <code>/new</code> or <code>/ban</code>.  Sometimes, a bot can be designed to expect some arguments after the command itself,  like <code>/ban 2d</code> or <code>/settimer 20h This is delayed message</code>.  The aiogram library includes a <code>Command()</code> filter, which makes developers' lives easier.  Let's implement the last example in code:</p> <pre><code>@dp.message(Command(\"settimer\"))\nasync def cmd_settimer(\n        message: Message,\n        command: CommandObject\n):\n    # If no arguments are passed,\n    # command.args will be None\n    if command.args is None:\n        await message.answer(\n            \"Error: no arguments passed\"\n        )\n        return\n    # Try to split the arguments into two parts by the first encountered space\n    try:\n        delay_time, text_to_send = command.args.split(\" \", maxsplit=1)\n    # If less than two parts are obtained, a ValueError will be raised\n    except ValueError:\n        await message.answer(\n            \"Error: incorrect command format. Example:\\n\"\n            \"/settimer &lt;time&gt; &lt;message&gt;\"\n        )\n        return\n    await message.answer(\n        \"Timer added!\\n\"\n        f\"Time: {delay_time}\\n\"\n        f\"Text: {text_to_send}\"\n    )\n</code></pre> <p>Let's try passing the command with different arguments (or without any) and check the reaction:</p> <p></p> <p>There may be a minor issue with commands in groups:  Telegram automatically highlights commands that start with a slash,  which can sometimes result in situations like this (thanks to my dear subscribers for helping create the screenshot):</p> <p>P.S. (From the Translator): I don't have subscribers available to help with creating the screenshot, so the users shown in the screenshot are part of the technical support team for one of my projects.</p> <p></p> <p>To avoid this, you can make the bot respond to commands with different prefixes.  These will not be highlighted and will require manual input,  so evaluate the usefulness of this approach yourself.</p> <pre><code>@dp.message(Command(\"custom1\", prefix=\"%\"))\nasync def cmd_custom1(message: Message):\n    await message.answer(\"I see the command!\")\n\n\n# You can specify multiple prefixes....vv...\n@dp.message(Command(\"custom2\", prefix=\"/!\"))\nasync def cmd_custom2(message: Message):\n    await message.answer(\"I see this one too!\")\n</code></pre> <p></p> <p>The issue with custom prefixes in groups is that non-admin bots with Privacy Mode enabled  (by default) may not see such commands due to server logic.  The most common use case is group moderation bots that are already administrators.</p>"},{"location":"en/messages/#deeplinks","title":"Deep Links","text":"<p>There is one command in Telegram with a bit more functionality: <code>/start</code>.  The trick is that you can create a link like <code>t.me/bot?start=xxx</code>,  and when a user clicks on such a link, they will see a \"Start\" button.  When clicked, the bot will receive a <code>/start xxx</code> message.  In other words, the link contains an additional parameter that doesn\u2019t require manual input. This is called a deep link (not to be confused with a \"deep pick\")  and can be used for a variety of purposes: shortcuts for activating different commands,  referral systems, quick bot configuration, etc. Let\u2019s look at two examples:</p> <pre><code>import re\nfrom aiogram import F\nfrom aiogram.types import Message\nfrom aiogram.filters import Command, CommandObject, CommandStart\n\n@dp.message(Command(\"help\"))\n@dp.message(CommandStart(\n    deep_link=True, magic=F.args == \"help\"\n))\nasync def cmd_start_help(message: Message):\n    await message.answer(\"This is a help message\")\n\n\n@dp.message(CommandStart(\n    deep_link=True,\n    magic=F.args.regexp(re.compile(r'book_(\\d+)'))\n))\nasync def cmd_start_book(\n        message: Message,\n        command: CommandObject\n):\n    book_number = command.args.split(\"_\")[1]\n    await message.answer(f\"Sending book \u2116{book_number}\")\n</code></pre> <p></p> <p>Note that deep links using <code>start</code> will send the user to a private chat with the bot.  To choose a group and send the deep link there, replace <code>start</code> with <code>startgroup</code>.  Aiogram also provides a convenient function  to create deep links directly from your code.</p> <p>More deep links, but not for bots</p> <p>The Telegram documentation provides a detailed description of various deep links for client applications:  https://core.telegram.org/api/links</p>"},{"location":"en/messages/#link-previews","title":"Link Previews","text":"<p>Usually, when sending a text message with links,  Telegram tries to find and show a preview of the first link in the order.  You can customize this behavior by passing a <code>LinkPreviewOptions</code> object to the <code>send_message()</code> method's <code>link_preview_options</code> argument:</p> <pre><code># New import\nfrom aiogram.types import LinkPreviewOptions\n\n@dp.message(Command(\"links\"))\nasync def cmd_links(message: Message):\n    links_text = (\n        \"https://nplus1.ru/news/2024/05/23/voyager-1-science-data\"\n        \"\\n\"\n        \"https://t.me/telegram\"\n    )\n    # Link preview disabled\n    options_1 = LinkPreviewOptions(is_disabled=True)\n    await message.answer(\n        f\"No link previews\\n{links_text}\",\n        link_preview_options=options_1\n    )\n\n    # -------------------- #\n\n    # Small preview\n    # To use prefer_small_media, you must also specify the URL\n    options_2 = LinkPreviewOptions(\n        url=\"https://nplus1.ru/news/2024/05/23/voyager-1-science-data\",\n        prefer_small_media=True\n    )\n    await message.answer(\n        f\"Small preview\\n{links_text}\",\n        link_preview_options=options_2\n    )\n\n    # -------------------- #\n\n    # Large preview\n    # To use prefer_large_media, you must also specify the URL\n    options_3 = LinkPreviewOptions(\n        url=\"https://nplus1.ru/news/2024/05/23/voyager-1-science-data\",\n        prefer_large_media=True\n    )\n    await message.answer(\n        f\"Large preview\\n{links_text}\",\n        link_preview_options=options_3\n    )\n\n    # -------------------- #\n\n    # You can combine: small preview and positioning above the text\n    options_4 = LinkPreviewOptions(\n        url=\"https://nplus1.ru/news/2024/05/23/voyager-1-science-data\",\n        prefer_small_media=True,\n        show_above_text=True\n    )\n    await message.answer(\n        f\"Small preview above text\\n{links_text}\",\n        link_preview_options=options_4\n    )\n\n    # -------------------- #\n\n    # You can choose which link to use for the preview\n    options_5 = LinkPreviewOptions(\n        url=\"https://t.me/telegram\"\n    )\n    await message.answer(\n        f\"Preview not for the first link\\n{links_text}\",\n        link_preview_options=options_5\n    )\n</code></pre> <p>Result: </p> <p>Some preview parameters can also be specified by default in <code>DefaultBotProperties</code>,  which was discussed at the beginning of the chapter.</p>"},{"location":"en/messages/#media","title":"Media Files","text":""},{"location":"en/messages/#uploading-media","title":"Uploading Files","text":"<p>In addition to regular text messages, Telegram allows the exchange of various types of media files: photos, videos,  GIFs, locations, stickers, etc. Most media files have <code>file_id</code> and <code>file_unique_id</code> properties.  The first one can be used to resend the same file multiple times instantly since the file is already stored on Telegram's servers.  This is the most preferred method. For example, the following code will make the bot instantly reply to the user with the same GIF that was sent:</p> <pre><code>@dp.message(F.animation)\nasync def echo_gif(message: Message):\n    await message.reply_animation(message.animation.file_id)\n</code></pre> <p>Always use the correct file_id!</p> <p>The bot should only use <code>file_id</code> that it directly received,  for instance, from a user in a private chat or by \"seeing\" the media file in a group/channel. If you try to use a <code>file_id</code> from another bot, it might work, but after some time, you will receive an error wrong url/file_id specified. Therefore, use only your own <code>file_id</code>!</p> <p>Unlike <code>file_id</code>, the <code>file_unique_id</code> cannot be used for resending or downloading the media file,  but it is the same for all bots for a specific media.  <code>file_unique_id</code> is usually needed when multiple bots need to know that their own <code>file_id</code> corresponds to the same file.</p> <p>If the file does not yet exist on the Telegram server, the bot can upload it in three different ways:  as a file in the file system, by a URL, and directly as a byte array.  To speed up sending and generally to be more considerate of the messenger's servers,  it's more efficient to upload files to Telegram once and then use the <code>file_id</code> that will be available after the first media upload.</p> <p>In aiogram 3.x, there are 3 classes for sending files and media - <code>FSInputFile</code>,  <code>BufferedInputFile</code>, <code>URLInputFile</code>. You can learn more about them in the documentation.</p> <p>Let's look at a simple example of sending images in all different ways: </p><pre><code>from aiogram.types import FSInputFile, URLInputFile, BufferedInputFile\n\n@dp.message(Command('images'))\nasync def upload_photo(message: Message):\n    # We will store the file_ids of the sent files here to use them later\n    file_ids = []\n\n    # To demonstrate BufferedInputFile, we use the \"classic\" \n    # file opening method with `open()`. However, this method\n    # is best suited for sending bytes from memory after performing\n    # some manipulations, such as editing with Pillow\n    with open(\"buffer_emulation.jpg\", \"rb\") as image_from_buffer:\n        result = await message.answer_photo(\n            BufferedInputFile(\n                image_from_buffer.read(),\n                filename=\"image from buffer.jpg\"\n            ),\n            caption=\"Image from buffer\"\n        )\n        file_ids.append(result.photo[-1].file_id)\n\n    # Sending a file from the file system\n    image_from_pc = FSInputFile(\"image_from_pc.jpg\")\n    result = await message.answer_photo(\n        image_from_pc,\n        caption=\"Image from file on PC\"\n    )\n    file_ids.append(result.photo[-1].file_id)\n\n    # Sending a file via URL\n    image_from_url = URLInputFile(\"https://picsum.photos/seed/groosha/400/300\")\n    result = await message.answer_photo(\n        image_from_url,\n        caption=\"Image from URL\"\n    )\n    file_ids.append(result.photo[-1].file_id)\n    await message.answer(\"Sent files:\\n\"+\"\\n\".join(file_ids))\n</code></pre> <p>The caption for photos, videos, and GIFs can be placed above the media:</p> <pre><code>@dp.message(Command(\"gif\"))\nasync def send_gif(message: Message):\n    await message.answer_animation(\n        animation=\"&lt;gif file_id&gt;\",\n        caption=\"Me today:\",\n        show_caption_above_media=True\n    )\n</code></pre> <p></p>"},{"location":"en/messages/#downloading-media","title":"Downloading Files","text":"<p>In addition to reusing for sending, the bot can download media to your computer/server.  The <code>Bot</code> object has a <code>download()</code> method for this purpose.  In the examples below, files are downloaded directly to the file system,  but you can also save them to a BytesIO object in memory to pass them on to another application (e.g., Pillow).</p> <pre><code>@dp.message(F.photo)\nasync def download_photo(message: Message, bot: Bot):\n    await bot.download(\n        message.photo[-1],\n        destination=f\"/tmp/{message.photo[-1].file_id}.jpg\"\n    )\n\n\n@dp.message(F.sticker)\nasync def download_sticker(message: Message, bot: Bot):\n    await bot.download(\n        message.sticker,\n        # adjust paths for Windows\n        destination=f\"/tmp/{message.sticker.file_id}.webp\"\n    )\n</code></pre> <p>Why did we use <code>message.photo[-1]</code> instead of <code>message.photo</code>?  Photos in Telegram messages come in several copies;  it\u2019s the same image with different sizes. So, by taking the last element (index -1),  we are working with the maximum available size of the photo.</p> <p>Downloading Large Files</p> <p>Bots using the Telegram Bot API can download files up to 20 megabytes.  If you plan to download/upload larger files, consider using libraries that interact with the  Telegram Client API rather than the Telegram Bot API, such as Telethon  or Pyrogram. Few people know, but the Client API can be used not only by regular accounts but also by  bots.</p> <p>Starting with Bot API version 5.0, you can use a  local Bot API server to work with larger files.</p>"},{"location":"en/messages/#albums","title":"Albums","text":"<p>What we call \"albums\" (media groups) in Telegram are actually separate messages with media that share a common <code>media_group_id</code>  and are visually \"stitched together\" on clients. Starting from version 3.1,  aiogram includes an album builder, which we'll now look at.  But first, let's mention a few features of media groups:</p> <ul> <li>You cannot attach an inline keyboard or send a reply keyboard with them. Not in any way. Absolutely no way.</li> <li>Each media file in the album can have its own caption. If only one media has a caption, it will be displayed as a common caption for the entire album.</li> <li>Photos can be mixed with videos in the same album, but files (Document) and music (Audio) cannot be mixed with anything else, only with media of the same type.</li> <li>An album can have no more than 10 (ten) media files.</li> </ul> <p>Now let's see how to do this in aiogram:</p> <pre><code>from aiogram.filters import Command\nfrom aiogram.types import FSInputFile, Message\nfrom aiogram.utils.media_group import MediaGroupBuilder\n\n@dp.message(Command(\"album\"))\nasync def cmd_album(message: Message):\n    album_builder = MediaGroupBuilder(\n        caption=\"General caption for the future album\"\n    )\n    album_builder.add(\n        type=\"photo\",\n        media=FSInputFile(\"image_from_pc.jpg\")\n        # caption=\"Caption for a specific media\"\n    )\n    # If we immediately know the type, instead of the general add,\n    # we can directly call add_&lt;type&gt;\n    album_builder.add_photo(\n        # For links or file_id, just specify the value directly\n        media=\"https://picsum.photos/seed/groosha/400/300\"\n    )\n    album_builder.add_photo(\n        media=\"&lt;your file_id&gt;\"\n    )\n    await message.answer_media_group(\n        # Don't forget to call build()\n        media=album_builder.build()\n    )\n</code></pre> <p>Result:</p> <p></p> <p>However, downloading albums is much worse... As mentioned above,  albums are just grouped separate messages,  which means that they also arrive to the bot in different updates.  There is probably no 100% reliable way to receive the entire album in one piece,  but you can try to do this with minimal losses.  This is usually done through middleware,  and my own implementation of receiving media groups can be found at this link.</p>"},{"location":"en/messages/#service","title":"Service Messages","text":"<p>Messages in Telegram are divided into text, media files, and service messages.  It's time to talk about the latter.</p> <p></p> <p>Despite their unusual appearance and limited interaction,  these are still messages with their own IDs and even owners.  It is worth noting that the range of applications for service messages has changed over the years,  and now your bot is unlikely to work with them, or only to delete them.</p> <p>Let's not delve too deeply into the details and consider one specific example:  sending a welcome message to a newly joined member.  Such a service message will have a content_type equal to \"new_chat_members\",  but in general, it is a Message object with a populated field of the same name.</p> <pre><code>@dp.message(F.new_chat_members)\nasync def somebody_added(message: Message):\n    for user in message.new_chat_members:\n        # The full_name property takes both the first and last name\n        # (in the screenshot above, the users have no last names)\n        await message.reply(f\"Hello, {user.full_name}\")\n</code></pre> <p></p> <p>It's important to remember that <code>message.new_chat_members</code> is a list because one user can add multiple members at once. Also, do not confuse the fields <code>message.from_user</code> and <code>message.new_chat_members</code>. The first is the subject, i.e., the one who performed the action. The second is the objects of the action. For example, if you see a message like \"Anna added Boris and Victor\", then <code>message.from_user</code> is information about Anna, and the <code>message.new_chat_members</code> list contains information about Boris and Victor.</p> <p>Do not rely entirely on service messages!</p> <p>Service messages about additions (new_chat_members) and exits (left_chat_member) have an unpleasant peculiarity: they are unreliable, meaning they may not be created at all. For instance, the new_chat_members message stops being created at around ~10k members in a group, while left_chat_member stops at 50 (but while writing this chapter, I encountered a situation where left_chat_member did not appear in a group of 9 members. And half an hour later, it appeared in the same group when another person left).</p> <p>With the release of Bot API 5.0, developers have a much more reliable way to see member entries/exits in groups of any size, as well as in channels. But we will talk about this another time.</p>"},{"location":"en/messages/#bonus","title":"Bonus: Hiding a Link in Text","text":"<p>There are situations when you want to send a long message with a picture,  but the limit for captions on media files is only 1024 characters compared to 4096 for regular text messages.  Adding a link to the media at the bottom looks unattractive.  To solve this problem, the approach of \"hidden links\" in HTML markup was invented many years ago.  The idea is that you can place a link in a zero-width space  and insert this structure at the beginning of the message.  For the observer, there is nothing extra in the message,  but the Telegram server sees everything and honestly adds the preview.</p> <p>The aiogram developers even created a special helper method <code>hide_link()</code> for this:</p> <pre><code># new import!\nfrom aiogram.utils.markdown import hide_link\n\n@dp.message(Command(\"hidden_link\"))\nasync def cmd_hidden_link(message: Message):\n    await message.answer(\n        f\"{hide_link('https://telegra.ph/file/562a512448876923e28c3.png')}\"\n        f\"Telegram Documentation: *exists*\\n\"\n        f\"Users: *do not read documentation*\\n\"\n        f\"Groosha:\"\n    )\n</code></pre> <p></p> <p>And using LinkPreviewOptions (see above),  you can place a media file on top with a long caption of 4096 characters below.</p> <p>That's all for now. Until the next chapters! Like, subscribe, and turn on notifications</p>"},{"location":"en/quickstart/","title":"Getting Started with aiogram","text":""},{"location":"en/quickstart/#quickstart","title":"Getting Started with aiogram","text":"<p>The version of aiogram used: 3.7.0 Tested on aiogram version: 3.21.0 | 07.07.2025</p> <p>Some details are intentionally simplified!</p> <p>The author of this book is convinced that along with theory, there should be practice.  To simplify the replication of the code provided below, it was necessary to use approaches  suitable only for local development and learning.</p> <p>Thus, for example, in all or almost all chapters, the bot's token will be indicated  directly in the source texts. This is a bad approach because it can lead to the token being disclosed  if you forget to remove it before uploading the code to a public repository (e.g., GitHub).</p> <p>Or, sometimes, data storage structures located exclusively in memory (dictionaries, lists...) will be used.  In reality, such objects are undesirable, as stopping the bot will lead to the irreversible loss of data.</p> <p>Also, polling is chosen as the mechanism for receiving updates from Telegram  because it is guaranteed to work in the vast majority of environments and suits almost all developers.</p> <p>It is important to remember that the author's goal is to explain specifically how to work with the Telegram Bot API using aiogram, not to teach all of Computer Science in its entirety.</p>"},{"location":"en/quickstart/#glossary","title":"Terminology","text":"<p>To communicate using the same concepts, let's introduce some terms to avoid confusion moving forward:</p> <ul> <li>DM \u2014 direct messages, in the context of a bot this is a one-on-one conversation with a user, not a group/channel.</li> <li>Chat \u2014 a general term for DMs, groups, supergroups, and channels.</li> <li>Update \u2014 any event from this list:  messages, edited messages, callbacks, inline queries, payments, adding bots to groups, etc.</li> <li>Handler \u2014 an asynchronous function that receives the next update from the dispatcher/router  and processes it.</li> <li>Dispatcher \u2014 an object that handles receiving updates from Telegram and subsequently chooses a handler  to process the received update.</li> <li>Router \u2014 similar to the dispatcher, but responsible for a subset of handlers.  It can be said that the dispatcher is the root router.</li> <li>Filter \u2014 an expression that usually returns True or False and affects whether a handler will be called or not.</li> <li>Middleware \u2014 a layer that is inserted into the processing of updates.</li> </ul>"},{"location":"en/quickstart/#installation","title":"Installation","text":"<p>First, let's create a directory for the bot, set up a virtual environment (venv) there, and install the aiogram library. Let's check that Python version 3.11 or higher is installed (if you know that you have version 3.11 or higher, you can skip this section):</p> <p>Important about Python versions</p> <p>Starting with aiogram 3.14+, the minimum supported Python version is 3.9. Python 3.9 reaches End of Life (EOL) and will soon no longer be supported by Aiogram. It is recommended to use Python 3.12 or newer for better performance and security.</p> <pre><code>[groosha@main lesson_01]$ python3.12\nPython 3.12.11 (main, July 06 2025, 16:35:07) \n[GCC 11.1.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; exit()\n[groosha@main lesson_01]$ \n</code></pre> <p>Now let's create a <code>requirements.txt</code> file, in which we will specify the version of aiogram we are using.  We will also need the pydantic-settings library for configuration files.</p> <p>About aiogram versions</p> <p>This chapter uses aiogram 3.x. Before you start,  I recommend checking the release channel of the library to see if there is a newer version available.  Any newer version starting with the number 3 will do, as aiogram 2.x will not be considered anymore and is deemed outdated.</p> <pre><code>[groosha@main 01_quickstart]$ python3.12 -m venv venv\n[groosha@main 01_quickstart]$ echo \"aiogram&lt;4.0\" &gt; requirements.txt\n[groosha@main 01_quickstart]$ echo \"pydantic-settings\" &gt;&gt; requirements.txt\n[groosha@main 01_quickstart]$ source venv/bin/activate\n(venv) [groosha@main 01_quickstart]$ pip install -r requirements.txt \n# ...here a bunch of lines about installation...\nSuccessfully installed ...here a long list...\n[groosha@main 01_quickstart]$\n</code></pre> <p>Note the \"venv\" prefix in the terminal. It indicates that we are inside a virtual environment named \"venv\". Let's verify that inside venv the command <code>python</code> still points to the same Python 3.12: </p><pre><code>(venv) [groosha@main 01_quickstart]$ python\nPython 3.12.11 (main, July 06 2025, 16:35:07) \n[GCC 11.1.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; exit()\n(venv) [groosha@main 01_quickstart]$ deactivate \n[groosha@main 01_quickstart]$ \n</code></pre> <p>Using the last <code>deactivate</code> command, we exited venv so that it doesn't interfere with us now.</p> <p>If you use PyCharm for writing bots, I also recommend installing the third-party  Pydantic plugin to support code autocompletion  in Telegram objects.</p>"},{"location":"en/quickstart/#hello-world","title":"First Bot","text":"<p>Let's create a <code>bot.py</code> file with a basic bot template using aiogram: </p>bot.py<pre><code>import asyncio\nimport logging\nfrom aiogram import Bot, Dispatcher, types\nfrom aiogram.filters.command import Command\n\n# Enable logging to avoid missing important messages\nlogging.basicConfig(level=logging.INFO)\n# Bot object\nbot = Bot(token=\"0000000000:AaBbCcDdEeFfGgHhIiJjKkLlMmNn\")\n# Dispatcher\ndp = Dispatcher()\n\n# Handler for the /start command\n@dp.message(Command(\"start\"))\nasync def cmd_start(message: types.Message):\n    await message.answer(\"Hello!\")\n\n# Start polling for new updates\nasync def main():\n    await dp.start_polling(bot)\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>The first thing to note is that aiogram is an asynchronous library, so your handlers must also be asynchronous,  and you need to put the await keyword before API method calls, as these calls return coroutines.</p> <p>Asynchronous programming in Python</p> <p>Don't neglect the official documentation! A great tutorial on asyncio is available on the Python website</p> <p>If you have previously worked with another library for Telegram, for example, pyTelegramBotAPI,  then the concept of handlers (event processors) will immediately become clear to you.  The difference is that in aiogram, handlers are managed by the dispatcher. The dispatcher registers handler functions,  further limiting the list of events that call them through filters. After receiving the next update (event from Telegram),  the dispatcher will select the appropriate processing function that matches all the filters,  for example, \"processing messages that are images, in a chat with ID x and with a caption length of y\".  If two functions have logically identical filters, the one that was registered first will be called.</p> <p>To register a function as a message handler, you need to do one of two things: 1. Attach a decorator to it, as in the example above.  We will get acquainted with various types of decorators later. 2. Directly call the registration method on the dispatcher or router.</p> <p>Let's consider the following code:</p> <pre><code># Handler for the /test1 command\n@dp.message(Command(\"test1\"))\nasync def cmd_test1(message: types.Message):\n    await message.reply(\"Test 1\")\n\n# Handler for the /test2 command\nasync def cmd_test2(message: types.Message):\n    await message.reply(\"Test 2\")\n</code></pre> <p>Let's start the bot with it: </p> <p>The <code>cmd_test2</code> handler won't work because the dispatcher doesn't know about it.  Let's fix this error and register the function separately: </p><pre><code># Handler for the /test2 command\nasync def cmd_test2(message: types.Message):\n    await message.reply(\"Test 2\")\n\n# Somewhere else, for example, in the main() function:\ndp.message.register(cmd_test2, Command(\"test2\"))\n</code></pre> <p>Let's run the bot again: </p>"},{"location":"en/quickstart/#sugar","title":"Syntactic Sugar","text":"<p>To make the code cleaner and more readable,  aiogram extends the capabilities of standard Telegram objects.  For example, instead of <code>bot.send_message(...)</code>,  you can write <code>message.answer(...)</code> or <code>message.reply(...)</code>.  In the latter two cases, there's no need to specify <code>chat_id</code>,  as it's assumed to be the same as in the original message. The difference between <code>answer</code> and <code>reply</code> is simple:  the first method just sends a message to the same chat,  while the second makes a \"reply\" to the message from <code>message</code>: </p><pre><code>@dp.message(Command(\"answer\"))\nasync def cmd_answer(message: types.Message):\n    await message.answer(\"This is a simple answer\")\n\n\n@dp.message(Command(\"reply\"))\nasync def cmd_reply(message: types.Message):\n    await message.reply('This is a reply with a \"reply\"')\n</code></pre> <p> </p> <p>Moreover, for most message types,  there are helper methods like \"answer_{type}\" or \"reply_{type}\", for example: </p><pre><code>@dp.message(Command(\"dice\"))\nasync def cmd_dice(message: types.Message):\n    await message.answer_dice(emoji=\"\ud83c\udfb2\")\n</code></pre> <p>what does 'message: types.Message' mean?</p> <p>Python is an interpreted language with strong but dynamic typing, which means it lacks built-in type checking like in C++ or Java. However, starting with version 3.5, the language introduced support for type hints, thanks to which various checkers and IDEs like PyCharm analyze the types of used values and suggest to the programmer if they are passing something incorrect. In this case, the hint <code>types.Message</code> informs PyCharm that the variable <code>message</code> is of type <code>Message</code>, described in the <code>types</code> module of the aiogram library (see imports at the beginning of the code). This allows the IDE to suggest attributes and functions on the fly.</p> <p>When the <code>/dice</code> command is called, the bot will send a dice to the same chat.  Of course, if it needs to be sent to some other chat, you would have to call <code>await bot.send_dice(...)</code> the old-fashioned way.  However, the <code>bot</code> object (an instance of the Bot class) might not be available in the scope of a specific function.  In aiogram 3.x, the bot object to which an update is sent is implicitly passed into the handler and can be accessed as the <code>bot</code> argument.  Let's say you want to send a dice not to the same chat but to a channel with the ID -100123456789 in response to the <code>/dice</code> command.  Let's rewrite the previous function:</p> <pre><code># don't forget to import\nfrom aiogram.enums.dice_emoji import DiceEmoji\n\n@dp.message(Command(\"dice\"))\nasync def cmd_dice(message: types.Message, bot: Bot):\n    await bot.send_dice(-100123456789, emoji=DiceEmoji.DICE)\n</code></pre>"},{"location":"en/quickstart/#pass-extras","title":"Passing Extra Parameters","text":"<p>Sometimes when launching a bot, you may need to pass one or several additional values.  This could be some variable, a configuration object, a list of something, a timestamp, or anything else.  To do this, it is sufficient to pass these data as named (kwargs) arguments into the dispatcher, or assign values as  if you were working with a dictionary.</p> <p>This possibility is best suited for passing objects that must exist in a single instance and not change  during the bot's operation (i.e., be read-only). If you anticipate that the value should change over time, remember that  this will only work with mutable objects.  To get the values in the handlers, simply specify them as arguments.  Let's consider an example:</p> <pre><code># Somewhere else\n# For example, at the entry point of the application\nfrom datetime import datetime\n\n# bot = ...\ndp = Dispatcher()\ndp[\"started_at\"] = datetime.now().strftime(\"%Y-%m-%d %H:%M\")\nawait dp.start_polling(bot, mylist=[1, 2, 3])\n\n\n@dp.message(Command(\"add_to_list\"))\nasync def cmd_add_to_list(message: types.Message, mylist: list[int]):\n    mylist.append(7)\n    await message.answer(\"Number 7 added\")\n\n\n@dp.message(Command(\"show_list\"))\nasync def cmd_show_list(message: types.Message, mylist: list[int]):\n    await message.answer(f\"Your list: {mylist}\")\n\n\n@dp.message(Command(\"info\"))\nasync def cmd_info(message: types.Message, started_at: str):\n    await message.answer(f\"Bot launched {started_at}\")\n</code></pre> <p>Now the variable <code>started_at</code> and the list <code>mylist</code> can be read and written in different handlers. And if you need to pass  values unique to each update (for example, a DBMS session object),  then check out middlewares.</p> <p> </p>"},{"location":"en/quickstart/#configuration-files","title":"Configuration Files","text":"<p>In order not to store the token directly in the code (what if you want to upload your bot to a public repository?),  you can move such data to a separate configuration file. There is a good and reasonable opinion,  that for production it is enough to use environment variables, however, within the framework of this book, we will use separate <code>.env</code> files,  to simplify our lives a bit and save readers time on deploying a demo project.</p> <p>So, let's create a separate file <code>config_reader.py</code> next to <code>bot.py</code> with the following content</p> config_reader.py<pre><code>from pydantic_settings import BaseSettings, SettingsConfigDict\nfrom pydantic import SecretStr\n\n\nclass Settings(BaseSettings):\n    # It is preferable to use SecretStr instead of str \n    # for confidential data, such as the bot token\n    bot_token: SecretStr\n\n    # Starting with the second version of pydantic, the settings of the settings class are set\n    # through model_config\n    # In this case, a .env file will be used, which will be read\n    # with UTF-8 encoding\n    model_config = SettingsConfigDict(env_file='.env', env_file_encoding='utf-8')\n\n\n# Upon importing the file, a config object will be immediately created \n# and validated, \n# which can then be imported from different places\nconfig = Settings()\n</code></pre> <p>Now let's make some edits to our <code>bot.py</code>:</p> bot.py<pre><code># imports\nfrom config_reader import config\n\n# For entries of type Secret* you need to \n# call the get_secret_value() method, \n# to get the real content instead of '*******'\nbot = Bot(token=config.bot_token.get_secret_value())\n</code></pre> <p>Finally, we will create a <code>.env</code> file (with a dot at the beginning),  where we will describe the bot token:</p> .env<pre><code>BOT_TOKEN = 0000000000:AaBbCcDdEeFfGgHhIiJjKkLlMmNn\n</code></pre> <p>If everything is done correctly, then when starting, python-dotenv will load the variables from the <code>.env</code> file,  pydantic will validate them and the bot object will be successfully created with the required token.</p> <p>With this, we conclude our introduction to the library, and in the following chapters,  we will look at other \"features\" of aiogram and the Telegram Bot API.</p>"},{"location":"en/routers/","title":"Routers, Multi-file Structure and Bot Architecture","text":""},{"location":"en/routers/#routers-multi-file-structure-and-bot-architecture","title":"Routers, Multi-file Structure and Bot Architecture","text":"<p>aiogram version used: 3.7.0 Tested on aiogram version: 3.21.0 | 07.07.2025</p> <p>In this chapter, we'll explore a new feature of aiogram 3.x \u2014 routers, learn how to split our code into separate components, and establish a basic bot structure that will be useful in subsequent chapters and in general practice.</p>"},{"location":"en/routers/#entrypoint","title":"Application Entry Point","text":"<p>The theater begins with a cloakroom, and a bot begins with an entry point. Let's call it the <code>bot.py</code> file. In it, we'll define an asynchronous function <code>main()</code> where we'll create the necessary objects and start polling. What objects are necessary? First, of course, the bot. There could be several bots, but that's a topic for another time. Second, the dispatcher. It handles receiving events from Telegram and distributing them to handlers through filters and middlewares.</p> bot.py<pre><code>import asyncio\nfrom aiogram import Bot, Dispatcher\n\n\n# Bot launch\nasync def main():\n    bot = Bot(token=\"TOKEN\")\n    dp = Dispatcher()\n\n    # Start the bot and skip all accumulated incoming updates\n    # Yes, this method can be called even if you're using polling\n    await bot.delete_webhook(drop_pending_updates=True)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>But to process messages, this isn't enough; we also need handlers. We want to place them in other files to avoid having thousands of lines in a single file. In previous chapters, all our handlers were attached to the dispatcher, but now it's inside a function, and we definitely don't want to make it a global object. What should we do? This is where routers come to the rescue...</p>"},{"location":"en/routers/#routers","title":"Routers","text":"<p>Let's refer to the official documentation of aiogram 3.x and look at the following image:</p> <p></p> <p>What do we see?</p> <ol> <li>The dispatcher is the root router.</li> <li>Handlers are attached to routers.</li> <li>Routers can be nested, but there's only a one-way connection between them.</li> <li>The order of inclusion (and, consequently, checking) of routers is explicitly defined.</li> </ol> <p>The next image shows the order in which an update searches for the appropriate handler to execute:</p> <p></p> <p>Let's write a simple bot with two features:</p> <ol> <li>If the bot receives <code>/start</code>, it should send a question and two buttons labeled \"Yes\" and \"No\".</li> <li>If the bot receives any other text, sticker, or GIF, it should reply with the name of the message type.</li> </ol> <p>Let's start with the keyboard: create a <code>keyboards</code> directory next to the <code>bot.py</code> file, and inside it a file <code>for_questions.py</code>, where we'll write a function to get a simple keyboard with \"Yes\" and \"No\" buttons in one row:</p> keyboards/for_questions.py<pre><code>from aiogram.types import ReplyKeyboardMarkup\nfrom aiogram.utils.keyboard import ReplyKeyboardBuilder\n\ndef get_yes_no_kb() -&gt; ReplyKeyboardMarkup:\n    kb = ReplyKeyboardBuilder()\n    kb.button(text=\"Yes\")\n    kb.button(text=\"No\")\n    kb.adjust(2)\n    return kb.as_markup(resize_keyboard=True)\n</code></pre> <p>Nothing complicated, especially since we covered keyboards in detail earlier. Now, let's create another directory <code>handlers</code> next to the <code>bot.py</code> file, and inside it a file <code>questions.py</code>.</p> handlers/questions.py<pre><code>from aiogram import Router, F\nfrom aiogram.filters import Command\nfrom aiogram.types import Message, ReplyKeyboardRemove\n\nfrom keyboards.for_questions import get_yes_no_kb\n\nrouter = Router()  # [1]\n\n@router.message(Command(\"start\"))  # [2]\nasync def cmd_start(message: Message):\n    await message.answer(\n        \"Are you satisfied with your job?\",\n        reply_markup=get_yes_no_kb()\n    )\n\n@router.message(F.text.lower() == \"yes\")\nasync def answer_yes(message: Message):\n    await message.answer(\n        \"That's great!\",\n        reply_markup=ReplyKeyboardRemove()\n    )\n\n@router.message(F.text.lower() == \"no\")\nasync def answer_no(message: Message):\n    await message.answer(\n        \"That's a pity...\",\n        reply_markup=ReplyKeyboardRemove()\n    )\n</code></pre> <p>Let's pay attention to points [1] and [2]. First, we created our own module-level router in the file, and later we'll attach it to the root router (dispatcher). Second, handlers are now \"branching off\" from the local router.</p> <p>Similarly, let's create a second file with handlers <code>different_types.py</code>, where we'll simply display the message type:</p> handlers/different_types.py<pre><code>from aiogram import Router, F\nfrom aiogram.types import Message\n\nrouter = Router()\n\n@router.message(F.text)\nasync def message_with_text(message: Message):\n    await message.answer(\"This is a text message!\")\n\n@router.message(F.sticker)\nasync def message_with_sticker(message: Message):\n    await message.answer(\"This is a sticker!\")\n\n@router.message(F.animation)\nasync def message_with_gif(message: Message):\n    await message.answer(\"This is a GIF!\")\n</code></pre> <p>Finally, let's return to our <code>bot.py</code>, import the files with routers and handlers, and connect them to the dispatcher:</p> bot.py<pre><code>import asyncio\nfrom aiogram import Bot, Dispatcher\nfrom handlers import questions, different_types\n\n\n# Bot launch\nasync def main():\n    bot = Bot(token=\"TOKEN\")\n    dp = Dispatcher()\n\n    dp.include_routers(questions.router, different_types.router)\n\n    # Alternative way to register routers one per line\n    # dp.include_router(questions.router)\n    # dp.include_router(different_types.router)\n\n    # Start the bot and skip all accumulated incoming updates\n    # Yes, this method can be called even if you're using polling\n    await bot.delete_webhook(drop_pending_updates=True)\n    await dp.start_polling(bot)\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>We simply import files from the <code>handlers/</code> directory and connect the routers from these files to the dispatcher. And here again, the order of imports is important! If we swap the registration of routers, the bot will respond to the <code>/start</code> command with the phrase \"This is a text message!\" because the <code>message_with_text()</code> function will be the first to successfully pass all filters. But we'll discuss filters a bit later, and for now, let's consider one more question.</p>"},{"location":"en/routers/#conclusion","title":"Conclusion","text":"<p>We've managed to neatly separate the bot into different files without disrupting its functionality. The approximate file and directory tree looks like this (some files not essential for the example are deliberately omitted here):</p> <pre><code>\u251c\u2500\u2500 bot.py\n\u251c\u2500\u2500 handlers\n\u2502   \u251c\u2500\u2500 different_types.py\n\u2502   \u2514\u2500\u2500 questions.py\n\u251c\u2500\u2500 keyboards\n\u2502   \u2514\u2500\u2500 for_questions.py\n</code></pre> <p>Moving forward, we'll stick to this structure, plus add new directories for filters, middlewares, files for working with databases, etc.</p>"},{"location":"uk/","title":"\u0412\u0441\u0442\u0443\u043f","text":""},{"location":"uk/#welcome","title":"\u041b\u0430\u0441\u043a\u0430\u0432\u043e \u043f\u0440\u043e\u0441\u0438\u043c\u043e!","text":"<p>\u0422\u0435, \u0449\u043e \u0432\u0438 \u0431\u0430\u0447\u0438\u0442\u0435 \u043f\u0435\u0440\u0435\u0434 \u0441\u043e\u0431\u043e\u044e, \u0446\u0435 \u0442\u0435, \u0449\u043e \u044f, \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0430\u0447 VAI || Programmer, \u043d\u0430\u0437\u0438\u0432\u0430\u044e \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u043e\u043c \u0437\u0456 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f Telegram-\u0431\u043e\u0442\u0456\u0432 \u043d\u0430 Python \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0443 aiogram. \u0426\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u043c\u043e\u0436\u043d\u0430 \u0440\u043e\u0437\u0433\u043b\u044f\u0434\u0430\u0442\u0438 \u044f\u043a \u043d\u0430\u0432\u0447\u0430\u043b\u044c\u043d\u0438\u0439 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b, \u0437\u0432\u0435\u0440\u0442\u0430\u044e\u0447\u0438\u0441\u044c \u0434\u043e \u043e\u043a\u0440\u0435\u043c\u0438\u0445 \u0440\u043e\u0437\u0434\u0456\u043b\u0456\u0432 \u0437\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u044e, \u0430\u043b\u0435 \u0434\u043b\u044f \u043f\u0435\u0440\u0448\u043e\u0433\u043e \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044f \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0443, \u0432 \u044f\u043a\u043e\u043c\u0443 \u0440\u043e\u0437\u0434\u0456\u043b\u0438 \u043f\u0435\u0440\u0435\u043b\u0456\u0447\u0435\u043d\u0456 \u043b\u0456\u0432\u043e\u0440\u0443\u0447 \u0432\u0456\u0434 \u0446\u044c\u043e\u0433\u043e \u0442\u0435\u043a\u0441\u0442\u0443.</p>"},{"location":"uk/#about-guide","title":"\u041f\u0440\u043e \u0446\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a","text":"<p>\u0426\u0435 \u0442\u0440\u0435\u0442\u044f \u0432\u0435\u0440\u0441\u0456\u044f \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0430, \u043f\u0435\u0440\u0448\u0430 \u0431\u0443\u043b\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0430 \u0443 2015-2017 \u0440\u043e\u043a\u0430\u0445 \u0434\u043b\u044f \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 pyTelegramBotAPI, \u0430 \u0434\u0440\u0443\u0433\u0430 \u0437'\u044f\u0432\u0438\u043b\u0430\u0441\u044f \u0443 2019 \u0440\u043e\u0446\u0456 \u0434\u043b\u044f aiogram 2.x. \u0412 \u0446\u0456\u0439 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u0456\u0439 \u0432\u0435\u0440\u0441\u0456\u0457 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0430 \u043c\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438\u043c\u0435\u043c\u043e \u0432\u0435\u0440\u0441\u0456\u044e 3 aiogram, \u043f\u043e\u0432\u043d\u0438\u0439 \u0440\u0435\u043b\u0456\u0437 \u044f\u043a\u043e\u0457 \u0432\u0456\u0434\u0431\u0443\u0432\u0441\u044f 1 \u0432\u0435\u0440\u0435\u0441\u043d\u044f 2023 \u0440\u043e\u043a\u0443.</p>"},{"location":"uk/#target-audience","title":"\u0414\u043b\u044f \u043a\u043e\u0433\u043e \u0446\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a?","text":"<p>\u041f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f, \u0449\u043e \u0432\u0438 \u0437\u043d\u0430\u0439\u043e\u043c\u0456 \u0437 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0443\u0432\u0430\u043d\u043d\u044f\u043c \u0437\u0430\u0433\u0430\u043b\u043e\u043c \u0456 \u0437 \u043c\u043e\u0432\u043e\u044e Python \u0437\u043e\u043a\u0440\u0435\u043c\u0430, \u0437\u043d\u0430\u0454\u0442\u0435, \u0449\u043e \u0442\u0430\u043a\u0435 \"venv\" \u0456 \"pip\", \u0442\u0430 \u0437\u0434\u0430\u0442\u043d\u0456 \u0440\u043e\u0437\u0443\u043c\u0456\u0442\u0438 \u0439 \u0432\u0438\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u0438 \"\u0434\u0438\u0442\u044f\u0447\u0456\" \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0442\u0438\u043f\u0443 SyntaxError \u0442\u0430 IndentationError. \u0417\u043d\u0430\u0439\u0434\u0456\u0442\u044c \u043a\u0456\u043b\u044c\u043a\u0430 \u043a\u0443\u0440\u0441\u0456\u0432 Python \u0432 \u0406\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0456, \u043f\u0440\u043e\u0439\u0434\u0456\u0442\u044c \u0457\u0445, \u0456 \u0442\u0456\u043b\u044c\u043a\u0438 \u043f\u043e\u0442\u0456\u043c \u043f\u043e\u0447\u0438\u043d\u0430\u0439\u0442\u0435 \u043f\u0438\u0441\u0430\u0442\u0438 \u0431\u043e\u0442\u0456\u0432 \u2014 \u0446\u0435 \u0437\u0430\u043e\u0449\u0430\u0434\u0438\u0442\u044c \u0432\u0430\u043c \u0447\u0430\u0441 \u0456 \u043d\u0435\u0440\u0432\u0438.</p>"},{"location":"uk/#technical-requirements","title":"\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0456 \u0432\u0438\u043c\u043e\u0433\u0438","text":"<p>\u0412 \u0443\u0441\u0456\u0445 \u0440\u043e\u0437\u0434\u0456\u043b\u0430\u0445 \u044f\u043a \u043e\u043f\u0435\u0440\u0430\u0446\u0456\u0439\u043d\u0443 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043c\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438\u043c\u0435\u043c\u043e \u0449\u043e\u0441\u044c \u0456\u0437 \u0441\u0456\u043c\u0435\u0439\u0441\u0442\u0432\u0430 GNU/Linux, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, Ubuntu, Python 3.11 (\u0443 \u0432\u0456\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0456) \u0442\u0430 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0435 \u0440\u043e\u0437\u0440\u043e\u0431\u043a\u0438 PyCharm, \u0445\u043e\u0447\u0430 Visual Studio Code \u0442\u0430\u043a\u043e\u0436 \u0433\u0430\u0440\u043d\u0438\u0439 \u0432\u0438\u0431\u0456\u0440. \u0412\u043e\u0434\u043d\u043e\u0447\u0430\u0441 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456 Windows \u043d\u0435 \u0437\u0430\u043b\u0438\u0448\u0435\u043d\u0456 \u043e\u0441\u0442\u043e\u0440\u043e\u043d\u044c: \u0432\u0441\u0435, \u0449\u043e \u0441\u0442\u043e\u0441\u0443\u0454\u0442\u044c\u0441\u044f \u043a\u043e\u0434\u0443, \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u0442\u0438\u043c\u0435 \u0443 \u0432\u0430\u0441 \u0431\u0435\u0437 \u043f\u0440\u043e\u0431\u043b\u0435\u043c, \u0430 \u0434\u043b\u044f \u0441\u043f\u0435\u0446\u0438\u0444\u0456\u0447\u043d\u0438\u0445 \u0440\u0435\u0447\u0435\u0439 \u043d\u0430 \u043a\u0448\u0442\u0430\u043b\u0442 systemd \u043c\u043e\u0436\u043d\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 Ubuntu \u0443 VirtualBox.</p>"},{"location":"uk/#license","title":"\u041b\u0456\u0446\u0435\u043d\u0437\u0456\u044f \u0442\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456\u0441\u0442\u044c","text":"<p>\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0430 \u0442\u0430 \u0432\u0438\u0445\u0456\u0434\u043d\u0438\u0439 \u043a\u043e\u0434 \u0443 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e\u043c\u0443 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0457 \u043f\u043e\u0432\u043d\u0456\u0441\u0442\u044e \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0456, \u043e\u043f\u0443\u0431\u043b\u0456\u043a\u043e\u0432\u0430\u043d\u0456 \u043f\u0456\u0434 \u043b\u0456\u0446\u0435\u043d\u0437\u0456\u0454\u044e MIT \u0456 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u043a\u043e\u0436\u043d\u043e\u043c\u0443 \u0434\u043b\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f, \u043c\u043e\u0434\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u0457 \u0442\u0430 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0437 \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u044e \u043c\u0435\u0442\u043e\u044e.</p>"},{"location":"uk/#translation-notice","title":"\u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0430 \u043f\u0440\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434","text":"<p>\u0412\u0430\u0436\u043b\u0438\u0432\u0430 \u043f\u0440\u0438\u043c\u0456\u0442\u043a\u0430</p> <p>\u0426\u0435 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u0442\u0430 \u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0456\u044f \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u043e\u0433\u043e \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0430 \u0432\u0456\u0434 Groosha. \u0425\u043e\u0447\u0430 \u044f \u043f\u0440\u0430\u0433\u043d\u0443 \u0434\u043e \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0456, \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u043d\u0430\u0439\u0442\u0438 \u043d\u0435\u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e\u0441\u0442\u0456 \u0430\u0431\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442, \u0441\u043f\u0435\u0446\u0438\u0444\u0456\u0447\u043d\u0438\u0439 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443. \u042f\u043a\u0449\u043e \u0432\u0438 \u043f\u043e\u043c\u0456\u0442\u0438\u0442\u0435 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456 \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0430\u0431\u043e \u043c\u0430\u0454\u0442\u0435 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0457 \u0449\u043e\u0434\u043e \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043d\u0435 \u0441\u043e\u0440\u043e\u043c\u0442\u0435\u0441\u044f \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 issue \u0430\u0431\u043e \u0437\u0432'\u044f\u0437\u0430\u0442\u0438\u0441\u044f \u0437\u0456 \u043c\u043d\u043e\u044e \u0431\u0435\u0437\u043f\u043e\u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e.</p>"},{"location":"uk/#support-author","title":"\u041f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0430\u0432\u0442\u043e\u0440\u0430","text":"<p>\u041e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u0438\u0439 \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0438\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u0431\u0443\u0432 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0439 Groosha. \u042f\u043a\u0449\u043e \u0446\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u0432\u0438\u044f\u0432\u0438\u0432\u0441\u044f \u043a\u043e\u0440\u0438\u0441\u043d\u0438\u043c \u0434\u043b\u044f \u0432\u0430\u0441 \u0456 \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0430\u0432\u0442\u043e\u0440\u0430, \u0443 \u0432\u0430\u0441 \u0454 \u043a\u0456\u043b\u044c\u043a\u0430 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432:</p>"},{"location":"uk/#-telegram-stars-\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u043e","title":"\ud83d\udcab Telegram Stars (\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u043e)","text":"<p>\u041f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 Telegram Stars \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e \u043e\u0444\u0456\u0446\u0456\u0439\u043d\u043e\u0433\u043e \u0431\u043e\u0442\u0430 \u0434\u043b\u044f \u0434\u043e\u043d\u0430\u0442\u0456\u0432: @GrooshaDonateBot</p>"},{"location":"uk/#-\u0442\u0440\u0430\u0434\u0438\u0446\u0456\u0439\u043d\u0430-\u043e\u043f\u043b\u0430\u0442\u0430","title":"\ud83d\udcb3 \u0422\u0440\u0430\u0434\u0438\u0446\u0456\u0439\u043d\u0430 \u043e\u043f\u043b\u0430\u0442\u0430","text":"<p>\u0414\u043b\u044f \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 \u0442\u0430\u043a\u043e\u0436 \u043c\u043e\u0436\u043d\u0430 \u0437\u0434\u0456\u0439\u0441\u043d\u0438\u0442\u0438 \u0434\u043e\u043d\u0430\u0442 \u0447\u0435\u0440\u0435\u0437 YooMoney</p> <p>\u0427\u043e\u043c\u0443 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438?</p> <p>\u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0442\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u0442\u0430\u043a\u0438\u0445 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0441\u043d\u0438\u0445 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0456\u0432 \u0432\u0438\u043c\u0430\u0433\u0430\u0454 \u0437\u043d\u0430\u0447\u043d\u0438\u0445 \u0432\u0438\u0442\u0440\u0430\u0442 \u0447\u0430\u0441\u0443 \u0442\u0430 \u0437\u0443\u0441\u0438\u043b\u044c. \u0412\u0430\u0448\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u0434\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u0454 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0438\u0442\u0438 \u043f\u043e\u0434\u0430\u043b\u044c\u0448\u0438\u0439 \u0440\u043e\u0437\u0432\u0438\u0442\u043e\u043a \u0442\u0430 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u0449\u043e\u0431 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0437\u0430\u043b\u0438\u0448\u0430\u0432\u0441\u044f \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0438\u043c \u0437 \u043d\u0430\u0439\u043d\u043e\u0432\u0456\u0448\u0438\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0456\u044f\u043c\u0438 aiogram.</p>"},{"location":"uk/#acknowledgments","title":"\u041f\u043e\u0434\u044f\u043a\u0438","text":"<p>\u0414\u044f\u043a\u0443\u044e Groosha \u0437\u0430 \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0447\u0443\u0434\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0430, \u0442\u0432\u043e\u0440\u0446\u044e aiogram Alex JRootJunior, \u043a\u043e\u043d\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0440\u0430\u043c \u0441\u0430\u043c\u043e\u0433\u043e aiogram aiogram, \u0430 \u0442\u0430\u043a\u043e\u0436 \u0432\u0430\u043c, \u0434\u043e\u0440\u043e\u0433\u0456 \u0447\u0438\u0442\u0430\u0447\u0456, \u0437\u0430 \u0456\u0441\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u043d\u0438\u043d\u0456\u0448\u043d\u044e \u0444\u043e\u0440\u043c\u0443 \u0446\u044c\u043e\u0433\u043e \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0430!</p>"},{"location":"uk/quickstart/","title":"\u0417\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u043e \u0437 aiogram","text":""},{"location":"uk/quickstart/#quickstart","title":"\u0417\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u043e \u0437 aiogram","text":"<p>\u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u043d\u0430 \u0432\u0435\u0440\u0441\u0456\u044f aiogram: 3.7.0 \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u043e \u043d\u0430 \u0432\u0435\u0440\u0441\u0456\u0457 aiogram: 3.21.0 | 07.07.2025</p> <p>\u0414\u0435\u044f\u043a\u0456 \u0434\u0435\u0442\u0430\u043b\u0456 \u0441\u0432\u0456\u0434\u043e\u043c\u043e \u0441\u043f\u0440\u043e\u0449\u0435\u043d\u0456!</p> <p>\u0410\u0432\u0442\u043e\u0440 \u0446\u0456\u0454\u0457 \u043a\u043d\u0438\u0433\u0438 \u043f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u043d\u0438\u0439, \u0449\u043e \u043e\u043a\u0440\u0456\u043c \u0442\u0435\u043e\u0440\u0456\u0457 \u043f\u043e\u0432\u0438\u043d\u043d\u0430 \u0431\u0443\u0442\u0438 \u0456 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430. \u0429\u043e\u0431 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0441\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0435\u043d\u043d\u044f  \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u043e\u0433\u043e \u0434\u0430\u043b\u0456 \u043a\u043e\u0434\u0443, \u0434\u043e\u0432\u0435\u043b\u043e\u0441\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 \u043f\u0456\u0434\u0445\u043e\u0434\u0438, \u043f\u0440\u0438\u0434\u0430\u0442\u043d\u0456 \u043b\u0438\u0448\u0435 \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0457 \u0440\u043e\u0437\u0440\u043e\u0431\u043a\u0438  \u0442\u0430 \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u044f.</p> <p>\u0422\u0430\u043a, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0443 \u0432\u0441\u0456\u0445 \u0430\u0431\u043e \u043c\u0430\u0439\u0436\u0435 \u0443 \u0432\u0441\u0456\u0445 \u0440\u043e\u0437\u0434\u0456\u043b\u0430\u0445 \u0442\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430 \u0431\u0443\u0434\u0435 \u0432\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043f\u0440\u044f\u043c\u043e \u0443 \u0432\u0438\u0445\u0456\u0434\u043d\u0438\u0445 \u0442\u0435\u043a\u0441\u0442\u0430\u0445.  \u0426\u0435 \u043f\u043e\u0433\u0430\u043d\u0438\u0439 \u043f\u0456\u0434\u0445\u0456\u0434, \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u043c\u043e\u0436\u0435 \u043f\u0440\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0434\u043e \u0440\u043e\u0437\u043a\u0440\u0438\u0442\u0442\u044f \u0442\u043e\u043a\u0435\u043d\u0430, \u044f\u043a\u0449\u043e \u0432\u0438 \u0437\u0430\u0431\u0443\u0434\u0435\u0442\u0435 \u0439\u043e\u0433\u043e \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u0435\u0440\u0435\u0434 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f\u043c  \u043a\u043e\u0434\u0443 \u0443 \u043f\u0443\u0431\u043b\u0456\u0447\u043d\u0438\u0439 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0439 (\u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, GitHub).</p> <p>\u0410\u0431\u043e \u0456\u043d\u043e\u0434\u0456 \u044f\u043a \u0441\u0445\u043e\u0432\u0438\u0449\u0430 \u0434\u0430\u043d\u0438\u0445 \u0431\u0443\u0434\u0443\u0442\u044c \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0438, \u0440\u043e\u0437\u0442\u0430\u0448\u043e\u0432\u0430\u043d\u0456 \u0432\u0438\u043a\u043b\u044e\u0447\u043d\u043e \u0432  \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0456\u0439 \u043f\u0430\u043c'\u044f\u0442\u0456 (\u0441\u043b\u043e\u0432\u043d\u0438\u043a\u0438, \u0441\u043f\u0438\u0441\u043a\u0438...). \u041d\u0430\u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0442\u0430\u043a\u0456 \u043e\u0431'\u0454\u043a\u0442\u0438 \u043d\u0435\u0431\u0430\u0436\u0430\u043d\u0456, \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0437\u0443\u043f\u0438\u043d\u043a\u0430  \u0431\u043e\u0442\u0430 \u043f\u0440\u0438\u0437\u0432\u0435\u0434\u0435 \u0434\u043e \u0431\u0435\u0437\u043f\u043e\u0432\u043e\u0440\u043e\u0442\u043d\u043e\u0457 \u0432\u0442\u0440\u0430\u0442\u0438 \u0434\u0430\u043d\u0438\u0445.</p> <p>\u0422\u0430\u043a\u043e\u0436 \u043c\u0435\u0445\u0430\u043d\u0456\u0437\u043c\u043e\u043c \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c \u0432\u0456\u0434 Telegram \u043e\u0431\u0440\u0430\u043d\u043e \u043f\u043e\u043b\u043b\u0456\u043d\u0433, \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u0432\u0456\u043d \u0433\u0430\u0440\u0430\u043d\u0442\u043e\u0432\u0430\u043d\u043e \u043f\u0440\u0430\u0446\u044e\u0454  \u0443 \u043f\u0435\u0440\u0435\u0432\u0430\u0436\u043d\u0456\u0439 \u0431\u0456\u043b\u044c\u0448\u043e\u0441\u0442\u0456 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449 \u0456 \u043f\u0456\u0434\u0445\u043e\u0434\u0438\u0442\u044c \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u043d\u043e \u0432\u0441\u0456\u043c \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430\u043c. </p> <p>\u0412\u0430\u0436\u043b\u0438\u0432\u043e \u043f\u0430\u043c'\u044f\u0442\u0430\u0442\u0438, \u0449\u043e \u0430\u0432\u0442\u043e\u0440 \u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0434 \u0441\u043e\u0431\u043e\u044e \u043c\u0435\u0442\u0443 \u043f\u043e\u044f\u0441\u043d\u0438\u0442\u0438 \u0441\u0430\u043c\u0435 \u0440\u043e\u0431\u043e\u0442\u0443 \u0437 Telegram Bot API \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e  aiogram, \u0430 \u043d\u0435 \u0432\u0437\u0430\u0433\u0430\u043b\u0456 \u0432\u0435\u0441\u044c Computer Science \u0443 \u0432\u0441\u044c\u043e\u043c\u0443 \u0439\u043e\u0433\u043e \u0440\u0456\u0437\u043d\u043e\u043c\u0430\u043d\u0456\u0442\u0442\u0456.</p>"},{"location":"uk/quickstart/#glossary","title":"\u0422\u0435\u0440\u043c\u0456\u043d\u043e\u043b\u043e\u0433\u0456\u044f","text":"<p>\u0429\u043e\u0431 \u0433\u043e\u0432\u043e\u0440\u0438\u0442\u0438 \u0432 \u043e\u0434\u043d\u0438\u0445 \u0456 \u0442\u0438\u0445 \u0436\u0435 \u043f\u043e\u043d\u044f\u0442\u0442\u044f\u0445, \u0432\u0432\u0435\u0434\u0435\u043c\u043e \u0434\u0435\u044f\u043a\u0456 \u0442\u0435\u0440\u043c\u0456\u043d\u0438, \u0430\u0431\u0438 \u043d\u0430\u0434\u0430\u043b\u0456 \u043d\u0435 \u043f\u043b\u0443\u0442\u0430\u0442\u0438\u0441\u044f:</p> <ul> <li>\u041f\u041f \u2014 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0456 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f, \u0443 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0456 \u0431\u043e\u0442\u0430 \u0446\u0435 \u0434\u0456\u0430\u043b\u043e\u0433 \u043e\u0434\u0438\u043d \u043d\u0430 \u043e\u0434\u0438\u043d \u0437 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0435\u043c, \u0430 \u043d\u0435 \u0433\u0440\u0443\u043f\u0430/\u043a\u0430\u043d\u0430\u043b.</li> <li>\u0427\u0430\u0442 \u2014 \u0437\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u043d\u0430\u0437\u0432\u0430 \u0434\u043b\u044f \u041f\u041f, \u0433\u0440\u0443\u043f, \u0441\u0443\u043f\u0435\u0440\u0433\u0440\u0443\u043f \u0456 \u043a\u0430\u043d\u0430\u043b\u0456\u0432.</li> <li>\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u2014 \u0431\u0443\u0434\u044c-\u044f\u043a\u0430 \u043f\u043e\u0434\u0456\u044f \u0437 \u0446\u044c\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0443:  \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f, \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f, \u043a\u043e\u043b\u0431\u0435\u043a, \u0456\u043d\u043b\u0430\u0439\u043d-\u0437\u0430\u043f\u0438\u0442, \u043f\u043b\u0430\u0442\u0456\u0436, \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f \u0431\u043e\u0442\u0430 \u0432 \u0433\u0440\u0443\u043f\u0443 \u0442\u043e\u0449\u043e. </li> <li>\u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u2014 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0456\u044f, \u044f\u043a\u0430 \u043e\u0442\u0440\u0438\u043c\u0443\u0454 \u0432\u0456\u0434 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0430/\u0440\u043e\u0443\u0442\u0435\u0440\u0430 \u0447\u0435\u0440\u0433\u043e\u0432\u0435 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f  \u0456 \u043e\u0431\u0440\u043e\u0431\u043b\u044f\u0454 \u0439\u043e\u0433\u043e.</li> <li>\u0414\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u2014 \u043e\u0431'\u0454\u043a\u0442, \u0449\u043e \u0437\u0430\u0439\u043c\u0430\u0454\u0442\u044c\u0441\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f\u043c \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c \u0432\u0456\u0434 Telegram \u0437 \u043f\u043e\u0434\u0430\u043b\u044c\u0448\u0438\u043c \u0432\u0438\u0431\u043e\u0440\u043e\u043c \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430  \u0434\u043b\u044f \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043e\u0433\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f.</li> <li>\u0420\u043e\u0443\u0442\u0435\u0440 \u2014 \u0430\u043d\u0430\u043b\u043e\u0433\u0456\u0447\u043d\u043e \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0443, \u0430\u043b\u0435 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u0437\u0430 \u043f\u0456\u0434\u043c\u043d\u043e\u0436\u0438\u043d\u0443 \u043c\u043d\u043e\u0436\u0438\u043d\u0438 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0456\u0432.  \u041c\u043e\u0436\u043d\u0430 \u0441\u043a\u0430\u0437\u0430\u0442\u0438, \u0449\u043e \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u2014 \u0446\u0435 \u043a\u043e\u0440\u0435\u043d\u0435\u0432\u0438\u0439 \u0440\u043e\u0443\u0442\u0435\u0440.</li> <li>\u0424\u0456\u043b\u044c\u0442\u0440 \u2014 \u0432\u0438\u0440\u0430\u0437, \u044f\u043a\u0438\u0439 \u0437\u0430\u0437\u0432\u0438\u0447\u0430\u0439 \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u0454 True \u0430\u0431\u043e False \u0456 \u0432\u043f\u043b\u0438\u0432\u0430\u0454 \u043d\u0430 \u0442\u0435, \u0447\u0438 \u0431\u0443\u0434\u0435 \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u043d\u0438\u0439 \u0445\u0435\u043d\u0434\u043b\u0435\u0440.</li> <li>\u041c\u0456\u0434\u043b\u0432\u0435\u0430\u0440 \u2014 \u043f\u0440\u043e\u0448\u0430\u0440\u043e\u043a, \u044f\u043a\u0438\u0439 \u0432\u0442\u0440\u0443\u0447\u0430\u0454\u0442\u044c\u0441\u044f \u0432 \u043e\u0431\u0440\u043e\u0431\u043a\u0443 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c. </li> </ul>"},{"location":"uk/quickstart/#installation","title":"\u0412\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f","text":"<p>\u0414\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u0434\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0434\u043b\u044f \u0431\u043e\u0442\u0430, \u043e\u0440\u0433\u0430\u043d\u0456\u0437\u0443\u0454\u043c\u043e \u0442\u0430\u043c virtual environment (\u0434\u0430\u043b\u0456 venv) \u0456 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c\u043e \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0443 aiogram. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e, \u0449\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e Python \u0432\u0435\u0440\u0441\u0456\u0457 3.11 \u0430\u0431\u043e \u0432\u0438\u0449\u0435 (\u044f\u043a\u0449\u043e \u0432\u0438 \u0437\u043d\u0430\u0454\u0442\u0435, \u0449\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e 3.11 \u0456 \u0432\u0438\u0449\u0435, \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u0438 \u0446\u0435\u0439 \u0440\u043e\u0437\u0434\u0456\u043b):</p> <p>\u0412\u0430\u0436\u043b\u0438\u0432\u043e \u043f\u0440\u043e \u0432\u0435\u0440\u0441\u0456\u0457 Python</p> <p>\u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 aiogram 3.14+, \u043c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u043d\u0430 \u0432\u0435\u0440\u0441\u0456\u044f Python \u2014 3.9.  Python 3.9 \u0434\u043e\u0441\u044f\u0433\u0430\u0454 End of Life (EOL) \u0456 \u043d\u0435\u0437\u0430\u0431\u0430\u0440\u043e\u043c \u043d\u0435 \u0431\u0443\u0434\u0435 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438\u0441\u044f Aiogram.  \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0454\u0442\u044c\u0441\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 Python 3.12 \u0430\u0431\u043e \u043d\u043e\u0432\u0456\u0448\u0438\u0439 \u0434\u043b\u044f \u043a\u0440\u0430\u0449\u043e\u0457 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456 \u0442\u0430 \u0431\u0435\u0437\u043f\u0435\u043a\u0438.</p> <pre><code>[groosha@main lesson_01]$ python3.12\nPython 3.12.11 (main, July 06 2025, 16:35:07) \n[GCC 11.1.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; exit()\n[groosha@main lesson_01]$ \n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u0441\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u0444\u0430\u0439\u043b <code>requirements.txt</code>, \u0443 \u044f\u043a\u043e\u043c\u0443 \u0432\u043a\u0430\u0436\u0435\u043c\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u043d\u0443 \u043d\u0430\u043c\u0438 \u0432\u0435\u0440\u0441\u0456\u044e aiogram. \u0422\u0430\u043a\u043e\u0436 \u043d\u0430\u043c \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u044c\u0441\u044f  \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430 pydantic-settings \u0434\u043b\u044f \u0444\u0430\u0439\u043b\u0456\u0432 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457.</p> <p>\u041f\u0440\u043e \u0432\u0435\u0440\u0441\u0456\u0457 aiogram</p> <p>\u0423 \u0446\u044c\u043e\u043c\u0443 \u0440\u043e\u0437\u0434\u0456\u043b\u0456 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u044c\u0441\u044f aiogram 3.x, \u043f\u0435\u0440\u0435\u0434 \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u043c \u0440\u043e\u0431\u043e\u0442\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u0437\u0430\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u0434\u043e  \u043a\u0430\u043d\u0430\u043b\u0443 \u0440\u0435\u043b\u0456\u0437\u0456\u0432 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u0442\u0438 \u043d\u0430\u044f\u0432\u043d\u0456\u0441\u0442\u044c \u0431\u0456\u043b\u044c\u0448 \u043d\u043e\u0432\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457. \u041f\u0456\u0434\u0456\u0439\u0434\u0435 \u0431\u0443\u0434\u044c-\u044f\u043a\u0430  \u0431\u0456\u043b\u044c\u0448 \u043d\u043e\u0432\u0430, \u0449\u043e \u043f\u043e\u0447\u0438\u043d\u0430\u0454\u0442\u044c\u0441\u044f \u0437 \u0446\u0438\u0444\u0440\u0438 3, \u043e\u0441\u043a\u0456\u043b\u044c\u043a\u0438 aiogram 2.x \u0431\u0456\u043b\u044c\u0448\u0435 \u043d\u0435 \u0440\u043e\u0437\u0433\u043b\u044f\u0434\u0430\u0442\u0438\u043c\u0435\u0442\u044c\u0441\u044f \u0456 \u0432\u0432\u0430\u0436\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0438\u043c.</p> <pre><code>[groosha@main 01_quickstart]$ python3.12 -m venv venv\n[groosha@main 01_quickstart]$ echo \"aiogram&lt;4.0\" &gt; requirements.txt\n[groosha@main 01_quickstart]$ echo \"pydantic-settings\" &gt;&gt; requirements.txt\n[groosha@main 01_quickstart]$ source venv/bin/activate\n(venv) [groosha@main 01_quickstart]$ pip install -r requirements.txt \n# ...\u0442\u0443\u0442 \u043a\u0443\u043f\u0430 \u0440\u044f\u0434\u043a\u0456\u0432 \u043f\u0440\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f...\nSuccessfully installed ...\u0442\u0443\u0442 \u0434\u043e\u0432\u0433\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a...\n[groosha@main 01_quickstart]$\n</code></pre> <p>\u0417\u0432\u0435\u0440\u043d\u0456\u0442\u044c \u0443\u0432\u0430\u0433\u0443 \u043d\u0430 \u043f\u0440\u0435\u0444\u0456\u043a\u0441 \"venv\" \u0443 \u0442\u0435\u0440\u043c\u0456\u043d\u0430\u043b\u0456. \u0412\u0456\u043d \u0432\u043a\u0430\u0437\u0443\u0454, \u0449\u043e \u043c\u0438 \u0437\u043d\u0430\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u044f \u0443 \u0432\u0456\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u0441\u0435\u0440\u0435\u0434\u043e\u0432\u0438\u0449\u0456 \u0437 \u0456\u043c\u0435\u043d\u0435\u043c \"venv\". \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0438\u043c\u043e, \u0449\u043e \u0432\u0441\u0435\u0440\u0435\u0434\u0438\u043d\u0456 venv \u0432\u0438\u043a\u043b\u0438\u043a \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>python</code> \u0432\u043a\u0430\u0437\u0443\u0454 \u043d\u0430 \u0432\u0441\u0435 \u0442\u043e\u0439 \u0436\u0435 Python 3.12: </p><pre><code>(venv) [groosha@main 01_quickstart]$ python\nPython 3.12.11 (main, July 06 2025, 16:35:07) \n[GCC 11.1.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; exit()\n(venv) [groosha@main 01_quickstart]$ deactivate \n[groosha@main 01_quickstart]$ \n</code></pre> <p>\u041e\u0441\u0442\u0430\u043d\u043d\u044c\u043e\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u044e <code>deactivate</code> \u043c\u0438 \u0432\u0438\u0439\u0448\u043b\u0438 \u0437 venv, \u0449\u043e\u0431 \u0432\u0456\u043d \u043d\u0430\u043c \u043d\u0435 \u0437\u0430\u0432\u0430\u0436\u0430\u0432. </p> <p>\u042f\u043a\u0449\u043e \u0434\u043b\u044f \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044f \u0431\u043e\u0442\u0456\u0432 \u0432\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454\u0442\u0435 PyCharm, \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u0442\u0430\u043a\u043e\u0436 \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0456\u0439 \u043f\u043b\u0430\u0433\u0456\u043d  Pydantic \u0434\u043b\u044f \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0438 \u0430\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u0432\u043d\u0435\u043d\u043d\u044f \u043a\u043e\u0434\u0443  \u0443 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c\u043d\u0438\u0445 \u043e\u0431'\u0454\u043a\u0442\u0430\u0445.</p>"},{"location":"uk/quickstart/#hello-world","title":"\u041f\u0435\u0440\u0448\u0438\u0439 \u0431\u043e\u0442","text":"<p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u0444\u0430\u0439\u043b <code>bot.py</code> \u0437 \u0431\u0430\u0437\u043e\u0432\u0438\u043c \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u043c \u0431\u043e\u0442\u0430 \u043d\u0430 aiogram: </p>bot.py<pre><code>import asyncio\nimport logging\nfrom aiogram import Bot, Dispatcher, types\nfrom aiogram.filters.command import Command\n\n# \u0412\u043a\u043b\u044e\u0447\u0430\u0454\u043c\u043e \u043b\u043e\u0433\u0443\u0432\u0430\u043d\u043d\u044f, \u0449\u043e\u0431 \u043d\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u0438 \u0432\u0430\u0436\u043b\u0438\u0432\u0456 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f\nlogging.basicConfig(level=logging.INFO)\n# \u041e\u0431'\u0454\u043a\u0442 \u0431\u043e\u0442\u0430\nbot = Bot(token=\"0000000000:AaBbCcDdEeFfGgHhIiJjKkLlMmNn\")\n# \u0414\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\ndp = Dispatcher()\n\n# \u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /start\n@dp.message(Command(\"start\"))\nasync def cmd_start(message: types.Message):\n    await message.answer(\"\u041f\u0440\u0438\u0432\u0456\u0442!\")\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0446\u0435\u0441\u0443 \u043f\u043e\u043b\u043b\u0456\u043d\u0433\u0443 \u043d\u043e\u0432\u0438\u0445 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u044c\nasync def main():\n    await dp.start_polling(bot)\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n</code></pre> <p>\u041f\u0435\u0440\u0448\u0435, \u043d\u0430 \u0449\u043e \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0432\u0435\u0440\u043d\u0443\u0442\u0438 \u0443\u0432\u0430\u0433\u0443: aiogram \u2014 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0430, \u0442\u043e\u043c\u0443 \u0432\u0430\u0448\u0456 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0438 \u0442\u0430\u043a\u043e\u0436 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u0431\u0443\u0442\u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0438\u043c\u0438,  \u0430 \u043f\u0435\u0440\u0435\u0434 \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u043c\u0438 \u043c\u0435\u0442\u043e\u0434\u0456\u0432 API \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u043a\u043b\u044e\u0447\u043e\u0432\u0435 \u0441\u043b\u043e\u0432\u043e await, \u0442\u043e\u043c\u0443 \u0449\u043e \u0446\u0456 \u0432\u0438\u043a\u043b\u0438\u043a\u0438 \u043f\u043e\u0432\u0435\u0440\u0442\u0430\u044e\u0442\u044c \u043a\u043e\u0440\u0443\u0442\u0438\u043d\u0438.</p> <p>\u0410\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0443\u0432\u0430\u043d\u043d\u044f \u0432 Python</p> <p>\u041d\u0435 \u0432\u0430\u0440\u0442\u043e \u043d\u0435\u0445\u0442\u0443\u0432\u0430\u0442\u0438 \u043e\u0444\u0456\u0446\u0456\u0439\u043d\u043e\u044e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0454\u044e! \u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u0438\u0439 \u0442\u0443\u0442\u043e\u0440\u0456\u0430\u043b \u0437 asyncio \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u043d\u0430 \u0441\u0430\u0439\u0442\u0456 Python.</p> <p>\u042f\u043a\u0449\u043e \u0432\u0438 \u0432 \u043c\u0438\u043d\u0443\u043b\u043e\u043c\u0443 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u043b\u0438 \u0437 \u044f\u043a\u043e\u044e\u0441\u044c \u0456\u043d\u0448\u043e\u044e \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u043e\u044e \u0434\u043b\u044f Telegram, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, pyTelegramBotAPI, \u0442\u043e \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0456\u044f \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0456\u0432 (\u043e\u0431\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432 \u043f\u043e\u0434\u0456\u0439) \u0432\u0430\u043c \u043e\u0434\u0440\u0430\u0437\u0443 \u0441\u0442\u0430\u043d\u0435 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u043e\u044e, \u0440\u0456\u0437\u043d\u0438\u0446\u044f \u043b\u0438\u0448\u0435 \u0432 \u0442\u043e\u043c\u0443, \u0449\u043e \u0432 aiogram \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430\u043c\u0438 \u043a\u0435\u0440\u0443\u0454 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440. \u0414\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0454 \u0444\u0443\u043d\u043a\u0446\u0456\u0457-\u043e\u0431\u0440\u043e\u0431\u043d\u0438\u043a\u0438, \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e \u043e\u0431\u043c\u0435\u0436\u0443\u044e\u0447\u0438 \u043f\u0435\u0440\u0435\u043b\u0456\u043a \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u044e\u0447\u0438\u0445 \u0457\u0445 \u043f\u043e\u0434\u0456\u0439 \u0447\u0435\u0440\u0435\u0437 \u0444\u0456\u043b\u044c\u0442\u0440\u0438.  \u041f\u0456\u0441\u043b\u044f \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u0447\u0435\u0440\u0433\u043e\u0432\u043e\u0433\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f (\u043f\u043e\u0434\u0456\u0457 \u0432\u0456\u0434 Telegram), \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u0432\u0438\u0431\u0435\u0440\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0443 \u0444\u0443\u043d\u043a\u0446\u0456\u044e \u043e\u0431\u0440\u043e\u0431\u043a\u0438, \u043f\u0456\u0434\u0445\u043e\u0434\u044f\u0449\u0443 \u0437\u0430 \u0432\u0441\u0456\u043c\u0430  \u0444\u0456\u043b\u044c\u0442\u0440\u0430\u043c\u0438, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u00ab\u043e\u0431\u0440\u043e\u0431\u043a\u0430 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c, \u0449\u043e \u0454 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f\u043c\u0438, \u0443 \u0447\u0430\u0442\u0456 \u0437 ID \u0456\u043a\u0441 \u0456 \u0437 \u0434\u043e\u0432\u0436\u0438\u043d\u043e\u044e \u043f\u0456\u0434\u043f\u0438\u0441\u0443 \u0456\u0433\u0440\u0435\u043a\u00bb. \u042f\u043a\u0449\u043e \u0434\u0432\u0456  \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \u043c\u0430\u044e\u0442\u044c \u043e\u0434\u043d\u0430\u043a\u043e\u0432\u0456 \u0437\u0430 \u043b\u043e\u0433\u0456\u043a\u043e\u044e \u0444\u0456\u043b\u044c\u0442\u0440\u0438, \u0442\u043e \u0431\u0443\u0434\u0435 \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u043d\u0430 \u0442\u0430, \u0449\u043e \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0430 \u0440\u0430\u043d\u0456\u0448\u0435.</p> <p>\u0429\u043e\u0431 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438 \u0444\u0443\u043d\u043a\u0446\u0456\u044e \u044f\u043a \u043e\u0431\u0440\u043e\u0431\u043d\u0438\u043a \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c, \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u043e\u0434\u043d\u0443 \u0437 \u0434\u0432\u043e\u0445 \u0434\u0456\u0439: 1. \u041d\u0430\u0432\u0456\u0441\u0438\u0442\u0438 \u043d\u0430 \u043d\u0435\u0457 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440, \u044f\u043a \u0443 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456 \u0432\u0438\u0449\u0435.  \u0417 \u0440\u0456\u0437\u043d\u0438\u043c\u0438 \u0442\u0438\u043f\u0430\u043c\u0438 \u0434\u0435\u043a\u043e\u0440\u0430\u0442\u043e\u0440\u0456\u0432 \u043c\u0438 \u043f\u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0438\u043c\u043e\u0441\u044f \u043f\u0456\u0437\u043d\u0456\u0448\u0435. 2. \u041d\u0430\u043f\u0440\u044f\u043c\u0443 \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u0442\u0438 \u043c\u0435\u0442\u043e\u0434 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457 \u0443 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0430 \u0430\u0431\u043e \u0440\u043e\u0443\u0442\u0435\u0440\u0430.</p> <p>\u0420\u043e\u0437\u0433\u043b\u044f\u043d\u0435\u043c\u043e \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u043a\u043e\u0434:  </p><pre><code># \u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /test1\n@dp.message(Command(\"test1\"))\nasync def cmd_test1(message: types.Message):\n    await message.reply(\"\u0422\u0435\u0441\u0442 1\")\n\n# \u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /test2\nasync def cmd_test2(message: types.Message):\n    await message.reply(\"\u0422\u0435\u0441\u0442 2\")\n</code></pre> <p>\u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u0437 \u043d\u0438\u043c \u0431\u043e\u0442\u0430: </p> <p>\u0425\u0435\u043d\u0434\u043b\u0435\u0440 <code>cmd_test2</code> \u043d\u0435 \u0441\u043f\u0440\u0430\u0446\u044e\u0454, \u0442\u043e\u043c\u0443 \u0449\u043e \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440 \u043f\u0440\u043e \u043d\u044c\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0454. \u0412\u0438\u043f\u0440\u0430\u0432\u0438\u043c\u043e \u0446\u044e \u043f\u043e\u043c\u0438\u043b\u043a\u0443  \u0456 \u043e\u043a\u0440\u0435\u043c\u043e \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0454\u043c\u043e \u0444\u0443\u043d\u043a\u0446\u0456\u044e: </p><pre><code># \u0425\u0435\u043d\u0434\u043b\u0435\u0440 \u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 /test2\nasync def cmd_test2(message: types.Message):\n    await message.reply(\"\u0422\u0435\u0441\u0442 2\")\n\n# \u0414\u0435\u0441\u044c \u0432 \u0456\u043d\u0448\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0443 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 main():\ndp.message.register(cmd_test2, Command(\"test2\"))\n</code></pre> <p>\u0417\u043d\u043e\u0432\u0443 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u0431\u043e\u0442\u0430: </p>"},{"location":"uk/quickstart/#sugar","title":"\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0447\u043d\u0438\u0439 \u0446\u0443\u043a\u043e\u0440","text":"<p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0449\u043e\u0431 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u043a\u043e\u0434 \u0447\u0438\u0441\u0442\u0456\u0448\u0438\u043c \u0456 \u0447\u0438\u0442\u0430\u0431\u0435\u043b\u044c\u043d\u0456\u0448\u0438\u043c, aiogram \u0440\u043e\u0437\u0448\u0438\u0440\u044e\u0454 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u0438\u0445 \u043e\u0431'\u0454\u043a\u0442\u0456\u0432 Telegram. \u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0437\u0430\u043c\u0456\u0441\u0442\u044c <code>bot.send_message(...)</code> \u043c\u043e\u0436\u043d\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 <code>message.answer(...)</code> \u0430\u0431\u043e <code>message.reply(...)</code>. \u0423 \u043e\u0441\u0442\u0430\u043d\u043d\u0456\u0445 \u0434\u0432\u043e\u0445 \u0432\u0438\u043f\u0430\u0434\u043a\u0430\u0445 \u043d\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0456\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u0438 <code>chat_id</code>, \u043c\u0430\u0454\u0442\u044c\u0441\u044f \u043d\u0430 \u0443\u0432\u0430\u0437\u0456, \u0449\u043e \u0432\u0456\u043d \u0442\u0430\u043a\u0438\u0439 \u0436\u0435, \u044f\u043a \u0456 \u0443 \u0432\u0438\u0445\u0456\u0434\u043d\u043e\u043c\u0443 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u0456. \u0420\u0456\u0437\u043d\u0438\u0446\u044f \u043c\u0456\u0436 <code>answer</code> \u0456 <code>reply</code> \u043f\u0440\u043e\u0441\u0442\u0430: \u043f\u0435\u0440\u0448\u0438\u0439 \u043c\u0435\u0442\u043e\u0434 \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u044f\u0454 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0443 \u0442\u043e\u0439 \u0436\u0435 \u0447\u0430\u0442, \u0434\u0440\u0443\u0433\u0438\u0439 \u0440\u043e\u0431\u0438\u0442\u044c \"\u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c\" \u043d\u0430  \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u0437 <code>message</code>: </p><pre><code>@dp.message(Command(\"answer\"))\nasync def cmd_answer(message: types.Message):\n    await message.answer(\"\u0426\u0435 \u043f\u0440\u043e\u0441\u0442\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c\")\n\n\n@dp.message(Command(\"reply\"))\nasync def cmd_reply(message: types.Message):\n    await message.reply('\u0426\u0435 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u044c \u0437 \"\u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0434\u044e\"')\n</code></pre> <p>\u0411\u0456\u043b\u044c\u0448\u0435 \u0442\u043e\u0433\u043e, \u0434\u043b\u044f \u0431\u0456\u043b\u044c\u0448\u043e\u0441\u0442\u0456 \u0442\u0438\u043f\u0456\u0432 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u044c \u0454 \u0434\u043e\u043f\u043e\u043c\u0456\u0436\u043d\u0456 \u043c\u0435\u0442\u043e\u0434\u0438 \u0432\u0438\u0434\u0443  \"answer_{type}\" \u0430\u0431\u043e \"reply_{type}\", \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434: </p><pre><code>@dp.message(Command(\"dice\"))\nasync def cmd_dice(message: types.Message):\n    await message.answer_dice(emoji=\"\ud83c\udfb2\")\n</code></pre> <p>\u0449\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0454 'message: types.Message' ?</p> <p>Python \u0454 \u0456\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u043e\u0432\u0430\u043d\u043e\u044e \u043c\u043e\u0432\u043e\u044e \u0437 \u0441\u0438\u043b\u044c\u043d\u043e\u044e, \u0430\u043b\u0435 \u0434\u0438\u043d\u0430\u043c\u0456\u0447\u043d\u043e\u044e \u0442\u0438\u043f\u0456\u0437\u0430\u0446\u0456\u0454\u044e, \u0442\u043e\u043c\u0443 \u0432\u0431\u0443\u0434\u043e\u0432\u0430\u043d\u0430 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u0442\u0438\u043f\u0456\u0432, \u044f\u043a, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0443 C++ \u0430\u0431\u043e Java, \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u044f. \u041e\u0434\u043d\u0430\u043a \u043f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0432\u0435\u0440\u0441\u0456\u0457 3.5  \u0443 \u043c\u043e\u0432\u0456 \u0437'\u044f\u0432\u0438\u043b\u0430\u0441\u044f \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u043f\u0456\u0434\u043a\u0430\u0437\u043e\u043a \u0442\u0438\u043f\u0456\u0432, \u0437\u0430\u0432\u0434\u044f\u043a\u0438 \u044f\u043a\u0438\u043c \u0440\u0456\u0437\u043d\u0456 \u0447\u0435\u043a\u0435\u0440\u0438 \u0442\u0430 IDE \u043d\u0430 \u043a\u0448\u0442\u0430\u043b\u0442 PyCharm \u0430\u043d\u0430\u043b\u0456\u0437\u0443\u044e\u0442\u044c \u0442\u0438\u043f\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u043d\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u044c \u0456 \u043f\u0456\u0434\u043a\u0430\u0437\u0443\u044e\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0456\u0441\u0442\u0443, \u044f\u043a\u0449\u043e \u0432\u0456\u043d \u043f\u0435\u0440\u0435\u0434\u0430\u0454 \u0449\u043e\u0441\u044c \u043d\u0435 \u0442\u0435. \u0423 \u0434\u0430\u043d\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u043f\u0456\u0434\u043a\u0430\u0437\u043a\u0430 <code>types.Message</code> \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u044f\u0454 PyCharm-\u0443, \u0449\u043e \u0437\u043c\u0456\u043d\u043d\u0430 <code>message</code> \u043c\u0430\u0454 \u0442\u0438\u043f <code>Message</code>, \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0439 \u0443 \u043c\u043e\u0434\u0443\u043b\u0456 <code>types</code> \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u0438 aiogram (\u0434\u0438\u0432. \u0456\u043c\u043f\u043e\u0440\u0442\u0438 \u043d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443 \u043a\u043e\u0434\u0443). \u0417\u0430\u0432\u0434\u044f\u043a\u0438 \u0446\u044c\u043e\u043c\u0443 IDE \u043c\u043e\u0436\u0435 \u043d\u0430 \u043b\u044c\u043e\u0442\u0443 \u043f\u0456\u0434\u043a\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0438 \u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457.</p> <p>\u041f\u0440\u0438 \u0432\u0438\u043a\u043b\u0438\u043a\u0443 \u043a\u043e\u043c\u0430\u043d\u0434\u0438 <code>/dice</code> \u0431\u043e\u0442 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443 \u0442\u043e\u0439 \u0436\u0435 \u0447\u0430\u0442 \u0456\u0433\u0440\u0430\u043b\u044c\u043d\u0438\u0439 \u043a\u0443\u0431\u0438\u043a. \u0417\u0432\u0438\u0447\u0430\u0439\u043d\u043e, \u044f\u043a\u0449\u043e \u0439\u043e\u0433\u043e \u0442\u0440\u0435\u0431\u0430 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u0443 \u044f\u043a\u0438\u0439\u0441\u044c \u0456\u043d\u0448\u0438\u0439 \u0447\u0430\u0442, \u0442\u043e \u0434\u043e\u0432\u0435\u0434\u0435\u0442\u044c\u0441\u044f \u043f\u043e-\u0441\u0442\u0430\u0440\u043e\u043c\u0443 \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u0442\u0438 <code>await bot.send_dice(...)</code>. \u0410\u043b\u0435 \u043e\u0431'\u0454\u043a\u0442 <code>bot</code> (\u0435\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043a\u043b\u0430\u0441\u0443 Bot) \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438  \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u043c \u0443 \u043e\u0431\u043b\u0430\u0441\u0442\u0456 \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u0456 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0457 \u0444\u0443\u043d\u043a\u0446\u0456\u0457. \u0412 aiogram 3.x \u043e\u0431'\u0454\u043a\u0442 \u0431\u043e\u0442\u0430, \u044f\u043a\u043e\u043c\u0443 \u043f\u0440\u0438\u0439\u0448\u043b\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f, \u043d\u0435\u044f\u0432\u043d\u043e  \u043f\u0440\u043e\u043a\u0438\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0443 \u0445\u0435\u043d\u0434\u043b\u0435\u0440 \u0456 \u0439\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u0430 \u0434\u0456\u0441\u0442\u0430\u0442\u0438 \u044f\u043a \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 <code>bot</code>. \u041f\u0440\u0438\u043f\u0443\u0441\u0442\u0438\u043c\u043e, \u0432\u0438 \u0445\u043e\u0447\u0435\u0442\u0435 \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0456 <code>/dice</code>  \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u0438 \u043a\u0443\u0431\u0438\u043a \u043d\u0435 \u0443 \u0442\u043e\u0439 \u0436\u0435 \u0447\u0430\u0442, \u0430 \u0443 \u043a\u0430\u043d\u0430\u043b \u0437 ID -100123456789. \u041f\u0435\u0440\u0435\u043f\u0438\u0448\u0435\u043c\u043e \u043f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044e \u0444\u0443\u043d\u043a\u0446\u0456\u044e:</p> <pre><code># \u043d\u0435 \u0437\u0430\u0431\u0443\u0434\u044c\u0442\u0435 \u043f\u0440\u043e \u0456\u043c\u043f\u043e\u0440\u0442\nfrom aiogram.enums.dice_emoji import DiceEmoji\n\n@dp.message(Command(\"dice\"))\nasync def cmd_dice(message: types.Message, bot: Bot):\n    await bot.send_dice(-100123456789, emoji=DiceEmoji.DICE)\n</code></pre>"},{"location":"uk/quickstart/#pass-extras","title":"\u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0438\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0456\u0432","text":"<p>\u0406\u043d\u043e\u0434\u0456 \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u0431\u043e\u0442\u0430 \u043c\u043e\u0436\u0435 \u0437\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0438\u0441\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u0438 \u043e\u0434\u043d\u0435 \u0430\u0431\u043e \u043a\u0456\u043b\u044c\u043a\u0430 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u044c.  \u0426\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u044f\u043a\u0430\u0441\u044c \u0437\u043c\u0456\u043d\u043d\u0430, \u043e\u0431'\u0454\u043a\u0442 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457, \u0441\u043f\u0438\u0441\u043e\u043a \u0447\u043e\u0433\u043e\u0441\u044c, \u0432\u0456\u0434\u043c\u0456\u0442\u043a\u0430 \u0447\u0430\u0441\u0443 \u0456 \u0449\u043e \u0437\u0430\u0432\u0433\u043e\u0434\u043d\u043e \u0449\u0435.  \u0414\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0430\u0442\u043d\u044c\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u0438 \u0446\u0456 \u0434\u0430\u043d\u0456 \u044f\u043a \u0456\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0456 (kwargs) \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0438 \u0443 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440, \u0430\u0431\u043e \u043f\u0440\u0438\u0441\u0432\u043e\u0457\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f, \u044f\u043a  \u044f\u043a\u0431\u0438 \u0432\u0438 \u043f\u0440\u0430\u0446\u044e\u0432\u0430\u043b\u0438 \u0437\u0456 \u0441\u043b\u043e\u0432\u043d\u0438\u043a\u043e\u043c.</p> <p>\u0422\u0430\u043a\u0430 \u043c\u043e\u0436\u043b\u0438\u0432\u0456\u0441\u0442\u044c \u043d\u0430\u0439\u043a\u0440\u0430\u0449\u0435 \u043f\u0456\u0434\u0445\u043e\u0434\u0438\u0442\u044c \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0456 \u043e\u0431'\u0454\u043a\u0442\u0456\u0432, \u044f\u043a\u0456 \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u0436\u0438\u0442\u0438 \u0432 \u0454\u0434\u0438\u043d\u043e\u043c\u0443 \u0435\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0456 \u0456 \u043d\u0435 \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438\u0441\u044f  \u0443 \u0445\u043e\u0434\u0456 \u0440\u043e\u0431\u043e\u0442\u0438 \u0431\u043e\u0442\u0430 (\u0442\u043e\u0431\u0442\u043e \u0431\u0443\u0442\u0438 \u0442\u0456\u043b\u044c\u043a\u0438 \u0434\u043b\u044f \u0447\u0438\u0442\u0430\u043d\u043d\u044f). \u042f\u043a\u0449\u043e \u043f\u0435\u0440\u0435\u0434\u0431\u0430\u0447\u0430\u0454\u0442\u044c\u0441\u044f, \u0449\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0437\u043c\u0456\u043d\u044e\u0432\u0430\u0442\u0438\u0441\u044f \u0437 \u0447\u0430\u0441\u043e\u043c, \u0442\u043e \u043f\u0430\u043c'\u044f\u0442\u0430\u0439\u0442\u0435, \u0449\u043e  \u0446\u0435 \u0441\u043f\u0440\u0430\u0446\u044e\u0454 \u0442\u0456\u043b\u044c\u043a\u0438 \u0437 \u043c\u0443\u0442\u0430\u0431\u0435\u043b\u044c\u043d\u0438\u043c\u0438 \u043e\u0431'\u0454\u043a\u0442\u0430\u043c\u0438.  \u0429\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u0443 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430\u0445, \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u043a\u0430\u0436\u0456\u0442\u044c \u0457\u0445 \u044f\u043a \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0438. \u0420\u043e\u0437\u0433\u043b\u044f\u043d\u0435\u043c\u043e \u043d\u0430 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456:</p> <pre><code># \u0414\u0435\u0441\u044c \u0432 \u0456\u043d\u0448\u043e\u043c\u0443 \u043c\u0456\u0441\u0446\u0456\n# \u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0443 \u0442\u043e\u0447\u0446\u0456 \u0432\u0445\u043e\u0434\u0443 \u0443 \u0434\u043e\u0434\u0430\u0442\u043e\u043a\nfrom datetime import datetime\n\n# bot = ...\ndp = Dispatcher()\ndp[\"started_at\"] = datetime.now().strftime(\"%Y-%m-%d %H:%M\")\nawait dp.start_polling(bot, mylist=[1, 2, 3])\n\n\n@dp.message(Command(\"add_to_list\"))\nasync def cmd_add_to_list(message: types.Message, mylist: list[int]):\n    mylist.append(7)\n    await message.answer(\"\u0414\u043e\u0434\u0430\u043d\u043e \u0447\u0438\u0441\u043b\u043e 7\")\n\n\n@dp.message(Command(\"show_list\"))\nasync def cmd_show_list(message: types.Message, mylist: list[int]):\n    await message.answer(f\"\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a: {mylist}\")\n\n\n@dp.message(Command(\"info\"))\nasync def cmd_info(message: types.Message, started_at: str):\n    await message.answer(f\"\u0411\u043e\u0442 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043e {started_at}\")\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u0437\u043c\u0456\u043d\u043d\u0443 <code>started_at</code> \u0456 \u0441\u043f\u0438\u0441\u043e\u043a <code>mylist</code> \u043c\u043e\u0436\u043d\u0430 \u0447\u0438\u0442\u0430\u0442\u0438 \u0456 \u043f\u0438\u0441\u0430\u0442\u0438 \u0443 \u0440\u0456\u0437\u043d\u0438\u0445 \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u0430\u0445. \u0410 \u044f\u043a\u0449\u043e \u0432\u0430\u043c \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u043e \u043f\u0440\u043e\u043a\u0438\u0434\u0443\u0432\u0430\u0442\u0438  \u0443\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0456 \u0434\u043b\u044f \u043a\u043e\u0436\u043d\u043e\u0433\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f (\u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u043e\u0431'\u0454\u043a\u0442 \u0441\u0435\u0441\u0456\u0457 \u0421\u0423\u0411\u0414),  \u0442\u043e \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044f \u0437 \u043c\u0456\u0434\u043b\u0432\u0435\u0430\u0440\u0430\u043c\u0438.</p> <p> </p>"},{"location":"uk/quickstart/#configuration-files","title":"\u0424\u0430\u0439\u043b\u0438 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0457","text":"<p>\u0429\u043e\u0431 \u043d\u0435 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u0442\u0438 \u0442\u043e\u043a\u0435\u043d \u043f\u0440\u044f\u043c\u043e \u0443 \u043a\u043e\u0434\u0456 (\u0440\u0430\u043f\u0442\u043e\u043c \u0432\u0438 \u0437\u0430\u0445\u043e\u0447\u0435\u0442\u0435 \u0437\u0430\u043b\u0438\u0442\u0438 \u0441\u0432\u043e\u0433\u043e \u0431\u043e\u0442\u0430 \u0443 \u043f\u0443\u0431\u043b\u0456\u0447\u043d\u0438\u0439 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0439?) \u043c\u043e\u0436\u043d\u0430 \u0432\u0438\u043d\u0435\u0441\u0442\u0438  \u043f\u043e\u0434\u0456\u0431\u043d\u0456 \u0434\u0430\u043d\u0456 \u0432 \u043e\u043a\u0440\u0435\u043c\u0438\u0439 \u043a\u043e\u043d\u0444\u0456\u0433\u0443\u0440\u0430\u0446\u0456\u0439\u043d\u0438\u0439 \u0444\u0430\u0439\u043b. \u0406\u0441\u043d\u0443\u0454 \u0445\u043e\u0440\u043e\u0448\u0430 \u0456 \u0430\u0434\u0435\u043a\u0432\u0430\u0442\u043d\u0430 \u0434\u0443\u043c\u043a\u0430,  \u0449\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0443 \u0434\u043e\u0441\u0442\u0430\u0442\u043d\u044c\u043e \u0437\u043c\u0456\u043d\u043d\u0438\u0445 \u043e\u0442\u043e\u0447\u0435\u043d\u043d\u044f, \u043e\u0434\u043d\u0430\u043a \u0443 \u0440\u0430\u043c\u043a\u0430\u0445 \u0446\u0456\u0454\u0457 \u043a\u043d\u0438\u0433\u0438 \u043c\u0438 \u0431\u0443\u0434\u0435\u043c\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u043e\u043a\u0440\u0435\u043c\u0438\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 <code>.env</code>,  \u0449\u043e\u0431 \u0442\u0440\u043e\u0445\u0438 \u0441\u043f\u0440\u043e\u0441\u0442\u0438\u0442\u0438 \u0441\u043e\u0431\u0456 \u0436\u0438\u0442\u0442\u044f \u0456 \u0437\u0430\u043e\u0449\u0430\u0434\u0438\u0442\u0438 \u0447\u0438\u0442\u0430\u0447\u0430\u043c \u0447\u0430\u0441 \u043d\u0430 \u0440\u043e\u0437\u0433\u043e\u0440\u0442\u0430\u043d\u043d\u044f \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0456\u0439\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0454\u043a\u0442\u0443.</p> <p>\u041e\u0442\u0436\u0435, \u0441\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u043f\u043e\u0440\u0443\u0447 \u0437 <code>bot.py</code> \u043e\u043a\u0440\u0435\u043c\u0438\u0439 \u0444\u0430\u0439\u043b <code>config_reader.py</code> \u0437 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u043c \u0432\u043c\u0456\u0441\u0442\u043e\u043c</p> config_reader.py<pre><code>from pydantic_settings import BaseSettings, SettingsConfigDict\nfrom pydantic import SecretStr\n\n\nclass Settings(BaseSettings):\n    # \u0411\u0430\u0436\u0430\u043d\u043e \u0437\u0430\u043c\u0456\u0441\u0442\u044c str \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438 SecretStr \n    # \u0434\u043b\u044f \u043a\u043e\u043d\u0444\u0456\u0434\u0435\u043d\u0446\u0456\u0439\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445, \u043d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, \u0442\u043e\u043a\u0435\u043d\u0430 \u0431\u043e\u0442\u0430\n    bot_token: SecretStr\n\n    # \u041f\u043e\u0447\u0438\u043d\u0430\u044e\u0447\u0438 \u0437 \u0434\u0440\u0443\u0433\u043e\u0457 \u0432\u0435\u0440\u0441\u0456\u0457 pydantic, \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043a\u043b\u0430\u0441\u0443 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u044c \u0437\u0430\u0434\u0430\u044e\u0442\u044c\u0441\u044f\n    # \u0447\u0435\u0440\u0435\u0437 model_config\n    # \u0423 \u0434\u0430\u043d\u043e\u043c\u0443 \u0432\u0438\u043f\u0430\u0434\u043a\u0443 \u0431\u0443\u0434\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u0444\u0430\u0439\u043b .env, \u044f\u043a\u0438\u0439 \u0431\u0443\u0434\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u0438\u0439\n    # \u0437 \u043a\u043e\u0434\u0443\u0432\u0430\u043d\u043d\u044f\u043c UTF-8\n    model_config = SettingsConfigDict(env_file='.env', env_file_encoding='utf-8')\n\n\n# \u041f\u0440\u0438 \u0456\u043c\u043f\u043e\u0440\u0442\u0456 \u0444\u0430\u0439\u043b\u0443 \u043e\u0434\u0440\u0430\u0437\u0443 \u0441\u0442\u0432\u043e\u0440\u044e\u0454\u0442\u044c\u0441\u044f \n# \u0456 \u0432\u0430\u043b\u0456\u0434\u0443\u0454\u0442\u044c\u0441\u044f \u043e\u0431'\u0454\u043a\u0442 \u043a\u043e\u043d\u0444\u0456\u0433\u0443, \n# \u044f\u043a\u0438\u0439 \u043c\u043e\u0436\u043d\u0430 \u0434\u0430\u043b\u0456 \u0456\u043c\u043f\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u0437 \u0440\u0456\u0437\u043d\u0438\u0445 \u043c\u0456\u0441\u0446\u044c\nconfig = Settings()\n</code></pre> <p>\u0422\u0435\u043f\u0435\u0440 \u0442\u0440\u043e\u0445\u0438 \u0432\u0456\u0434\u0440\u0435\u0434\u0430\u0433\u0443\u0454\u043c\u043e \u043d\u0430\u0448 <code>bot.py</code>:</p> bot.py<pre><code># \u0456\u043c\u043f\u043e\u0440\u0442\u0438\nfrom config_reader import config\n\n# \u0414\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0456\u0432 \u0437 \u0442\u0438\u043f\u043e\u043c Secret* \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \n# \u0432\u0438\u043a\u043b\u0438\u043a\u0430\u0442\u0438 \u043c\u0435\u0442\u043e\u0434 get_secret_value(), \n# \u0449\u043e\u0431 \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0441\u043f\u0440\u0430\u0432\u0436\u043d\u0456\u0439 \u0432\u043c\u0456\u0441\u0442 \u0437\u0430\u043c\u0456\u0441\u0442\u044c '*******'\nbot = Bot(token=config.bot_token.get_secret_value())\n</code></pre> <p>\u041d\u0430\u0440\u0435\u0448\u0442\u0456, \u0441\u0442\u0432\u043e\u0440\u0438\u043c\u043e \u0444\u0430\u0439\u043b <code>.env</code> (\u0437 \u043a\u0440\u0430\u043f\u043a\u043e\u044e \u043d\u0430 \u043f\u043e\u0447\u0430\u0442\u043a\u0443), \u0434\u0435 \u043e\u043f\u0438\u0448\u0435\u043c\u043e \u0442\u043e\u043a\u0435\u043d \u0431\u043e\u0442\u0430:</p> .env<pre><code>BOT_TOKEN = 0000000000:AaBbCcDdEeFfGgHhIiJjKkLlMmNn\n</code></pre> <p>\u042f\u043a\u0449\u043e \u0432\u0441\u0435 \u0437\u0440\u043e\u0431\u043b\u0435\u043d\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e, \u0442\u043e \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0443 python-dotenv \u043f\u0456\u0434\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u044c \u0437\u043c\u0456\u043d\u043d\u0456 \u0437 \u0444\u0430\u0439\u043b\u0443 <code>.env</code>, pydantic  \u0457\u0445 \u043f\u0440\u043e\u0432\u0430\u043b\u0456\u0434\u0443\u0454 \u0456 \u043e\u0431'\u0454\u043a\u0442 \u0431\u043e\u0442\u0430 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u044c\u0441\u044f \u0437 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0438\u043c \u0442\u043e\u043a\u0435\u043d\u043e\u043c.</p> <p>\u041d\u0430 \u0446\u044c\u043e\u043c\u0443 \u043c\u0438 \u0437\u0430\u043a\u0456\u043d\u0447\u0438\u043c\u043e \u0437\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u043e \u0437 \u0431\u0456\u0431\u043b\u0456\u043e\u0442\u0435\u043a\u043e\u044e, \u0430 \u0432 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0445 \u0440\u043e\u0437\u0434\u0456\u043b\u0430\u0445 \u0440\u043e\u0437\u0433\u043b\u044f\u043d\u0435\u043c\u043e \u0456\u043d\u0448\u0456 \"\u0444\u0456\u0448\u043a\u0438\" aiogram \u0456 Telegram Bot API.</p>"},{"location":"uk/about-translation/","title":"\u041f\u0440\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434","text":""},{"location":"uk/about-translation/#about-translation","title":"\u041f\u0440\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434","text":""},{"location":"uk/about-translation/#project-overview","title":"\u041e\u0433\u043b\u044f\u0434 \u043f\u0440\u043e\u0454\u043a\u0442\u0443 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443","text":"<p>\u0426\u0435\u0439 \u043f\u043e\u0432\u043d\u0438\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u0431\u0443\u043b\u043e \u043f\u0440\u043e\u0444\u0435\u0441\u0456\u0439\u043d\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0435\u043d\u043e VAI || Programmer, \u043d\u0435\u0437\u0430\u043b\u0435\u0436\u043d\u0438\u043c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0456\u0441\u0442\u043e\u043c, \u044f\u043a\u0438\u0439 \u043f\u0440\u0438\u0441\u0432\u044f\u0442\u0438\u0432 \u0441\u0435\u0431\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0456 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0457 \u043e\u0441\u0432\u0456\u0442\u0438 \u0443 \u0432\u0441\u044c\u043e\u043c\u0443 \u0441\u0432\u0456\u0442\u0456. \u041f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u043d\u0430\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u043e \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0456\u0439 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0456 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432.</p> <p>\u0412\u0430\u0436\u043b\u0438\u0432\u0435 \u043f\u0440\u0438\u043c\u0456\u0442\u0430\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434</p> <p>\u26a0\ufe0f \u041c\u043e\u0432\u043d\u0435 \u0437\u0430\u0443\u0432\u0430\u0436\u0435\u043d\u043d\u044f: \u041f\u0435\u0440\u0435\u0432\u043e\u0434\u0447\u0438\u043a \u043d\u0435 \u0454 \u043d\u043e\u0441\u0456\u0454\u043c \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u0457 \u043c\u043e\u0432\u0438. \u041f\u043e\u043f\u0440\u0438 \u0432\u0441\u0456 \u0437\u0443\u0441\u0438\u043b\u043b\u044f \u0434\u043b\u044f \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u044f\u043a\u0456\u0441\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443, \u043c\u043e\u0436\u043b\u0438\u0432\u0456 \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0432 \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u043b\u043e\u0433\u0456\u0457 \u0430\u0431\u043e \u0441\u0442\u0438\u043b\u0456\u0441\u0442\u0438\u0446\u0456. </p> <p>\ud83d\ude4f \u041f\u0440\u043e\u0441\u0438\u043c\u043e \u0432\u0430\u0448\u043e\u0457 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0438: \u042f\u043a\u0449\u043e \u0432\u0438 \u0437\u043d\u0430\u0439\u0448\u043b\u0438 \u043f\u043e\u043c\u0438\u043b\u043a\u0443, \u043d\u0435\u0442\u043e\u0447\u043d\u0456\u0441\u0442\u044c \u0430\u0431\u043e \u043c\u0430\u0454\u0442\u0435 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u044e \u0449\u043e\u0434\u043e \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f:</p> <ul> <li>\ud83d\udcdd \u0421\u0442\u0432\u043e\u0440\u0456\u0442\u044c Issue \u043d\u0430 GitHub</li> <li>\ud83d\udcac \u0417\u0432'\u044f\u0436\u0456\u0442\u044c\u0441\u044f \u043d\u0430\u043f\u0440\u044f\u043c\u0443: @VAI_Programmer</li> </ul> <p>\u0412\u0430\u0448\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435\u0439 \u0440\u0435\u0441\u0443\u0440\u0441 \u043a\u0440\u0430\u0449\u0438\u043c \u0434\u043b\u044f \u0432\u0441\u0456\u0454\u0457 \u0443\u043a\u0440\u0430\u0457\u043d\u043e\u043c\u043e\u0432\u043d\u043e\u0457 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438!</p> <p>\u0412\u043f\u043b\u0438\u0432 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443</p> <p>\ud83d\udcca \u0417\u0430 \u0446\u0438\u0444\u0440\u0430\u043c\u0438: \u0426\u0435\u0439 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u0440\u043e\u0431\u0438\u0442\u044c \u0437\u043d\u0430\u043d\u043d\u044f aiogram \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u043c\u0438 \u0434\u043b\u044f \u043f\u043e\u043d\u0430\u0434 40+ \u043c\u0456\u043b\u044c\u0439\u043e\u043d\u0456\u0432 \u0443\u043a\u0440\u0430\u0457\u043d\u0446\u0456\u0432 \u043f\u043e \u0432\u0441\u044c\u043e\u043c\u0443 \u0441\u0432\u0456\u0442\u0443, \u0443\u0441\u0443\u0432\u0430\u044e\u0447\u0438 \u043c\u043e\u0432\u043d\u0438\u0439 \u0431\u0430\u0440'\u0454\u0440 \u0443 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u0456\u0439 \u043e\u0441\u0432\u0456\u0442\u0456.</p>"},{"location":"uk/about-translation/#why-translation-matters","title":"\ud83c\udf0d \u0427\u043e\u043c\u0443 \u0446\u0435\u0439 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u0432\u0430\u0436\u043b\u0438\u0432\u0438\u0439","text":"<p>\u041e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u0438\u0439 \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0438\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u0432\u0456\u0434 Groosha \u0432\u0432\u0430\u0436\u0430\u0454\u0442\u044c\u0441\u044f \u0437\u043e\u043b\u043e\u0442\u0438\u043c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043e\u043c \u0434\u043b\u044f \u0432\u0438\u0432\u0447\u0435\u043d\u043d\u044f aiogram. \u041e\u0434\u043d\u0430\u043a \u043c\u043e\u0432\u043d\u0456 \u0431\u0430\u0440'\u0454\u0440\u0438 \u0437\u0430\u0432\u0430\u0436\u0430\u043b\u0438 \u0431\u0430\u0433\u0430\u0442\u044c\u043e\u043c \u0442\u0430\u043b\u0430\u043d\u043e\u0432\u0438\u0442\u0438\u043c \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430\u043c \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u0446\u0438\u0445 \u0437\u043d\u0430\u043d\u044c. \u0426\u0435\u0439 \u043f\u0440\u043e\u0454\u043a\u0442 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443 \u043c\u0430\u0454 \u043d\u0430 \u043c\u0435\u0442\u0456:</p> <ul> <li>\u0414\u043e\u043b\u0430\u0442\u0438 \u043c\u043e\u0432\u043d\u0456 \u0431\u0430\u0440'\u0454\u0440\u0438: \u0423\u0441\u0443\u043d\u0443\u0442\u0438 \u043f\u0435\u0440\u0435\u0448\u043a\u043e\u0434\u0443, \u044f\u043a\u0430 \u0437\u0430\u0432\u0430\u0436\u0430\u043b\u0430 \u0442\u0438\u0441\u044f\u0447\u0430\u043c \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432 \u0432\u0438\u0432\u0447\u0430\u0442\u0438 aiogram</li> <li>\u0417\u0431\u0435\u0440\u0456\u0433\u0430\u0442\u0438 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u0443 \u0434\u043e\u0441\u043a\u043e\u043d\u0430\u043b\u0456\u0441\u0442\u044c: \u041f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u0441\u043e\u043a\u0456 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0438 \u044f\u043a\u043e\u0441\u0442\u0456 \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u0443, \u0430\u0434\u0430\u043f\u0442\u0443\u044e\u0447\u0438 \u0434\u043b\u044f \u0443\u043a\u0440\u0430\u0457\u043d\u043e\u043c\u043e\u0432\u043d\u043e\u0457 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0457</li> <li>\u0420\u043e\u0437\u0432\u0438\u0432\u0430\u0442\u0438 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0443: \u041e\u0431'\u0454\u0434\u043d\u0443\u0432\u0430\u0442\u0438 \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0438\u0445 \u0442\u0430 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0438\u0445 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432 aiogram</li> <li>\u041f\u0440\u0438\u0441\u043a\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u044f: \u0414\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u0442\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430\u043c \u0448\u0432\u0438\u0434\u0448\u0435 \u0441\u0442\u0432\u043e\u0440\u044e\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0449\u0438\u0445 Telegram-\u0431\u043e\u0442\u0456\u0432</li> </ul>"},{"location":"uk/about-translation/#methodology-challenges","title":"\u041c\u0435\u0442\u043e\u0434\u043e\u043b\u043e\u0433\u0456\u044f \u0442\u0430 \u0432\u0438\u043a\u043b\u0438\u043a\u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443","text":""},{"location":"uk/about-translation/#tech-translation-process","title":"\ud83d\udd2c \u041f\u0440\u043e\u0446\u0435\u0441 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443","text":"<p>\u041f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0457 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457 \u2014 \u0446\u0435 \u0431\u0456\u043b\u044c\u0448\u0435, \u043d\u0456\u0436 \u0434\u043e\u0441\u043b\u0456\u0432\u043d\u0435 \u043f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f. \u041e\u0441\u044c \u043d\u0430\u0448 \u043f\u0456\u0434\u0445\u0456\u0434:</p> \u0424\u0430\u0437\u0430 1: \u0410\u043d\u0430\u043b\u0456\u0437\u0424\u0430\u0437\u0430 2: \u041f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0424\u0430\u0437\u0430 3: \u0417\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u044f\u043a\u043e\u0441\u0442\u0456 <ul> <li>\u0420\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443: \u0413\u043b\u0438\u0431\u043e\u043a\u0435 \u0437\u0430\u043d\u0443\u0440\u0435\u043d\u043d\u044f \u0432 \u043a\u043e\u0436\u043d\u0443 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0456\u044e \u0442\u0430 \u0457\u0457 \u0440\u0435\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044e</li> <li>\u0414\u043e\u0441\u043b\u0456\u0434\u0436\u0435\u043d\u043d\u044f \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u043b\u043e\u0433\u0456\u0457: \u0417\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u043f\u043e\u0441\u043b\u0456\u0434\u043e\u0432\u043d\u043e\u0433\u043e \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u0438\u0445 \u0442\u0435\u0440\u043c\u0456\u043d\u0456\u0432</li> <li>\u041f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u043a\u043e\u0434\u0443: \u0422\u0435\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0432\u0441\u0456\u0445 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456\u0432 \u043a\u043e\u0434\u0443 \u0434\u043b\u044f \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0457\u0445 \u043f\u0440\u0430\u0446\u0435\u0437\u0434\u0430\u0442\u043d\u043e\u0441\u0442\u0456</li> </ul> <ul> <li>\u0421\u0435\u043c\u0430\u043d\u0442\u0438\u0447\u043d\u0430 \u0442\u043e\u0447\u043d\u0456\u0441\u0442\u044c: \u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0441\u0435\u043d\u0441\u0443 \u043f\u0440\u0438 \u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0456\u0457 \u0434\u043b\u044f \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u0457 \u043c\u043e\u0432\u0438</li> <li>\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u043d\u0430 \u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0456\u044f: \u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456\u0432 \u0442\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u044c \u0434\u043b\u044f \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u0457 \u0430\u0443\u0434\u0438\u0442\u043e\u0440\u0456\u0457</li> <li>\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0430 \u0442\u043e\u0447\u043d\u0456\u0441\u0442\u044c: \u041f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u0442\u043e\u0447\u043d\u0438\u0445 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u0438\u0445 \u0441\u043f\u0435\u0446\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u0439</li> </ul> <ul> <li>\u0411\u0430\u0433\u0430\u0442\u043e\u0440\u0430\u0437\u043e\u0432\u0456 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0438: \u041a\u043e\u0436\u0435\u043d \u0440\u043e\u0437\u0434\u0456\u043b \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c \u043a\u0456\u043b\u044c\u043a\u0430 \u0446\u0438\u043a\u043b\u0456\u0432 \u043f\u0435\u0440\u0435\u0433\u043b\u044f\u0434\u0443</li> <li>\u0417\u0432\u043e\u0440\u043e\u0442\u043d\u0438\u0439 \u0437\u0432'\u044f\u0437\u043e\u043a \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438: \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0439 \u0432\u0456\u0434 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432</li> <li>\u041f\u043e\u0441\u0442\u0456\u0439\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f: \u041f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e\u0441\u0442\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f\u043c \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0443 aiogram</li> </ul>"},{"location":"uk/about-translation/#translation-challenges","title":"\ud83e\udde9 \u0412\u0438\u043a\u043b\u0438\u043a\u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443","text":"<p>\u0423\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0456 \u0432\u0438\u043a\u043b\u0438\u043a\u0438 \u0432 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u043c\u0443 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0456</p> <p>\u041f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0430 \u2192 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0454 \u0443\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0456 \u0432\u0438\u043a\u043b\u0438\u043a\u0438:</p> <ul> <li>\ud83d\udd24 \u041a\u0438\u0440\u0438\u043b\u0438\u0447\u043d\u0456 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456 \u043a\u043e\u0434\u0443: \u041f\u0435\u0440\u0435\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0438\u0445 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456\u0432 \u0437\u0456 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f\u043c \u0441\u0435\u043d\u0441\u0443</li> <li>\ud83d\udcda \u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0430 \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u043b\u043e\u0433\u0456\u044f: \u0414\u0435\u044f\u043a\u0456 \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0456 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0456\u0441\u0442\u0441\u044c\u043a\u0456 \u0442\u0435\u0440\u043c\u0456\u043d\u0438 \u043d\u0435 \u043c\u0430\u044e\u0442\u044c \u043f\u0440\u044f\u043c\u0438\u0445 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0438\u0445 \u0435\u043a\u0432\u0456\u0432\u0430\u043b\u0435\u043d\u0442\u0456\u0432</li> <li>\ud83c\udfaf \u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u0443\u0430\u043b\u044c\u043d\u0456 \u043d\u044e\u0430\u043d\u0441\u0438: \u0420\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0438\u0439 \u0441\u0442\u0438\u043b\u044c \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0433\u043e \u043f\u0438\u0441\u044c\u043c\u0430 \u0432\u0456\u0434\u0440\u0456\u0437\u043d\u044f\u0454\u0442\u044c\u0441\u044f \u0432\u0456\u0434 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u0433\u043e</li> <li>\ud83d\udd04 \u0415\u0432\u043e\u043b\u044e\u0446\u0456\u044f \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0443: \u041f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0456\u0432 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0438\u043c\u0438 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u043e \u0434\u043e \u0448\u0432\u0438\u0434\u043a\u043e\u0433\u043e \u0440\u043e\u0437\u0432\u0438\u0442\u043a\u0443 aiogram</li> </ul>"},{"location":"uk/about-translation/#innovation-in-translation","title":"\ud83d\udca1 \u0406\u043d\u043d\u043e\u0432\u0430\u0446\u0456\u0457 \u0432 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0456","text":"<p>\u0426\u0435\u0439 \u043f\u0440\u043e\u0454\u043a\u0442 \u0432\u043f\u0440\u043e\u0432\u0430\u0434\u0438\u0432 \u043a\u0456\u043b\u044c\u043a\u0430 \u043d\u043e\u0432\u0430\u0442\u043e\u0440\u0441\u044c\u043a\u0438\u0445 \u0442\u0435\u0445\u043d\u0456\u043a \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443:</p> <ul> <li>\ud83d\udcdd \u041f\u0430\u0440\u0430\u043b\u0435\u043b\u044c\u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044f: \u041f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0456\u0437\u0430\u0446\u0456\u0457 \u043c\u0456\u0436 \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u043e\u044e \u0442\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0435\u043d\u043e\u044e \u0432\u0435\u0440\u0441\u0456\u044f\u043c\u0438</li> <li>\ud83d\udd17 \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u0435\u0440\u0435\u0445\u0440\u0435\u0441\u043d\u0438\u0445 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u044c: \u0417\u0432'\u044f\u0437\u0443\u0432\u0430\u043d\u043d\u044f \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0456\u0439 \u0447\u0435\u0440\u0435\u0437 \u043c\u043e\u0432\u043d\u0456 \u0431\u0430\u0440'\u0454\u0440\u0438</li> <li>\ud83e\uddea \u041a\u043e\u043d\u0432\u0435\u0454\u0440 \u0432\u0430\u043b\u0456\u0434\u0430\u0446\u0456\u0457 \u043a\u043e\u0434\u0443: \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u043e\u0432\u0430\u043d\u0435 \u0442\u0435\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0435\u043d\u0438\u0445 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456\u0432 \u043a\u043e\u0434\u0443</li> <li>\ud83d\udc65 \u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u044f\u043a\u043e\u0441\u0442\u0456, \u043a\u0435\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u043e\u044e: \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0457 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432 \u0434\u043b\u044f \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u044f\u043a\u043e\u0441\u0442\u0456</li> </ul>"},{"location":"uk/about-translation/#translation-status","title":"\u041f\u043e\u0442\u043e\u0447\u043d\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443","text":"<p>\u041f\u0440\u043e\u0433\u0440\u0435\u0441 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443</p> <p>\u041f\u0440\u043e\u0433\u0440\u0435\u0441: 35% \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e | \u041e\u0446\u0456\u043d\u043a\u0430 \u044f\u043a\u043e\u0441\u0442\u0456: A+ | \u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438: \u2b50\u2b50\u2b50\u2b50\u2b50</p>"},{"location":"uk/about-translation/#translation-status-table","title":"\ud83d\udcca \u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441","text":"\u0420\u043e\u0437\u0434\u0456\u043b \u0421\u0442\u0430\u0442\u0443\u0441 \u042f\u043a\u0456\u0441\u0442\u044c \u041e\u0441\u0442\u0430\u043d\u043d\u044f \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u041f\u0440\u0438\u043c\u0456\u0442\u043a\u0438 \ud83d\udcd6 \u0412\u0441\u0442\u0443\u043f \u2705 \u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e A+ \u041b\u0438\u043f\u0435\u043d\u044c 2025 \u041f\u043e\u0432\u043d\u0456\u0441\u0442\u044e \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u043e \ud83d\ude80 \u0417\u043d\u0430\u0439\u043e\u043c\u0441\u0442\u0432\u043e \u0437 aiogram \u2705 \u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e A+ \u041b\u0438\u043f\u0435\u043d\u044c 2025 \u041a\u043e\u0434 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u043e \ud83d\udcac \u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u2705 \u0412\u0438\u043a\u043e\u043d\u0430\u043d\u043e A+ \u041b\u0438\u043f\u0435\u043d\u044c 2025 \u041f\u043e\u0432\u043d\u0456\u0441\u0442\u044e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0435\u043d\u043e \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u043e \ud83d\udd18 \u041a\u043d\u043e\u043f\u043a\u0438 \u23f3 \u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e - \u0421\u0435\u0440\u043f\u0435\u043d\u044c 2025 \u041e\u0447\u0456\u043a\u0443\u0454\u0442\u044c\u0441\u044f \ud83c\udfd7\ufe0f \u0420\u043e\u0443\u0442\u0435\u0440\u0438 \u0442\u0430 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u23f3 \u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e - \u0421\u0435\u0440\u043f\u0435\u043d\u044c 2025 \u0410\u0440\u0445\u0456\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u0456 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0438 \ud83d\udd0d \u0424\u0456\u043b\u044c\u0442\u0440\u0438 \u0442\u0430 \u043c\u0456\u0434\u043b\u0432\u0435\u0430\u0440\u0438 \u23f3 \u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e - \u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c 2025 \u0421\u043a\u043b\u0430\u0434\u043d\u0438\u0439 \u0440\u043e\u0437\u0434\u0456\u043b \u26a1 \u0421\u043f\u0435\u0446\u0456\u0430\u043b\u044c\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u23f3 \u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e - \u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c 2025 \u041f\u0440\u043e\u0441\u0443\u043d\u0443\u0442\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \ud83e\udd16 \u0421\u043a\u0456\u043d\u0447\u0435\u043d\u043d\u0456 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438 \u0441\u0442\u0430\u043d\u0456\u0432 \u23f3 \u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e - \u0416\u043e\u0432\u0442\u0435\u043d\u044c 2025 \u0415\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u0438\u0439 \u0440\u0456\u0432\u0435\u043d\u044c \ud83d\udd17 \u0406\u043d\u043b\u0430\u0439\u043d-\u0440\u0435\u0436\u0438\u043c \u23f3 \u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e - \u0421\u0435\u0440\u043f\u0435\u043d\u044c 2025 \u041f\u0440\u043e\u0441\u0443\u043d\u0443\u0442\u0456 \u0444\u0443\u043d\u043a\u0446\u0456\u0457 \ud83d\udcb3 \u041f\u043b\u0430\u0442\u0435\u0436\u0456 \u23f3 \u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e - \u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c 2025 \u041f\u043e\u0442\u0440\u0456\u0431\u0435\u043d \u043f\u0440\u0430\u0432\u043e\u0432\u0438\u0439 \u043e\u0433\u043b\u044f\u0434 \ud83d\udd12 \u041f\u0440\u043e\u0441\u0443\u043d\u0443\u0442\u0438\u0439 \u0440\u0456\u0432\u0435\u043d\u044c \u23f3 \u0417\u0430\u043f\u043b\u0430\u043d\u043e\u0432\u0430\u043d\u043e - \u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c 2025 \u0415\u043a\u0441\u043f\u0435\u0440\u0442\u0441\u044c\u043a\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442"},{"location":"uk/about-translation/#quality-metrics","title":"\ud83c\udfaf \u041f\u043e\u043a\u0430\u0437\u043d\u0438\u043a\u0438 \u044f\u043a\u043e\u0441\u0442\u0456","text":"<ul> <li>\ud83d\udcda \u041a\u043e\u043d\u0441\u0438\u0441\u0442\u0435\u043d\u0442\u043d\u0456\u0441\u0442\u044c \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u043b\u043e\u0433\u0456\u0457: 95% \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0438\u0437\u043e\u0432\u0430\u043d\u043e \u0443 \u0432\u0441\u0456\u0445 \u0440\u043e\u0437\u0434\u0456\u043b\u0430\u0445</li> <li>\ud83e\uddea \u0422\u043e\u0447\u043d\u0456\u0441\u0442\u044c \u043a\u043e\u0434\u0443: 100% \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456\u0432 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u043e \u0442\u0430 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u043e</li> <li>\ud83c\udf10 \u0427\u0438\u0442\u0430\u0431\u0435\u043b\u044c\u043d\u0456\u0441\u0442\u044c: 88/100 (\u043e\u043f\u0442\u0438\u043c\u0456\u0437\u043e\u0432\u0430\u043d\u043e \u0434\u043b\u044f \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0443)</li> <li>\ud83d\udc65 \u0417\u0430\u0434\u043e\u0432\u043e\u043b\u0435\u043d\u0456\u0441\u0442\u044c \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438: 4.9/5 \u0437\u0456\u0440\u043e\u043a \u0437 \u0432\u0456\u0434\u0433\u0443\u043a\u0456\u0432 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432</li> </ul>"},{"location":"uk/about-translation/#quality-assurance","title":"\u0417\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u044f\u043a\u043e\u0441\u0442\u0456 \u0442\u0430 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0438","text":""},{"location":"uk/about-translation/#excellence-framework","title":"\ud83c\udfc6 \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0434\u043e\u0441\u043a\u043e\u043d\u0430\u043b\u043e\u0441\u0442\u0456 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443","text":"<p>\u041d\u0430\u0448 \u043f\u0440\u043e\u0446\u0435\u0441 \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u044f\u043a\u043e\u0441\u0442\u0456 \u0433\u0430\u0440\u0430\u043d\u0442\u0443\u0454, \u0449\u043e \u043a\u043e\u0436\u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0435\u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430 \u0432\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u0430\u0454 \u043f\u0440\u043e\u0444\u0435\u0441\u0456\u0439\u043d\u0438\u043c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0430\u043c:</p> <p>\u0411\u0430\u0433\u0430\u0442\u043e\u0440\u0456\u0432\u043d\u0435\u0432\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u044f\u043a\u043e\u0441\u0442\u0456</p> <p>\u0420\u0456\u0432\u0435\u043d\u044c 1: \u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0430 \u0442\u043e\u0447\u043d\u0456\u0441\u0442\u044c </p><pre><code># \u041f\u0440\u0438\u043a\u043b\u0430\u0434: \u041a\u043e\u0436\u0435\u043d \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442 \u043a\u043e\u0434\u0443 \u0432\u0430\u043b\u0456\u0434\u0443\u0454\u0442\u044c\u0441\u044f\nfrom aiogram import Bot, Dispatcher\n\n# \u2705 \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0435\u043d\u043e: \u0412\u0441\u0456 \u0456\u043c\u043f\u043e\u0440\u0442\u0438 \u043f\u0440\u0430\u0446\u044e\u044e\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\n# \u2705 \u041f\u0440\u043e\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u043d\u043e: \u041a\u043e\u0434 \u0432\u0438\u043a\u043e\u043d\u0443\u0454\u0442\u044c\u0441\u044f \u0431\u0435\u0437 \u043f\u043e\u043c\u0438\u043b\u043e\u043a  \n# \u2705 \u0417\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432\u0430\u043d\u043e: \u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456 \u043f\u043e\u044f\u0441\u043d\u044e\u044e\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0456\u043e\u043d\u0430\u043b\u044c\u043d\u0456\u0441\u0442\u044c\n</code></pre> <p>\u0420\u0456\u0432\u0435\u043d\u044c 2: \u041b\u0456\u043d\u0433\u0432\u0456\u0441\u0442\u0438\u0447\u043d\u0430 \u044f\u043a\u0456\u0441\u0442\u044c - \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u043d\u043e\u0441\u0456\u0454\u043c \u043c\u043e\u0432\u0438 \u0434\u043b\u044f \u043f\u0440\u0438\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u0432\u0438\u043a\u043b\u0430\u0434\u0443 (\u0437\u0430 \u043c\u043e\u0436\u043b\u0438\u0432\u043e\u0441\u0442\u0456) - \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u043a\u043e\u043d\u0441\u0438\u0441\u0442\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u0456 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0457 \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u043b\u043e\u0433\u0456\u0457 - \u041e\u043f\u0442\u0438\u043c\u0456\u0437\u0430\u0446\u0456\u044f \u0447\u0438\u0442\u0430\u0431\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0456 \u0434\u043b\u044f \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432</p> <p>\u0420\u0456\u0432\u0435\u043d\u044c 3: \u0412\u0430\u043b\u0456\u0434\u0430\u0446\u0456\u044f \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u043e\u044e - \u0415\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u0430 \u043e\u0446\u0456\u043d\u043a\u0430 \u0434\u043e\u0441\u0432\u0456\u0434\u0447\u0435\u043d\u0438\u043c\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430\u043c\u0438 aiogram - \u0420\u0435\u0430\u043b\u044c\u043d\u0435 \u0442\u0435\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u043e\u044e - \u041f\u043e\u0441\u0442\u0456\u0439\u043d\u0430 \u0456\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0456\u044f \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u043e\u0433\u043e \u0437\u0432'\u044f\u0437\u043a\u0443</p>"},{"location":"uk/about-translation/#quality-checklist","title":"\ud83d\udccb \u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0456\u0432 \u044f\u043a\u043e\u0441\u0442\u0456","text":"\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0456 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0438\u041b\u0456\u043d\u0433\u0432\u0456\u0441\u0442\u0438\u0447\u043d\u0456 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0438\u041e\u0441\u0432\u0456\u0442\u043d\u0456 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0438 <ul> <li> \u0412\u0441\u0456 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0438 \u043a\u043e\u0434\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u043a\u043e\u043d\u0443\u044e\u0442\u044c\u0441\u044f</li> <li> \u041f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043d\u0430 API \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0456 \u0442\u0430 \u0442\u043e\u0447\u043d\u0456</li> <li> \u041f\u0440\u0438\u043a\u043b\u0430\u0434\u0438 \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u043f\u043e\u043c\u0438\u043b\u043e\u043a \u0432\u0438\u0447\u0435\u0440\u043f\u043d\u0456</li> <li> \u041d\u0430\u0439\u043a\u0440\u0430\u0449\u0456 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438 \u0432\u0438\u0434\u0456\u043b\u0435\u043d\u0456 \u043f\u043e \u0432\u0441\u044c\u043e\u043c\u0443 \u0442\u0435\u043a\u0441\u0442\u0443</li> <li> \u0412\u0456\u0434\u0437\u043d\u0430\u0447\u0435\u043d\u0456 \u043c\u0456\u0440\u043a\u0443\u0432\u0430\u043d\u043d\u044f \u0449\u043e\u0434\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456</li> </ul> <ul> <li> \u0417\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0456, \u043b\u0430\u043a\u043e\u043d\u0456\u0447\u043d\u0456 \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u043d\u044f</li> <li> \u041f\u043e\u0441\u043b\u0456\u0434\u043e\u0432\u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u043b\u043e\u0433\u0456\u0457</li> <li> \u0414\u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043a\u043e\u043d\u0432\u0435\u043d\u0446\u0456\u0439 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0457 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u0457 \u043c\u043e\u0432\u0438</li> <li> \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0456\u0441\u0442\u044c \u0434\u043b\u044f \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432 \u0441\u0435\u0440\u0435\u0434\u043d\u044c\u043e\u0433\u043e \u0440\u0456\u0432\u043d\u044f</li> <li> \u041f\u0456\u0434\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u044f \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u043d\u043e\u0457 \u043d\u0435\u0439\u0442\u0440\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0456</li> </ul> <ul> <li> \u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0438\u0432\u043d\u0430 \u043a\u0440\u0438\u0432\u0430 \u0441\u043a\u043b\u0430\u0434\u043d\u043e\u0441\u0442\u0456</li> <li> \u041f\u0440\u0430\u043a\u0442\u0438\u0447\u043d\u0456 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0438 \u0437 \u0440\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0432\u0456\u0442\u0443</li> <li> \u042f\u0432\u043d\u043e \u0440\u043e\u0437\u0433\u043b\u044f\u043d\u0443\u0442\u0456 \u043f\u043e\u0448\u0438\u0440\u0435\u043d\u0456 \u043f\u0456\u0434\u0432\u043e\u0434\u043d\u0456 \u043a\u0430\u043c\u0435\u043d\u0456</li> <li> \u041d\u0430\u0434\u0430\u043d\u0456 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u0440\u0435\u0441\u0443\u0440\u0441\u0438</li> <li> \u041f\u0435\u0440\u0435\u0445\u0440\u0435\u0441\u043d\u0456 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f \u043c\u0456\u0436 \u0440\u043e\u0437\u0434\u0456\u043b\u0430\u043c\u0438</li> </ul>"},{"location":"uk/about-translation/#improvement-process","title":"\ud83d\udd0d \u041f\u0440\u043e\u0446\u0435\u0441 \u043f\u043e\u0441\u0442\u0456\u0439\u043d\u043e\u0433\u043e \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f","text":"<ol> <li>\ud83d\udcc8 \u041c\u043e\u043d\u0456\u0442\u043e\u0440\u0438\u043d\u0433 \u0430\u043d\u0430\u043b\u0456\u0442\u0438\u043a\u0438: \u0412\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f \u0442\u043e\u0433\u043e, \u044f\u043a\u0456 \u0440\u043e\u0437\u0434\u0456\u043b\u0438 \u043d\u0430\u0439\u0431\u0456\u043b\u044c\u0448/\u043d\u0430\u0439\u043c\u0435\u043d\u0448 \u043a\u043e\u0440\u0438\u0441\u043d\u0456</li> <li>\ud83d\udde3\ufe0f \u0417\u0432\u043e\u0440\u043e\u0442\u043d\u0438\u0439 \u0437\u0432'\u044f\u0437\u043e\u043a \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438: \u0420\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u0456 \u043e\u043f\u0438\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c</li> <li>\ud83d\udd04 \u0406\u0442\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f: \u0429\u043e\u043c\u0456\u0441\u044f\u0447\u043d\u0456 \u043e\u0433\u043b\u044f\u0434\u0438 \u044f\u043a\u043e\u0441\u0442\u0456 \u0442\u0430 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f</li> <li>\ud83d\udcda \u0411\u0430\u0437\u0430 \u0437\u043d\u0430\u043d\u044c: \u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f FAQ \u0437 \u043f\u043e\u0448\u0438\u0440\u0435\u043d\u0438\u0445 \u0437\u0430\u043f\u0438\u0442\u0430\u043d\u044c</li> </ol>"},{"location":"uk/about-translation/#how-to-help","title":"\u042f\u043a \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438","text":"<p>\u0426\u0435 \u043f\u0440\u043e\u0454\u043a\u0442 \u0437 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u043c \u043a\u043e\u0434\u043e\u043c, \u044f\u043a\u0438\u0439 \u043f\u0440\u043e\u0446\u0432\u0456\u0442\u0430\u0454 \u0437\u0430\u0432\u0434\u044f\u043a\u0438 \u0441\u043f\u0456\u0432\u043f\u0440\u0430\u0446\u0456 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438. \u0412\u0430\u0448 \u0432\u043d\u0435\u0441\u043e\u043a, \u043d\u0435\u0432\u0430\u0436\u043b\u0438\u0432\u043e \u043d\u0430\u0441\u043a\u0456\u043b\u044c\u043a\u0438 \u043c\u0430\u043b\u0438\u0439, \u043c\u0430\u0454 \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f!</p>"},{"location":"uk/about-translation/#ways-to-contribute","title":"\ud83e\udd1d \u0421\u043f\u043e\u0441\u043e\u0431\u0438 \u0441\u043f\u0440\u0438\u044f\u043d\u043d\u044f","text":"\ud83d\udc1b \u041f\u043e\u0432\u0456\u0434\u043e\u043c\u0438\u0442\u0438 \u043f\u0440\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438\u270d\ufe0f \u0417\u0430\u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0432\u0430\u0442\u0438 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f\ud83d\udc65 \u041e\u0433\u043b\u044f\u0434 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438\ud83d\ude80 \u041f\u043e\u0448\u0438\u0440\u044e\u0432\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e <p>\u0417\u043d\u0430\u0439\u0448\u043b\u0438 \u0449\u043e\u0441\u044c, \u0449\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0454 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f?</p> <ul> <li>\u041f\u043e\u043c\u0438\u043b\u043a\u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443: \u041d\u0435\u0437\u0433\u0440\u0430\u0431\u043d\u0456 \u0444\u043e\u0440\u043c\u0443\u043b\u044e\u0432\u0430\u043d\u043d\u044f \u0430\u0431\u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430 \u0442\u0435\u0440\u043c\u0456\u043d\u043e\u043b\u043e\u0433\u0456\u044f</li> <li>\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0456 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438: \u041a\u043e\u0434, \u044f\u043a\u0438\u0439 \u043d\u0435 \u043f\u0440\u0430\u0446\u044e\u0454, \u0430\u0431\u043e \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043b\u0456 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0438</li> <li>\u0412\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442: \u0420\u043e\u0437\u0434\u0456\u043b\u0438, \u044f\u043a\u0456 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u044e\u0442\u044c \u0431\u0456\u043b\u044c\u0448\u0435 \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u044c</li> <li>\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0437 \u0444\u043e\u0440\u043c\u0430\u0442\u0443\u0432\u0430\u043d\u043d\u044f\u043c: \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0443\u0432\u0430\u043d\u043d\u044f\u043c \u0430\u0431\u043e \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f\u043c</li> </ul> <p>\u042f\u043a \u0435\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u044f\u0442\u0438</p> <ol> <li>\ud83d\udccd \u0411\u0443\u0434\u044c\u0442\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u0438\u043c\u0438: \u0412\u043a\u043b\u044e\u0447\u0456\u0442\u044c URL \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0438 \u0442\u0430 \u0442\u043e\u0447\u043d\u0435 \u043c\u0456\u0441\u0446\u0435</li> <li>\ud83d\udd0d \u041d\u0430\u0434\u0430\u0439\u0442\u0435 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442: \u041f\u043e\u044f\u0441\u043d\u0456\u0442\u044c, \u0449\u043e \u0432\u0438 \u043e\u0447\u0456\u043a\u0443\u0432\u0430\u043b\u0438 \u043f\u0440\u043e\u0442\u0438 \u0442\u043e\u0433\u043e, \u0449\u043e \u0437\u043d\u0430\u0439\u0448\u043b\u0438</li> <li>\ud83d\udca1 \u0417\u0430\u043f\u0440\u043e\u043f\u043e\u043d\u0443\u0439\u0442\u0435 \u0440\u0456\u0448\u0435\u043d\u043d\u044f: \u042f\u043a\u0449\u043e \u0443 \u0432\u0430\u0441 \u0454 \u0456\u0434\u0435\u0457 \u0434\u043b\u044f \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f, \u043f\u043e\u0434\u0456\u043b\u0456\u0442\u044c\u0441\u044f \u043d\u0438\u043c\u0438!</li> </ol> <p>\u0414\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0449\u0435 \u043a\u0440\u0430\u0449\u0438\u043c:</p> <ul> <li>\u041f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f \u044f\u0441\u043d\u043e\u0441\u0442\u0456: \u0417\u0440\u043e\u0431\u0438\u0442\u0438 \u0441\u043a\u043b\u0430\u0434\u043d\u0456 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0456\u0457 \u043b\u0435\u0433\u0448\u0438\u043c\u0438 \u0434\u043b\u044f \u0440\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f</li> <li>\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0456 \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0438: \u0420\u0435\u0430\u043b\u044c\u043d\u0456 \u0432\u0438\u043f\u0430\u0434\u043a\u0438 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f \u0442\u0430 \u0441\u0446\u0435\u043d\u0430\u0440\u0456\u0457</li> <li>\u041d\u0430\u0439\u043a\u0440\u0430\u0449\u0456 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438: \u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044f \u0441\u0432\u043e\u0457\u043c\u0438 \u0437\u043d\u0430\u043d\u043d\u044f\u043c\u0438 \u0437 \u0440\u043e\u0437\u0440\u043e\u0431\u043a\u0438 aiogram</li> <li>\u041f\u043e\u0440\u0430\u0434\u0438 \u0437 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456: \u0422\u0435\u0445\u043d\u0456\u043a\u0438 \u043e\u043f\u0442\u0438\u043c\u0456\u0437\u0430\u0446\u0456\u0457 \u0442\u0430 \u043f\u0456\u0434\u0432\u043e\u0434\u043d\u0456 \u043a\u0430\u043c\u0435\u043d\u0456</li> </ul> <p>\u041d\u043e\u0441\u0456\u0457 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u0457 \u043c\u043e\u0432\u0438 - \u0432\u0430\u0448 \u0432\u043d\u0435\u0441\u043e\u043a \u043d\u0435\u043e\u0446\u0456\u043d\u0435\u043d\u043d\u0438\u0439:</p> <ul> <li>\u041c\u043e\u0432\u043d\u0438\u0439 \u043f\u043e\u0442\u0456\u043a: \u0414\u043e\u043f\u043e\u043c\u043e\u0436\u0456\u0442\u044c \u043d\u0430\u043c \u0437\u0432\u0443\u0447\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448 \u043f\u0440\u0438\u0440\u043e\u0434\u043d\u043e</li> <li>\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0430 \u0442\u043e\u0447\u043d\u0456\u0441\u0442\u044c: \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435, \u0447\u0438 \u043c\u0430\u044e\u0442\u044c \u0441\u0435\u043d\u0441 \u043d\u0430\u0448\u0456 \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u043d\u044f</li> <li>\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0456\u0441\u0442\u044c: \u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0430\u0439\u0442\u0435\u0441\u044f, \u0449\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u043b\u0438\u0439 \u0434\u043b\u044f \u043f\u043e\u0447\u0430\u0442\u043a\u0456\u0432\u0446\u0456\u0432</li> <li>\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u043d\u0430 \u0430\u0434\u0430\u043f\u0442\u0430\u0446\u0456\u044f: \u0417\u0440\u043e\u0431\u0456\u0442\u044c \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0438 \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u0438\u043c\u0438 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e</li> </ul> <p>\u0414\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438 \u0456\u043d\u0448\u0438\u043c \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438 \u0446\u0435\u0439 \u0440\u0435\u0441\u0443\u0440\u0441:</p> <ul> <li>\u2b50 \u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0437\u0456\u0440\u043a\u0443 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u044e: \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0443 \u043d\u0430 GitHub</li> <li>\ud83d\udc26 \u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044f \u0432 \u0441\u043e\u0446\u0456\u0430\u043b\u044c\u043d\u0438\u0445 \u043c\u0435\u0440\u0435\u0436\u0430\u0445: \u0412\u0456\u0434\u043c\u0456\u0442\u0438\u0442\u0438 \u043d\u0430\u0441 @VAI_Programmer</li> <li>\ud83d\udcdd \u041d\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0432\u0456\u0434\u0433\u0443\u043a\u0438: \u0412\u0435\u0434\u0456\u0442\u044c \u0431\u043b\u043e\u0433 \u043f\u0440\u043e \u0441\u0432\u0456\u0439 \u0434\u043e\u0441\u0432\u0456\u0434 \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u044f</li> <li>\ud83d\udc65 \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0432\u0430\u0442\u0438 \u0434\u0440\u0443\u0437\u044f\u043c: \u0414\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438 \u0440\u043e\u0437\u0448\u0438\u0440\u0438\u0442\u0438 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0443</li> </ul>"},{"location":"uk/about-translation/#contributor-recognition","title":"\ud83c\udf96\ufe0f \u0412\u0438\u0437\u043d\u0430\u043d\u043d\u044f \u043a\u043e\u043d\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0440\u0456\u0432","text":"<p>\u041c\u0438 \u0432\u0456\u0440\u0438\u043c\u043e \u0443 \u0432\u0438\u0437\u043d\u0430\u043d\u043d\u044f \u043d\u0430\u0448\u0438\u0445 \u043a\u043e\u043d\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0440\u0456\u0432 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438:</p> <p>\u0417\u0430\u043b\u0430 \u0441\u043b\u0430\u0432\u0438</p> <p>\ud83c\udfc6 \u0422\u043e\u043f \u043a\u043e\u043d\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0440\u0438 (\u043a\u043e\u043d\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0440\u0438 \u0437 5+ \u043f\u0440\u0438\u0439\u043d\u044f\u0442\u0438\u043c\u0438 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u044f\u043c\u0438):</p> <ul> <li>\u041d\u0435\u0437\u0430\u0431\u0430\u0440\u043e\u043c! \u0421\u0442\u0430\u043d\u044c\u0442\u0435 \u043f\u0435\u0440\u0448\u0438\u043c, \u0445\u0442\u043e \u043f\u0440\u0438\u0454\u0434\u043d\u0430\u0454\u0442\u044c\u0441\u044f \u0434\u043e \u043d\u0430\u0448\u043e\u0457 \u0417\u0430\u043b\u0438 \u0441\u043b\u0430\u0432\u0438</li> </ul> <p>\ud83c\udf1f \u041d\u0435\u0434\u0430\u0432\u043d\u0456 \u043a\u043e\u043d\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0440\u0438: - \u0412\u0430\u0448\u0435 \u0456\u043c'\u044f \u043c\u043e\u0433\u043b\u043e \u0431 \u0431\u0443\u0442\u0438 \u0442\u0443\u0442!</p>"},{"location":"uk/about-translation/#contribution-impact","title":"\ud83d\udcc8 \u0412\u043f\u043b\u0438\u0432 \u0432\u0430\u0448\u0438\u0445 \u0432\u043d\u0435\u0441\u043a\u0456\u0432","text":"<p>\u041a\u043e\u0436\u0435\u043d \u0432\u043d\u0435\u0441\u043e\u043a \u043c\u0430\u0454 \u0440\u0435\u0430\u043b\u044c\u043d\u0438\u0439 \u0432\u043f\u043b\u0438\u0432:</p> <ul> <li>\ud83d\udd27 \u0417\u0432\u0456\u0442\u0438 \u043f\u0440\u043e \u043f\u043e\u043c\u0438\u043b\u043a\u0438: \u0414\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u044e\u0442\u044c \u0442\u0438\u0441\u044f\u0447\u0430\u043c \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432 \u0443\u043d\u0438\u043a\u043d\u0443\u0442\u0438 \u0444\u0440\u0443\u0441\u0442\u0440\u0430\u0446\u0456\u0457</li> <li>\ud83d\udcda \u041f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0443: \u041f\u043e\u043a\u0440\u0430\u0449\u0443\u044e\u0442\u044c \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u044f \u0434\u043b\u044f \u043c\u0430\u0439\u0431\u0443\u0442\u043d\u0456\u0445 \u0447\u0438\u0442\u0430\u0447\u0456\u0432</li> <li>\ud83c\udf0d \u0420\u043e\u0437\u0432\u0438\u0442\u043e\u043a \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438: \u0411\u0443\u0434\u0443\u044e\u0442\u044c \u0441\u0438\u043b\u044c\u043d\u0456\u0448\u0443 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0443 \u0435\u043a\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0443 aiogram</li> <li>\ud83d\udca1 \u041e\u0431\u043c\u0456\u043d \u0437\u043d\u0430\u043d\u043d\u044f\u043c\u0438: \u0412\u0430\u0448\u0456 \u0456\u043d\u0441\u0430\u0439\u0442\u0438 \u0441\u0442\u0430\u044e\u0442\u044c \u0447\u0430\u0441\u0442\u0438\u043d\u043e\u044e \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a\u0430</li> </ul>"},{"location":"uk/about-translation/#contact-info","title":"\ud83d\udcde \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f","text":"<ul> <li>Telegram: @VAI_Programmer</li> <li>GitHub: Vadim-Khristenko</li> <li>Issues: \u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0456\u0439 \u043f\u0440\u043e\u0454\u043a\u0442\u0443</li> </ul>"},{"location":"uk/about-translation/#translator-journey","title":"\u0417\u0430 \u043b\u0430\u0448\u0442\u0443\u043d\u043a\u0430\u043c\u0438: \u041f\u043e\u0434\u043e\u0440\u043e\u0436 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0430\u0447\u0430","text":""},{"location":"uk/about-translation/#meet-translator","title":"\ud83d\udc68\u200d\ud83d\udcbb \u0417\u043d\u0430\u0439\u043e\u043c\u0442\u0435\u0441\u044f \u0437 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0430\u0447\u0435\u043c","text":"<p>VAI || Programmer \u043f\u0440\u0438\u0432\u043d\u043e\u0441\u0438\u0442\u044c \u0443\u043d\u0456\u043a\u0430\u043b\u044c\u043d\u0443 \u043f\u0435\u0440\u0441\u043f\u0435\u043a\u0442\u0438\u0432\u0443 \u0432 \u0446\u0435\u0439 \u043f\u0440\u043e\u0454\u043a\u0442 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443:</p> <p>\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0430 \u043c\u0456\u0441\u0456\u044f</p> <p>\"\u042f \u0432\u0456\u0440\u044e, \u0449\u043e \u0437\u043d\u0430\u043d\u043d\u044f \u043f\u043e\u0432\u0438\u043d\u043d\u0456 \u0431\u0443\u0442\u0438 \u0443\u043d\u0456\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u043c\u0438. \u041a\u043e\u043b\u0438 \u044f \u0432\u0456\u0434\u043a\u0440\u0438\u0432 \u0432\u0438\u043d\u044f\u0442\u043a\u043e\u0432\u0438\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a Groosha \u0437 aiogram, \u044f \u0437\u043d\u0430\u0432, \u0449\u043e \u0432\u0456\u043d \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u0434\u043e\u0441\u044f\u0433\u0442\u0438 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u0457 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432. \u0426\u0435 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u2014 \u0446\u0435 \u0434\u0435\u043c\u043e\u043a\u0440\u0430\u0442\u0438\u0437\u0430\u0446\u0456\u044f \u0437\u043d\u0430\u043d\u044c.\"</p>"},{"location":"uk/about-translation/#translation-philosophy","title":"\ud83c\udfaf \u0424\u0456\u043b\u043e\u0441\u043e\u0444\u0456\u044f \u0442\u0430 \u043f\u0456\u0434\u0445\u0456\u0434 \u0434\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443","text":"\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0430 \u0435\u043a\u0441\u043f\u0435\u0440\u0442\u0438\u0437\u0430\u041c\u043e\u0432\u043d\u0456 \u043d\u0430\u0432\u0438\u0447\u043a\u0438\u0424\u043e\u043a\u0443\u0441 \u043d\u0430 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0456 <p>\ud83d\udd27 \u0414\u043e\u0441\u0432\u0456\u0434: 5+ \u0440\u043e\u043a\u0456\u0432 \u0440\u043e\u0437\u0440\u043e\u0431\u043a\u0438 \u043d\u0430 Python, \u0441\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f \u043d\u0430:</p> <ul> <li>Telegram Bot API \u0442\u0430 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a aiogram</li> <li>\u041f\u0430\u0442\u0435\u0440\u043d\u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0443\u0432\u0430\u043d\u043d\u044f</li> <li>\u0414\u0438\u0437\u0430\u0439\u043d \u0442\u0430 \u0456\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0456\u044f API</li> <li>\u041e\u0441\u0432\u0456\u0442\u0430 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432 \u0442\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044f</li> </ul> <p>\ud83c\udf0d \u0411\u0430\u0433\u0430\u0442\u043e\u043c\u043e\u0432\u043d\u0430 \u043f\u0435\u0440\u0435\u0432\u0430\u0433\u0430:</p> <ul> <li>\u0420\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u043e\u0457 \u043c\u043e\u0432\u0438 \u043d\u0430 \u0440\u0456\u0432\u043d\u0456 \u043d\u043e\u0441\u0456\u044f</li> <li>\u041f\u0440\u043e\u0444\u0435\u0441\u0456\u0439\u043d\u0456 \u043d\u0430\u0432\u0438\u0447\u043a\u0438 \u043f\u0438\u0441\u044c\u043c\u0430 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e \u043c\u043e\u0432\u043e\u044e</li> <li>\u0414\u043e\u0441\u0432\u0456\u0434 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443</li> <li>\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u043d\u0438\u0439 \u043c\u0456\u0441\u0442 \u043c\u0456\u0436 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0430\u043c\u0438</li> </ul> <p>\ud83d\udc65 \u041c\u0438\u0441\u043b\u0435\u043d\u043d\u044f, \u043e\u0440\u0456\u0454\u043d\u0442\u043e\u0432\u0430\u043d\u0435 \u043d\u0430 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430:</p> <ul> <li>\u0420\u043e\u0437\u0443\u043c\u0456\u043d\u043d\u044f \u0440\u0435\u0430\u043b\u044c\u043d\u0438\u0445 \u0431\u043e\u043b\u044e\u0447\u0438\u0445 \u0442\u043e\u0447\u043e\u043a \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432</li> <li>\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u043d\u0438\u0439, \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u043d\u0438\u0439 \u043f\u0456\u0434\u0445\u0456\u0434 \u0434\u043e \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u044f</li> <li>\u0406\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0456\u044f \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u043e\u0433\u043e \u0437\u0432'\u044f\u0437\u043a\u0443 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438</li> <li>\u0426\u0456\u043d\u043d\u043e\u0441\u0442\u0456 \u0441\u043f\u0456\u0432\u043f\u0440\u0430\u0446\u0456 \u0437 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u043c \u043a\u043e\u0434\u043e\u043c</li> </ul>"},{"location":"uk/about-translation/#technical-details","title":"\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0456 \u0434\u0435\u0442\u0430\u043b\u0456 \u0440\u0435\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457","text":""},{"location":"uk/about-translation/#documentation-architecture","title":"\ud83c\udfd7\ufe0f \u0410\u0440\u0445\u0456\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457","text":"<p>\u0426\u0435\u0439 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u0454 \u0441\u0443\u0447\u0430\u0441\u043d\u0456 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457 \u0434\u043b\u044f \u043d\u0430\u0439\u043a\u0440\u0430\u0449\u043e\u0433\u043e \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044c\u043a\u043e\u0433\u043e \u0434\u043e\u0441\u0432\u0456\u0434\u0443:</p> \u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u0447\u043d\u0438\u0439 \u0441\u0442\u0435\u043a\u041a\u043e\u043d\u0432\u0435\u0454\u0440 \u044f\u043a\u043e\u0441\u0442\u0456 <pre><code># \u041a\u043e\u043d\u0432\u0435\u0454\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457\nFramework: MkDocs Material\nLanguage: Python 3.12+\nTranslation: mkdocs-static-i18n\nStyling: Material Design 3\nSearch: \u0411\u0430\u0433\u0430\u0442\u043e\u043c\u043e\u0432\u043d\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430\nAnalytics: \u0412\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f \u0437 \u0444\u043e\u043a\u0443\u0441\u043e\u043c \u043d\u0430 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0456\u0441\u0442\u044c\n</code></pre> <pre><code>graph LR\n    A[\u0420\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0435 \u0434\u0436\u0435\u0440\u0435\u043b\u043e] --&gt; B[\u041f\u0435\u0440\u0435\u043a\u043b\u0430\u0434]\n    B --&gt; C[\u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0438\u0439 \u043e\u0433\u043b\u044f\u0434]\n    C --&gt; D[\u041c\u043e\u0432\u043d\u0438\u0439 \u043e\u0433\u043b\u044f\u0434]\n    D --&gt; E[\u0422\u0435\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u043e\u044e]\n    E --&gt; F[\u041e\u043f\u0443\u0431\u043b\u0456\u043a\u043e\u0432\u0430\u043d\u043e]\n    F --&gt; G[\u0426\u0438\u043a\u043b \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u043e\u0433\u043e \u0437\u0432'\u044f\u0437\u043a\u0443]\n    G --&gt; B</code></pre>"},{"location":"uk/about-translation/#translation-tools","title":"\ud83d\udd27 \u0406\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0438 \u0442\u0430 \u0440\u043e\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443","text":"<p>\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0456\u0457 \u0437\u0430 \u043b\u0430\u0448\u0442\u0443\u043d\u043a\u0430\u043c\u0438</p> <p>\u0423\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u043e\u043c:</p> <ul> <li>\ud83d\udcdd \u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0434\u0436\u0435\u0440\u0435\u043b\u0430: \u0412\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f \u0432\u0435\u0440\u0441\u0456\u0439 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0456 Git</li> <li>\ud83d\udd04 \u041f\u0440\u043e\u0446\u0435\u0441 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0456\u0437\u0430\u0446\u0456\u0457: \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u043e\u0432\u0430\u043d\u0456 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0437 \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u0443</li> <li>\u2705 \u0412\u0430\u043b\u0456\u0434\u0430\u0446\u0456\u044f: \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u043f\u0435\u0440\u0435\u0432\u0456\u0440\u043a\u0430 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u044c \u0442\u0430 \u043a\u043e\u0434\u0443</li> <li>\ud83d\udcca \u0410\u043d\u0430\u043b\u0456\u0442\u0438\u043a\u0430: \u0412\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f \u043f\u043e\u043a\u0440\u0438\u0442\u0442\u044f \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443 (\u0442\u0456\u043b\u044c\u043a\u0438 \u0432\u043d\u0443\u0442\u0440\u0456\u0448\u043d\u0456 \u043c\u0435\u0442\u0440\u0438\u043a\u0438)</li> </ul>"},{"location":"uk/about-translation/#privacy","title":"\ud83d\udd12 \u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0456\u0441\u0442\u044c \u0442\u0430 \u0437\u0430\u0445\u0438\u0441\u0442 \u0434\u0430\u043d\u0438\u0445","text":"<p>\u0412\u0430\u0448\u0430 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0456\u0441\u0442\u044c \u0437\u0430\u0445\u0438\u0449\u0435\u043d\u0430</p> <p>\ud83d\udee1\ufe0f \u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043d\u0443\u043b\u044c\u043e\u0432\u043e\u0433\u043e \u0437\u0431\u043e\u0440\u0443 \u0434\u0430\u043d\u0438\u0445:</p> <ul> <li>\u274c \u041d\u0435\u043c\u0430\u0454 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0445 \u0434\u0430\u043d\u0438\u0445: \u041c\u0438 \u043d\u0435 \u0437\u0431\u0438\u0440\u0430\u0454\u043c\u043e, \u043d\u0435 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u0454\u043c\u043e \u0442\u0430 \u043d\u0435 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0443\u0454\u043c\u043e \u0436\u043e\u0434\u043d\u043e\u0457 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u043e\u0457 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457</li> <li>\u274c \u041d\u0435\u043c\u0430\u0454 \u0430\u043d\u0430\u043b\u0456\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f: \u041d\u0435\u043c\u0430\u0454 Google Analytics, Facebook Pixel \u0430\u0431\u043e \u043f\u043e\u0434\u0456\u0431\u043d\u0438\u0445 \u0456\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0456\u0432</li> <li>\u274c \u041d\u0435\u043c\u0430\u0454 cookies: \u041d\u0435\u043c\u0430\u0454 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0443\u044e\u0447\u0438\u0445 \u0444\u0430\u0439\u043b\u0456\u0432 cookie \u0430\u0431\u043e \u0456\u0434\u0435\u043d\u0442\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u0457 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432</li> <li>\u274c \u041d\u0435\u043c\u0430\u0454 \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457: \u041d\u0435 \u043f\u043e\u0442\u0440\u0456\u0431\u043d\u0456 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0456 \u0437\u0430\u043f\u0438\u0441\u0438, \u0432\u0445\u043e\u0434\u0438 \u0430\u0431\u043e \u043f\u0440\u043e\u0444\u0456\u043b\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432</li> </ul> <p>\u2705 \u0429\u043e \u043c\u0438 \u0440\u043e\u0431\u0438\u043c\u043e:</p> <ul> <li>\ud83d\udcd6 \u041d\u0430\u0434\u0430\u0454\u043c\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u044e: \u0422\u0456\u043b\u044c\u043a\u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0443</li> <li>\ud83d\udd0d \u0417\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u0454\u043c\u043e \u043f\u043e\u0448\u0443\u043a: \u0424\u0443\u043d\u043a\u0446\u0456\u044f \u043f\u043e\u0448\u0443\u043a\u0443 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0456 \u043a\u043b\u0456\u0454\u043d\u0442\u0430</li> <li>\ud83c\udf10 \u041f\u0435\u0440\u0435\u043c\u0438\u043a\u0430\u043d\u043d\u044f \u043c\u043e\u0432\u0438: \u0422\u0456\u043b\u044c\u043a\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0456 \u043d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430</li> <li>\ud83d\udcf1 \u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u0438\u0439 \u0434\u0438\u0437\u0430\u0439\u043d: \u0410\u0434\u0430\u043f\u0442\u0430\u0446\u0456\u044f \u043f\u0440\u0438\u0441\u0442\u0440\u043e\u0457\u0432 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0456 CSS</li> </ul> <p>\ud83d\udd0d \u0422\u0435\u0445\u043d\u0456\u0447\u043d\u0456 \u0434\u0435\u0442\u0430\u043b\u0456: </p><pre><code># \u041d\u0430\u0448 \u043f\u0456\u0434\u0445\u0456\u0434 \u0437 \u0444\u043e\u043a\u0443\u0441\u043e\u043c \u043d\u0430 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0456\u0441\u0442\u044c\nAnalytics: \u041d\u0435\u043c\u0430\u0454\nTracking: \u0412\u0438\u043c\u043a\u043d\u0435\u043d\u043e\nCookies: \u041d\u0435\u043c\u0430\u0454\nUser Data: \u041d\u0435 \u0437\u0431\u0438\u0440\u0430\u044e\u0442\u044c\u0441\u044f\nServer Logs: \u0422\u0456\u043b\u044c\u043a\u0438 \u0431\u0430\u0437\u043e\u0432\u0456 \u043b\u043e\u0433\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0443 (IP \u0430\u043d\u043e\u043d\u0456\u043c\u0456\u0437\u043e\u0432\u0430\u043d\u043e)\nThird Party: \u041d\u0435\u043c\u0430\u0454 \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u0456\u0445 \u0441\u0435\u0440\u0432\u0456\u0441\u0456\u0432 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f\n</code></pre>"},{"location":"uk/about-translation/#i18n-features","title":"\ud83c\udf10 \u0424\u0443\u043d\u043a\u0446\u0456\u0457 \u0456\u043d\u0442\u0435\u0440\u043d\u0430\u0446\u0456\u043e\u043d\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u0457","text":"<ul> <li>\ud83d\udd24 \u0411\u0430\u0433\u0430\u0442\u043e\u043c\u043e\u0432\u043d\u0430 \u043d\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u044f: \u0411\u0435\u0437\u043f\u0435\u0440\u0435\u0448\u043a\u043e\u0434\u043d\u0435 \u043f\u0435\u0440\u0435\u043c\u0438\u043a\u0430\u043d\u043d\u044f \u043c\u043e\u0432</li> <li>\ud83d\udd0d \u041b\u043e\u043a\u0430\u043b\u0456\u0437\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u043e\u0448\u0443\u043a: \u041f\u043e\u0448\u0443\u043a \u043f\u0440\u0430\u0446\u044e\u0454 \u0432\u0441\u0456\u043c\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0432\u0430\u043d\u0438\u043c\u0438 \u043c\u043e\u0432\u0430\u043c\u0438 (\u0442\u0456\u043b\u044c\u043a\u0438 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0456 \u043a\u043b\u0456\u0454\u043d\u0442\u0430)</li> <li>\ud83d\udcf1 \u041f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 RTL: \u0413\u043e\u0442\u043e\u0432\u043d\u0456\u0441\u0442\u044c \u0434\u043e \u043c\u0430\u0439\u0431\u0443\u0442\u043d\u0456\u0445 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0456\u0432 \u0430\u0440\u0430\u0431\u0441\u044c\u043a\u043e\u044e/\u0456\u0432\u0440\u0438\u0442\u043e\u043c</li> <li>\ud83c\udf0d \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 URL: SEO-\u0434\u0440\u0443\u0436\u043d\u0456 \u0431\u0430\u0433\u0430\u0442\u043e\u043c\u043e\u0432\u043d\u0456 URL</li> <li>\ud83d\udd12 \u041f\u0440\u0438\u0432\u0430\u0442\u043d\u0456\u0441\u0442\u044c \u043f\u043e\u043d\u0430\u0434 \u0443\u0441\u0435: \u041d\u0435\u043c\u0430\u0454 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0456\u0432 \u0430\u0431\u043e \u0437\u0431\u043e\u0440\u0443 \u0434\u0430\u043d\u0438\u0445</li> </ul>"},{"location":"uk/about-translation/#acknowledgments","title":"\u041f\u043e\u0434\u044f\u043a\u0438 \u0442\u0430 \u043a\u0440\u0435\u0434\u0438\u0442\u0438","text":""},{"location":"uk/about-translation/#special-thanks","title":"\ud83d\ude4f \u041e\u0441\u043e\u0431\u043b\u0438\u0432\u0430 \u043f\u043e\u0434\u044f\u043a\u0430","text":"<p>\u0421\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0430, \u044f\u043a\u0430 \u0446\u0435 \u0440\u043e\u0431\u0438\u0442\u044c \u043c\u043e\u0436\u043b\u0438\u0432\u0438\u043c</p> <p>\u0426\u0435\u0439 \u043f\u0440\u043e\u0454\u043a\u0442 \u0456\u0441\u043d\u0443\u0454 \u0437\u0430\u0432\u0434\u044f\u043a\u0438 \u043d\u0435\u0439\u043c\u043e\u0432\u0456\u0440\u043d\u0456\u0439 \u0449\u0435\u0434\u0440\u043e\u0441\u0442\u0456 \u0442\u0430 \u0441\u043f\u0456\u0432\u043f\u0440\u0430\u0446\u0456 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432. \u041a\u043e\u0436\u0435\u043d \u0432\u043d\u0435\u0441\u043e\u043a, \u0432\u0456\u0434 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u0434\u0440\u0443\u043a\u0430\u0440\u0441\u044c\u043a\u0456 \u043f\u043e\u043c\u0438\u043b\u043a\u0438 \u0434\u043e \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u0439 \u0441\u0435\u0440\u0439\u043e\u0437\u043d\u0438\u0445 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u044c, \u0434\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u0454 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0446\u0435\u0439 \u0440\u0435\u0441\u0443\u0440\u0441 \u043a\u0440\u0430\u0449\u0438\u043c \u0434\u043b\u044f \u0432\u0441\u0456\u0445.</p> \ud83c\udfc6 \u041e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u0456 \u0442\u0432\u043e\u0440\u0446\u0456\ud83d\udc65 \u0413\u0435\u0440\u043e\u0457 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438\ud83d\udd2e \u041c\u0430\u0439\u0431\u0443\u0442\u043d\u0456 \u043a\u043e\u043d\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0440\u0438 <p>Groosha - \u041e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u0438\u0439 \u0430\u0432\u0442\u043e\u0440</p> <ul> <li>\ud83d\udcda \u0421\u0442\u0432\u043e\u0440\u0438\u0432 \u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u0438\u0439 \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0438\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u0437 aiogram</li> <li>\ud83c\udfaf \u0412\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0432 \u0437\u043e\u043b\u043e\u0442\u0438\u0439 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442 \u0442\u0435\u0445\u043d\u0456\u0447\u043d\u043e\u0457 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457</li> <li>\ud83e\udd1d \u041b\u044e\u0431'\u044f\u0437\u043d\u043e \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0430\u0432 \u0446\u0435\u0439 \u043f\u0440\u043e\u0454\u043a\u0442 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443</li> <li>\ud83d\udca1 \u041f\u0440\u043e\u0434\u043e\u0432\u0436\u0443\u0454 \u043e\u043d\u043e\u0432\u043b\u044e\u0432\u0430\u0442\u0438 \u0442\u0430 \u043f\u043e\u043a\u0440\u0430\u0449\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u0445\u0456\u0434\u043d\u0438\u0439 \u043c\u0430\u0442\u0435\u0440\u0456\u0430\u043b</li> </ul> <p>Alex JRootJunior - \u0422\u0432\u043e\u0440\u0435\u0446\u044c aiogram</p> <ul> <li>\ud83d\ude80 \u0421\u0442\u0432\u043e\u0440\u0438\u0432 \u0434\u0438\u0432\u043e\u0432\u0438\u0436\u043d\u0438\u0439 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a aiogram</li> <li>\ud83d\udd27 \u0417\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u0454 \u043f\u043e\u0441\u0442\u0456\u0439\u043d\u0443 \u0440\u043e\u0437\u0440\u043e\u0431\u043a\u0443 \u0442\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0443</li> <li>\ud83d\udc65 \u041f\u0456\u0434\u0442\u0440\u0438\u043c\u0443\u0454 \u0456\u043d\u043a\u043b\u044e\u0437\u0438\u0432\u043d\u0443, \u043f\u0440\u0438\u0432\u0456\u0442\u043d\u0443 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0443</li> <li>\ud83d\udcd6 \u0420\u043e\u0431\u0438\u0442\u044c \u0440\u043e\u0437\u0440\u043e\u0431\u043a\u0443 Telegram-\u0431\u043e\u0442\u0456\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u044e \u0434\u043b\u044f \u0432\u0441\u0456\u0445</li> </ul> <p>\u0421\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0430 aiogram</p> <ul> <li>\ud83d\udcac \u0423\u0447\u0430\u0441\u043d\u0438\u043a\u0438 \u0447\u0430\u0442\u0443 Telegram: \u0429\u043e\u0434\u0435\u043d\u043d\u0430 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u0442\u0430 \u043e\u0431\u043c\u0456\u043d \u0437\u043d\u0430\u043d\u043d\u044f\u043c\u0438</li> <li>\ud83d\udc1b \u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0438: \u0414\u043e\u043f\u043e\u043c\u043e\u0433\u0430 \u0443 \u0448\u0432\u0438\u0434\u043a\u043e\u043c\u0443 \u0432\u0438\u044f\u0432\u043b\u0435\u043d\u043d\u0456 \u0442\u0430 \u0432\u0438\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u0456 \u043f\u0440\u043e\u0431\u043b\u0435\u043c</li> <li>\ud83d\udcdd \u041a\u043e\u043d\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0440\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457: \u041f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f \u043f\u0440\u0438\u043a\u043b\u0430\u0434\u0456\u0432 \u0442\u0430 \u043f\u043e\u044f\u0441\u043d\u0435\u043d\u044c</li> <li>\ud83e\uddea \u0411\u0435\u0442\u0430-\u0442\u0435\u0441\u0442\u0435\u0440\u0438: \u0412\u0430\u043b\u0456\u0434\u0430\u0446\u0456\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0443 \u043f\u0435\u0440\u0435\u0434 \u0432\u0438\u043f\u0443\u0441\u043a\u043e\u043c</li> <li>\ud83c\udf0d \u041c\u0456\u0436\u043d\u0430\u0440\u043e\u0434\u043d\u0456 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0438: \u041e\u0431'\u0454\u0434\u043d\u0430\u043d\u043d\u044f \u0440\u0456\u0437\u043d\u0438\u0445 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432</li> </ul> <p>\u0415\u043a\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u043e\u0433\u043e \u043a\u043e\u0434\u0443</p> <ul> <li>\ud83d\udee0\ufe0f \u041a\u043e\u043c\u0430\u043d\u0434\u0430 MkDocs: \u0412\u0456\u0434\u043c\u0456\u043d\u043d\u0438\u0439 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457</li> <li>\ud83c\udfa8 \u041a\u043e\u043c\u0430\u043d\u0434\u0430 Material Design: \u041f\u0440\u0435\u043a\u0440\u0430\u0441\u043d\u0456, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0442\u0435\u043c\u0438</li> <li>\ud83d\udc0d \u0421\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0430 Python: \u0424\u0443\u043d\u0434\u0430\u043c\u0435\u043d\u0442, \u044f\u043a\u0438\u0439 \u0440\u043e\u0431\u0438\u0442\u044c \u0432\u0441\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u0438\u043c</li> </ul> <p>\u0412\u0438! - \u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0438\u0439 \u0440\u043e\u0437\u0434\u0456\u043b</p> <p>\u041c\u0430\u0439\u0431\u0443\u0442\u043d\u0454 \u0446\u044c\u043e\u0433\u043e \u043f\u0440\u043e\u0454\u043a\u0442\u0443 \u0437\u0430\u043b\u0435\u0436\u0438\u0442\u044c \u0432\u0456\u0434 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432, \u0442\u0430\u043a\u0438\u0445 \u044f\u043a \u0432\u0438, \u044f\u043a\u0456:</p> <ul> <li>\ud83d\udcd6 \u0412\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u043e\u0432\u0443\u044e\u0442\u044c \u0446\u0435\u0439 \u043f\u043e\u0441\u0456\u0431\u043d\u0438\u043a \u0434\u043b\u044f \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043d\u044f \u0434\u0438\u0432\u043e\u0432\u0438\u0436\u043d\u0438\u0445 \u0431\u043e\u0442\u0456\u0432</li> <li>\ud83d\udd04 \u0414\u0456\u043b\u044f\u0442\u044c\u0441\u044f \u0437\u0432\u043e\u0440\u043e\u0442\u043d\u0438\u043c \u0437\u0432'\u044f\u0437\u043a\u043e\u043c \u0442\u0430 \u043f\u0440\u043e\u043f\u043e\u0437\u0438\u0446\u0456\u044f\u043c\u0438</li> <li>\ud83e\udd1d \u0414\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u044e\u0442\u044c \u0456\u043d\u0448\u0438\u043c \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430\u043c \u0443 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0456</li> <li>\ud83c\udf31 \u0421\u043f\u0440\u0438\u044f\u044e\u0442\u044c \u0437\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044e \u0435\u043a\u043e\u0441\u0438\u0441\u0442\u0435\u043c\u0438</li> </ul>"},{"location":"uk/about-translation/#impact-metrics","title":"\ud83c\udfaf \u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u0432\u043f\u043b\u0438\u0432\u0443","text":"<p>\u0412\u043f\u043b\u0438\u0432 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438</p> <p>\u0427\u043e\u0433\u043e \u043c\u0438 \u0434\u043e\u0441\u044f\u0433\u043b\u0438 \u0440\u0430\u0437\u043e\u043c:</p> <ul> <li>\ud83c\udf0d \u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0438\u0439 \u043e\u0445\u0432\u0430\u0442: \u0417\u0440\u043e\u0431\u0438\u043b\u0438 aiogram \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u043c \u0434\u043b\u044f 40+ \u043c\u0456\u043b\u044c\u0439\u043e\u043d\u0456\u0432 \u0443\u043a\u0440\u0430\u0457\u043d\u043e\u043c\u043e\u0432\u043d\u0438\u0445</li> <li>\ud83d\udcc8 \u0417\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432: \u0414\u043e\u043f\u043e\u043c\u043e\u0433\u043b\u0438 200+ \u043d\u043e\u0432\u0438\u043c \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430\u043c \u043f\u043e\u0447\u0430\u0442\u0438 \u0437 aiogram</li> <li>\ud83d\udd17 \u041c\u0456\u0441\u0442 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438: \u041e\u0431'\u0454\u0434\u043d\u0430\u043b\u0438 \u0440\u043e\u0441\u0456\u0439\u0441\u044c\u043a\u0443 \u0442\u0430 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0443 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0438 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432</li> <li>\ud83d\udcda \u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f \u0437\u043d\u0430\u043d\u044c: \u0417\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0438\u043b\u0438 \u0432\u0438\u0436\u0438\u0432\u0430\u043d\u043d\u044f \u0442\u0430 \u043f\u0440\u043e\u0446\u0432\u0456\u0442\u0430\u043d\u043d\u044f \u0432\u0456\u0434\u043c\u0456\u043d\u043d\u043e\u0457 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457</li> <li>\ud83d\udca1 \u041a\u0430\u0442\u0430\u043b\u0456\u0437\u0430\u0442\u043e\u0440 \u0456\u043d\u043d\u043e\u0432\u0430\u0446\u0456\u0439: \u041d\u0430\u0434\u0438\u0445\u043d\u0443\u043b\u0438 \u043f\u043e\u0434\u0456\u0431\u043d\u0456 \u043f\u0440\u043e\u0454\u043a\u0442\u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443</li> </ul>"},{"location":"uk/about-translation/#support-project","title":"\ud83d\udc9d \u041f\u0456\u0434\u0442\u0440\u0438\u043c\u043a\u0430 \u043f\u0440\u043e\u0454\u043a\u0442\u0443","text":"<p>\u0426\u0435\u0439 \u043f\u0440\u043e\u0454\u043a\u0442 \u043f\u043e\u0432\u043d\u0456\u0441\u0442\u044e \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0438\u0439 \u0456 \u043f\u043e\u0432\u0430\u0436\u0430\u0454 \u0432\u0430\u0448\u0443 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0456\u0441\u0442\u044c, \u0430\u043b\u0435 \u0432\u0438 \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0456\u0434\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0439\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0443\u0449\u0438\u043c\u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438:</p> <ul> <li>\u2b50 \u0417\u0456\u0440\u043a\u0438 GitHub: \u0414\u043e\u043f\u043e\u043c\u043e\u0433\u0442\u0438 \u0456\u043d\u0448\u0438\u043c \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u0438 \u043f\u0440\u043e\u0454\u043a\u0442</li> <li>\ud83d\udc26 \u0421\u043e\u0446\u0456\u0430\u043b\u044c\u043d\u0456 \u043c\u0435\u0440\u0435\u0436\u0456: \u041f\u043e\u0448\u0438\u0440\u044e\u0432\u0430\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e \u043f\u0440\u043e \u0440\u0435\u0441\u0443\u0440\u0441</li> <li>\ud83d\udcac \u0423\u0447\u0430\u0441\u0442\u044c \u0443 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u0456: \u0411\u0443\u0442\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u0438\u043c \u0432 \u043e\u0431\u0433\u043e\u0432\u043e\u0440\u0435\u043d\u043d\u044f\u0445 \u0442\u0430 \u0434\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u0442\u0438 \u0456\u043d\u0448\u0438\u043c</li> <li>\ud83d\udd04 \u0417\u0432\u043e\u0440\u043e\u0442\u043d\u0438\u0439 \u0437\u0432'\u044f\u0437\u043e\u043a: \u0412\u0430\u0448\u0456 \u0437\u0432\u0456\u0442\u0438 \u043f\u0440\u043e \u0434\u043e\u0441\u0432\u0456\u0434 \u0434\u043e\u043f\u043e\u043c\u0430\u0433\u0430\u044e\u0442\u044c \u043d\u0430\u043c \u043f\u043e\u043a\u0440\u0430\u0449\u0443\u0432\u0430\u0442\u0438\u0441\u044f</li> <li>\ud83e\udd1d \u0412\u043d\u0435\u0441\u043a\u0438: \u041a\u043e\u0434, \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0430\u0431\u043e \u0456\u0434\u0435\u0457 \u2014 \u0432\u0441\u0435 \u0432\u0456\u0442\u0430\u0454\u0442\u044c\u0441\u044f!</li> </ul> <p>\u0424\u0456\u043b\u043e\u0441\u043e\u0444\u0456\u044f \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0456 \u043f\u043e\u043d\u0430\u0434 \u0443\u0441\u0435</p> <p>\ud83d\udee1\ufe0f \u0427\u043e\u043c\u0443 \u043c\u0438 \u0432\u0430\u0441 \u043d\u0435 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0443\u0454\u043c\u043e:</p> <p>\u041c\u0438 \u0432\u0456\u0440\u0438\u043c\u043e, \u0449\u043e \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u044f \u043f\u043e\u0432\u0438\u043d\u043d\u043e \u0431\u0443\u0442\u0438 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u043c \u0456 \u0432\u0456\u043b\u044c\u043d\u0438\u043c \u0432\u0456\u0434 \u0441\u043f\u043e\u0441\u0442\u0435\u0440\u0435\u0436\u0435\u043d\u043d\u044f. \u041e\u0441\u044c \u0447\u043e\u043c\u0443:</p> <ul> <li>\ud83d\udcda \u0424\u043e\u043a\u0443\u0441 \u043d\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0456: \u0412\u0430\u0448\u0430 \u0443\u0432\u0430\u0433\u0430 \u043f\u043e\u0432\u0438\u043d\u043d\u0430 \u0431\u0443\u0442\u0438 \u043d\u0430 \u043d\u0430\u0432\u0447\u0430\u043d\u043d\u0456, \u0430 \u043d\u0435 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0456 \u0447\u0438 \u0441\u043f\u043b\u0438\u0432\u0430\u044e\u0447\u0438\u0445 \u0432\u0456\u043a\u043d\u0430\u0445</li> <li>\ud83d\udd12 \u041f\u043e\u0432\u0430\u0433\u0430 \u0434\u043e \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0456: \u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445 \u043e\u0437\u043d\u0430\u0447\u0430\u0454 \u043d\u0435\u043c\u0430\u0454 \u0432\u0438\u0442\u043e\u043a\u0456\u0432, \u043d\u0435\u043c\u0430\u0454 \u043f\u0440\u043e\u0444\u0456\u043b\u044e\u0432\u0430\u043d\u043d\u044f, \u043d\u0435\u043c\u0430\u0454 \u0442\u0443\u0440\u0431\u043e\u0442</li> <li>\u26a1 \u041a\u0440\u0430\u0449\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c: \u041d\u0435\u043c\u0430\u0454 \u0441\u043a\u0440\u0438\u043f\u0442\u0456\u0432 \u0432\u0456\u0434\u0441\u0442\u0435\u0436\u0435\u043d\u043d\u044f = \u0448\u0432\u0438\u0434\u0448\u0435 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f</li> <li>\ud83c\udf0d \u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456\u0441\u0442\u044c: \u041f\u0440\u0430\u0446\u044e\u0454 \u0432\u0441\u044e\u0434\u0438, \u043d\u0430\u0432\u0456\u0442\u044c \u0443 \u0440\u0435\u0433\u0456\u043e\u043d\u0430\u0445, \u0441\u0432\u0456\u0434\u043e\u043c\u0438\u0445 \u0449\u043e\u0434\u043e \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0456</li> <li>\ud83d\udcab \u0427\u0438\u0441\u0442\u0438\u0439 \u0434\u043e\u0441\u0432\u0456\u0434: \u0422\u0456\u043b\u044c\u043a\u0438 \u0432\u0438 \u0442\u0430 \u0437\u043d\u0430\u043d\u043d\u044f, \u0437\u0430 \u044f\u043a\u0438\u043c\u0438 \u0432\u0438 \u043f\u0440\u0438\u0439\u0448\u043b\u0438</li> </ul> <p>\"\u041d\u0430\u0439\u043a\u0440\u0430\u0449\u0438\u0439 \u0441\u043f\u043e\u0441\u0456\u0431 \u043f\u043e\u0434\u044f\u043a\u0443\u0432\u0430\u0442\u0438 \u043a\u043e\u043c\u0443\u0441\u044c \u0437\u0430 \u0457\u0445\u043d\u044e \u0440\u043e\u0431\u043e\u0442\u0443 \u2014 \u0446\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u0449\u043e\u0441\u044c \u0434\u0438\u0432\u043e\u0432\u0438\u0436\u043d\u0435 \u0437 \u043d\u0435\u044e.\" - \u0410\u043d\u043e\u043d\u0456\u043c\u043d\u0438\u0439 \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a</p>"},{"location":"uk/about-translation/#legal","title":"\u041b\u0456\u0446\u0435\u043d\u0437\u0456\u044f \u0442\u0430 \u043f\u0440\u0430\u0432\u043e\u0432\u0456 \u043f\u0438\u0442\u0430\u043d\u043d\u044f","text":""},{"location":"uk/about-translation/#open-source","title":"\ud83d\udcdc \u0417\u043e\u0431\u043e\u0432'\u044f\u0437\u0430\u043d\u043d\u044f \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u043e\u0433\u043e \u043a\u043e\u0434\u0443","text":"<p>\u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u043e \u0442\u0430 \u0432\u0456\u0434\u043a\u0440\u0438\u0442\u043e \u043d\u0430\u0437\u0430\u0432\u0436\u0434\u0438</p> <p>\u0426\u0435\u0439 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u0437\u0431\u0435\u0440\u0456\u0433\u0430\u0454 \u0442\u0443 \u0436 \u043b\u0456\u0446\u0435\u043d\u0437\u0456\u044e MIT, \u0449\u043e \u0439 \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u0430 \u0440\u043e\u0431\u043e\u0442\u0430, \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0443\u044e\u0447\u0438, \u0449\u043e \u0432\u0456\u043d \u0437\u0430\u043b\u0438\u0448\u0430\u0454\u0442\u044c\u0441\u044f:</p> <ul> <li>\u2705 \u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0438\u043c \u0434\u043b\u044f \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f: \u0414\u043b\u044f \u0431\u0443\u0434\u044c-\u044f\u043a\u0438\u0445 \u0446\u0456\u043b\u0435\u0439, \u043a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0438\u0445 \u0430\u0431\u043e \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u0438\u0445</li> <li>\u2705 \u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0438\u043c \u0434\u043b\u044f \u043c\u043e\u0434\u0438\u0444\u0456\u043a\u0430\u0446\u0456\u0457: \u0410\u0434\u0430\u043f\u0442\u0443\u0432\u0430\u0442\u0438, \u0440\u0435\u043c\u0456\u043a\u0448\u0443\u0432\u0430\u0442\u0438 \u0442\u0430 \u0440\u043e\u0437\u0431\u0443\u0434\u043e\u0432\u0443\u0432\u0430\u0442\u0438</li> <li>\u2705 \u0411\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0438\u043c \u0434\u043b\u044f \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0435\u043d\u043d\u044f: \u041f\u043e\u0434\u0456\u043b\u0438\u0442\u0438\u0441\u044f \u0437 \u043a\u0438\u043c \u0437\u0430\u0432\u0433\u043e\u0434\u043d\u043e, \u0434\u0435 \u0437\u0430\u0432\u0433\u043e\u0434\u043d\u043e</li> <li>\u2705 \u0410\u0442\u0440\u0438\u0431\u0443\u0446\u0456\u044f \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0430: \u041a\u0440\u0435\u0434\u0438\u0442\u0443\u0432\u0430\u0442\u0438 \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u0438\u0445 \u0430\u0432\u0442\u043e\u0440\u0456\u0432</li> </ul>"},{"location":"uk/about-translation/#legal-framework","title":"\u2696\ufe0f \u041f\u0440\u0430\u0432\u043e\u0432\u0430 \u043e\u0441\u043d\u043e\u0432\u0430","text":"<pre><code>MIT License\n\nCopyright (c) 2020-2025 Groosha (\u041e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u0430 \u0440\u043e\u0431\u043e\u0442\u0430)\nCopyright (c) 2024-2025 VAI || Programmer (\u041f\u0435\u0440\u0435\u043a\u043b\u0430\u0434)\n\n\u0414\u043e\u0437\u0432\u0456\u043b \u043d\u0430\u0434\u0430\u0454\u0442\u044c\u0441\u044f \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u043e \u0431\u0443\u0434\u044c-\u044f\u043a\u0456\u0439 \u043e\u0441\u043e\u0431\u0456, \u044f\u043a\u0430 \u043e\u0442\u0440\u0438\u043c\u0443\u0454 \u043a\u043e\u043f\u0456\u044e\n\u0446\u044c\u043e\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0431\u0435\u0437\u043f\u0435\u0447\u0435\u043d\u043d\u044f \u0442\u0430 \u0444\u0430\u0439\u043b\u0456\u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457...\n</code></pre>"},{"location":"uk/about-translation/#content-integrity","title":"\ud83d\udd10 \u0426\u0456\u043b\u0456\u0441\u043d\u0456\u0441\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0443","text":"<ul> <li>\ud83d\udcdd \u0410\u0442\u0440\u0438\u0431\u0443\u0446\u0456\u044f \u0434\u0436\u0435\u0440\u0435\u043b\u0430: \u0412\u0435\u0441\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0447\u0456\u0442\u043a\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432\u0430\u043d\u0438\u0439 \u043e\u0440\u0438\u0433\u0456\u043d\u0430\u043b\u044c\u043d\u0438\u043c \u0430\u0432\u0442\u043e\u0440\u0430\u043c</li> <li>\ud83d\udd04 \u041f\u0440\u0430\u0432\u0430 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434: \u042f\u0432\u043d\u0438\u0439 \u0434\u043e\u0437\u0432\u0456\u043b \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u0442\u0430 \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0435\u043d\u043d\u044f</li> <li>\ud83d\udcbc \u041a\u043e\u043c\u0435\u0440\u0446\u0456\u0439\u043d\u0435 \u0432\u0438\u043a\u043e\u0440\u0438\u0441\u0442\u0430\u043d\u043d\u044f: \u0414\u043e\u0437\u0432\u043e\u043b\u0435\u043d\u043e \u0437\u0433\u0456\u0434\u043d\u043e \u0437 \u0443\u043c\u043e\u0432\u0430\u043c\u0438 \u043b\u0456\u0446\u0435\u043d\u0437\u0456\u0457 MIT</li> <li>\ud83c\udf0d \u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0435 \u0440\u043e\u0437\u043f\u043e\u0432\u0441\u044e\u0434\u0436\u0435\u043d\u043d\u044f: \u041d\u0435\u043c\u0430\u0454 \u0433\u0435\u043e\u0433\u0440\u0430\u0444\u0456\u0447\u043d\u0438\u0445 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u044c</li> <li>\ud83d\udd12 \u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0434\u043d\u0456\u0441\u0442\u044c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0456: \u0414\u0440\u0443\u0436\u043d\u0456\u0439 \u0434\u043e GDPR, CCPA \u0442\u0430 \u043c\u0456\u0436\u043d\u0430\u0440\u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0440\u0430\u0432\u0430 \u043f\u0440\u043e \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0456\u0441\u0442\u044c</li> </ul>"},{"location":"uk/about-translation/#trust-transparency","title":"\ud83d\udee1\ufe0f \u0414\u043e\u0432\u0456\u0440\u0430 \u0442\u0430 \u043f\u0440\u043e\u0437\u043e\u0440\u0456\u0441\u0442\u044c","text":"<p>\u041d\u0430\u0448\u0456 \u0437\u043e\u0431\u043e\u0432'\u044f\u0437\u0430\u043d\u043d\u044f \u043f\u0435\u0440\u0435\u0434 \u0432\u0430\u043c\u0438</p> <p>\u041f\u043e\u0432\u043d\u0430 \u043f\u0440\u043e\u0437\u043e\u0440\u0456\u0441\u0442\u044c:</p> <ul> <li>\ud83d\udcd6 \u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438\u0439 \u043a\u043e\u0434: \u0412\u0435\u0441\u044c \u043a\u043e\u0434 \u0442\u0430 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043f\u0443\u0431\u043b\u0456\u0447\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456</li> <li>\ud83d\udd0d \u041d\u0435\u043c\u0430\u0454 \u043f\u0440\u0438\u0445\u043e\u0432\u0430\u043d\u043e\u0457 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0438: \u0429\u043e \u0432\u0438 \u0431\u0430\u0447\u0438\u0442\u0435, \u0442\u0435 \u0439 \u043e\u0442\u0440\u0438\u043c\u0443\u0454\u0442\u0435</li> <li>\ud83d\udcb0 \u041d\u0435\u043c\u0430\u0454 \u043c\u043e\u043d\u0435\u0442\u0438\u0437\u0430\u0446\u0456\u0457: \u041d\u0435\u043c\u0430\u0454 \u0440\u0435\u043a\u043b\u0430\u043c\u0438, \u043d\u0435\u043c\u0430\u0454 \u043f\u0440\u0435\u043c\u0456\u0443\u043c-\u0440\u0456\u0432\u043d\u0456\u0432, \u043d\u0435\u043c\u0430\u0454 \u043f\u043b\u0430\u0442\u043d\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0456\u0439</li> <li>\ud83d\udeab \u041d\u0435\u043c\u0430\u0454 \u0432\u0438\u0434\u043e\u0431\u0443\u0442\u043a\u0443 \u0434\u0430\u043d\u0438\u0445: \u0412\u0430\u0448\u0456 \u0437\u0432\u0438\u0447\u043a\u0438 \u0447\u0438\u0442\u0430\u043d\u043d\u044f \u0437\u0430\u043b\u0438\u0448\u0430\u044e\u0442\u044c\u0441\u044f \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u0438\u043c\u0438</li> <li>\u26a1 \u041d\u0435\u043c\u0430\u0454 \u0437\u0430\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0435\u0439: \u041f\u0440\u0430\u0446\u044e\u0454 \u043e\u0444\u043b\u0430\u0439\u043d, \u043d\u0435\u043c\u0430\u0454 \u0437\u043e\u0432\u043d\u0456\u0448\u043d\u0456\u0445 \u0441\u0435\u0440\u0432\u0456\u0441\u0456\u0432</li> </ul> <p>\u042f\u043a \u043c\u0438 \u043f\u0440\u0430\u0446\u044e\u0454\u043c\u043e: </p><pre><code>Revenue Model: \u041d\u0435\u043c\u0430\u0454 (\u043f\u0440\u043e\u0454\u043a\u0442 \u0437 \u043f\u0440\u0438\u0441\u0442\u0440\u0430\u0441\u0442\u0456)\nData Collection: \u041d\u0443\u043b\u044c\nExternal Dependencies: \u041c\u0456\u043d\u0456\u043c\u0430\u043b\u044c\u043d\u0456 (\u0442\u0456\u043b\u044c\u043a\u0438 \u0434\u043b\u044f \u0448\u0440\u0438\u0444\u0442\u0456\u0432/\u0456\u043a\u043e\u043d\u043e\u043a)\nHosting: \u0422\u0456\u043b\u044c\u043a\u0438 \u0441\u0442\u0430\u0442\u0438\u0447\u043d\u0456 \u0444\u0430\u0439\u043b\u0438\nUpdates: \u041a\u0435\u0440\u043e\u0432\u0430\u043d\u0456 \u0441\u043f\u0456\u043b\u044c\u043d\u043e\u0442\u043e\u044e\nDecisions: \u041f\u0440\u043e\u0437\u043e\u0440\u0456 \u043d\u0430 GitHub\n</code></pre> <p>\u041e\u0441\u0442\u0430\u043d\u043d\u0454 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f: \u041b\u0438\u043f\u0435\u043d\u044c 2025 | \u041f\u0440\u043e\u0433\u0440\u0435\u0441 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434\u0443: 35% \u0432\u0438\u043a\u043e\u043d\u0430\u043d\u043e | \u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0435 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f: \u0421\u0435\u0440\u043f\u0435\u043d\u044c 2025</p> \u0421\u0442\u0432\u043e\u0440\u0435\u043d\u043e \u0437 \u2764\ufe0f \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0430\u043c\u0438, \u0434\u043b\u044f \u0440\u043e\u0437\u0440\u043e\u0431\u043d\u0438\u043a\u0456\u0432 \u0420\u043e\u0431\u043b\u044f\u0447\u0438 \u0437\u043d\u0430\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0438\u043c\u0438, \u043e\u0434\u0438\u043d \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0434 \u0437\u0430 \u0440\u0430\u0437"}]}